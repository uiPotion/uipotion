{
  "$schema": "https://uipotion.com/schema/potion.json",
  "id": "dashboard-layout",
  "version": "1.0.0",
  "name": "Dashboard Layout with Collapsible Sidebar",
  "category": "layouts",
  "tags": ["dashboard", "sidebar", "responsive", "admin"],
  "description": "A responsive admin dashboard layout with collapsible sidebar navigation, fixed header, and fixed footer. Perfect for admin panels, SaaS applications, and data-driven interfaces.",
  
  "aiAgentInstructions": {
    "summary": "Implement a four-section dashboard layout (sidebar, header, content, footer) with collapsible sidebar functionality. The layout is framework-agnostic and should adapt to the user's chosen stack (React, Vue, Angular, Svelte, etc.) and styling approach (Tailwind, CSS Modules, Chakra UI, Material-UI, etc.).",
    
    "keyFeatures": [
      "Fixed collapsible sidebar (280px expanded, 80px collapsed)",
      "Fixed header that adjusts to sidebar state (64px height)",
      "Fixed footer that adjusts to sidebar state (60px height)",
      "Scrollable main content area with smooth transitions",
      "Content area accounts for header and footer spacing",
      "Mobile-responsive with overlay sidebar",
      "State persistence in localStorage",
      "Full keyboard accessibility with ARIA labels",
      "Smooth 300ms animations"
    ],
    
    "implementationSteps": [
      "1. Create four main layout components: Sidebar, Header, Footer, and MainContent",
      "2. Implement state management for sidebar collapse/expand",
      "3. Add localStorage persistence for sidebar state",
      "4. Implement mobile-responsive behavior with overlay mode",
      "5. Position header and footer as fixed elements (top and bottom)",
      "6. Adjust header and footer left position based on sidebar state",
      "7. Add margin-top and margin-bottom to content area for header/footer spacing",
      "8. Add smooth CSS transitions (300ms) for all state changes",
      "9. Implement keyboard navigation and ARIA attributes",
      "10. Style according to user's chosen CSS framework/methodology"
    ]
  },
  
  "structure": {
    "hierarchy": {
      "AppContainer": {
        "description": "Root container, full viewport height",
        "children": {
          "Sidebar": {
            "description": "Fixed sidebar, left-aligned, collapsible",
            "children": ["LogoSection", "NavigationMenu", "CollapseToggle"]
          },
          "MainContentWrapper": {
            "description": "Container for header and content",
            "children": {
              "Header": {
                "description": "Fixed header, spans content area width",
                "children": ["MenuToggle", "TitleBreadcrumbs", "UserActions"]
              },
              "ContentArea": {
                "description": "Scrollable main content",
                "children": ["PageContent"]
              }
            }
          },
          "Footer": {
            "description": "Fixed footer, spans content area width, always at bottom",
            "children": ["Copyright", "FooterNavigation"]
          }
        }
      }
    }
  },
  
  "components": {
    "Sidebar": {
      "description": "Fixed navigation sidebar with collapsible functionality",
      "dimensions": {
        "desktopExpanded": "240-280px",
        "desktopCollapsed": "64-80px",
        "mobile": "full screen overlay or hidden"
      },
      "states": ["expanded", "collapsed", "hidden", "overlay"],
      "elements": {
        "LogoSection": {
          "height": "64px",
          "content": "Logo image/text + app name",
          "collapsedBehavior": "Show only logo icon"
        },
        "NavigationItems": {
          "height": "44-48px each",
          "padding": "12-16px horizontal, 12px vertical",
          "iconSize": "20-24px",
          "fontSize": "14-16px",
          "gap": "12-16px between icon and text",
          "activeIndicator": "Background color or left border (3-4px)",
          "hoverState": "Subtle background color change",
          "collapsedState": {
            "display": "Center icon only",
            "tooltip": {
              "trigger": "hover",
              "position": "right",
              "delay": "200ms",
              "fallback": "Use aria-label or sr-only text for accessibility if tooltip library not available"
            }
          },
          "scrollbar": {
            "style": "Custom thin scrollbar for better aesthetics when many items",
            "width": "6px",
            "color": "rgba(255, 255, 255, 0.2) for dark sidebar, rgba(0, 0, 0, 0.2) for light sidebar"
          }
        },
        "CollapseToggle": {
          "position": "Bottom of sidebar or after nav items",
          "size": "40px x 40px",
          "icon": "Chevron or arrows indicating direction",
          "behavior": "Rotates/changes icon on state change"
        }
      },
      "behavior": {
        "persistence": "Store state in localStorage",
        "animation": "200-300ms ease-in-out transition",
        "mobile": {
          "overlay": "Overlay with backdrop, dismissible",
          "backdropClick": "Close sidebar when backdrop is clicked, prevent event bubbling",
          "preventBodyScroll": "Lock body scroll when sidebar is open (document.body.style.overflow = 'hidden'), restore on close"
        },
        "accessibility": "Tab navigation, Enter/Space to activate"
      }
    },
    
    "Header": {
      "description": "Fixed header bar spanning content area",
      "dimensions": {
        "height": "64px",
        "width": "100% of content area",
        "widthCalculation": "calc(100% - sidebar-width) or use CSS Grid/Flexbox approach",
        "position": "fixed or sticky"
      },
      "layout": "[MenuToggle] [Title/Breadcrumbs] [spacer] [Notifications] [UserMenu]",
      "elements": {
        "MenuToggle": {
          "size": "40px x 40px",
          "icon": "Hamburger (â˜°) or close (Ã—)",
          "visibility": "Hidden on desktop (â‰¥1024px), visible on mobile",
          "position": "Left-most"
        },
        "TitleBreadcrumbs": {
          "fontSize": "20-24px (title) or 14-16px (breadcrumbs)",
          "behavior": "Truncate with ellipsis if too long"
        },
        "NotificationsButton": {
          "size": "40px x 40px",
          "badge": "Red dot or count for unread",
          "action": "Opens dropdown/modal"
        },
        "UserMenu": {
          "avatar": "36px circle",
          "username": "14px, optional on small screens",
          "dropdown": ["Profile", "Settings", "Logout"]
        }
      },
      "behavior": {
        "position": "Fixed at top during scroll",
        "shadow": "Shadow or border-bottom for depth",
        "dropdowns": "Close on outside click or Escape key",
        "accessibility": "Full keyboard navigation"
      }
    },
    
    "ContentArea": {
      "description": "Main scrollable content area",
      "dimensions": {
        "padding": "24-32px on all sides",
        "maxWidth": "Optional (e.g., 1400px)",
        "minHeight": "Fill available viewport minus header and footer"
      },
      "behavior": {
        "overflow": "overflow-y: auto, overflow-x: hidden",
        "marginTop": "Header height (64px)",
        "marginBottom": "Footer height (60px)",
        "marginLeft": "Sidebar width (dynamic based on state)",
        "transition": "Smooth transition when sidebar toggles",
        "responsive": "Reduced padding on mobile (16px)"
      }
    },
    
    "Footer": {
      "description": "Fixed footer bar at bottom of viewport",
      "dimensions": {
        "height": "60px",
        "width": "100% of content area",
        "widthCalculation": "calc(100% - sidebar-width) or use CSS Grid/Flexbox approach",
        "position": "fixed at bottom"
      },
      "layout": "[Copyright] [spacer] [FooterNavigation]",
      "elements": {
        "Copyright": {
          "fontSize": "14px",
          "content": "Â© [Year] [AppName]. All rights reserved."
        },
        "FooterNavigation": {
          "links": ["Privacy", "Terms", "Support"],
          "fontSize": "14px",
          "gap": "24px between links"
        }
      },
      "behavior": {
        "position": "Fixed at bottom, always visible even with no content",
        "leftPosition": "Adjusts based on sidebar state (280px expanded, 80px collapsed on desktop)",
        "mobile": "Full width (left: 0) on mobile/tablet",
        "shadow": "Box shadow on top edge for depth",
        "border": "Border-top for separation",
        "transition": "Smooth 300ms transition when sidebar toggles",
        "zIndex": "999 (same as header)"
      }
    }
  },
  
  "responsiveBreakpoints": {
    "desktop": {
      "minWidth": "1024px",
      "sidebar": "Visible, expanded by default",
      "header": "Full width minus sidebar, left: 280px (80px when collapsed)",
      "footer": "Full width minus sidebar, left: 280px (80px when collapsed)",
      "content": "Fills remaining space between header and footer",
      "menuToggle": "Hidden"
    },
    "tablet": {
      "minWidth": "768px",
      "maxWidth": "1023px",
      "sidebar": "Collapsed by default or overlay mode",
      "header": "Full width (left: 0)",
      "footer": "Full width (left: 0)",
      "content": "Full width",
      "menuToggle": "Visible"
    },
    "mobile": {
      "maxWidth": "767px",
      "sidebar": "Hidden by default, fullscreen overlay when open",
      "header": "Full width, compact mode (left: 0)",
      "footer": "Full width, compact mode (left: 0)",
      "content": "Full width, reduced padding (16px)",
      "menuToggle": "Visible",
      "userMenu": "Simplified (avatar only)"
    },
    "resizeHandling": {
      "debounce": "300ms recommended",
      "behavior": "Re-evaluate breakpoint on resize, close mobile sidebar if switching to desktop",
      "implementation": "Add window resize listener with debounce, update breakpoint state, handle sidebar state transitions"
    }
  },
  
  "stateManagement": {
    "statesToTrack": {
      "sidebarOpen": {
        "type": "boolean",
        "description": "Whether sidebar is visible (mobile)",
        "default": false,
        "persistence": "component state only"
      },
      "sidebarCollapsed": {
        "type": "boolean",
        "description": "Whether sidebar is in icon-only mode (desktop)",
        "default": false,
        "persistence": "localStorage"
      },
      "activeNavItem": {
        "type": "string",
        "description": "Current active navigation item ID",
        "determination": "Sync with router current route or URL hash, update on navigation",
        "persistence": "sync with router/URL"
      },
      "userMenuOpen": {
        "type": "boolean",
        "description": "User dropdown state",
        "default": false,
        "persistence": "component state only"
      },
      "notificationsOpen": {
        "type": "boolean",
        "description": "Notifications dropdown state",
        "default": false,
        "persistence": "component state only"
      }
    },
    "ssrConsiderations": {
      "localStorage": "Only access localStorage in onMounted/useEffect, check for window object existence",
      "defaultState": "Use false as default for sidebarCollapsed, update after mount to prevent hydration mismatches",
      "implementation": "Check typeof window !== 'undefined' before accessing localStorage, initialize state after component mount"
    }
  },
  
  "frameworkPatterns": {
    "react": {
      "stateManagement": "useState for component state, useEffect for localStorage, Context API or props for sharing state",
      "example": "const [collapsed, setCollapsed] = useState(() => localStorage.getItem('sidebarCollapsed') === 'true');",
      "componentStructure": "<DashboardLayout><Sidebar collapsed={collapsed} onToggle={handleToggle} /><MainContent><Header sidebarCollapsed={collapsed} /><ContentArea>{children}</ContentArea></MainContent><Footer sidebarCollapsed={collapsed} isMobile={isMobile} /></DashboardLayout>"
    },
    "vue": {
      "stateManagement": "ref() or reactive() for state, watch() for localStorage, provide/inject for sharing",
      "example": "const isCollapsed = ref(localStorage.getItem('sidebarCollapsed') === 'true');",
      "componentStructure": "<DashboardLayout><Sidebar :collapsed='isCollapsed' @toggle='handleToggle' /><MainContent><HeaderBar :sidebarCollapsed='isCollapsed' /><ContentArea><slot /></ContentArea></MainContent><Footer :sidebarCollapsed='isCollapsed' :isMobile='isMobile' /></DashboardLayout>"
    },
    "angular": {
      "stateManagement": "Component properties, RxJS BehaviorSubject for shared state, Angular services for persistence",
      "example": "private sidebarCollapsed$ = new BehaviorSubject<boolean>(localStorage.getItem('sidebarCollapsed') === 'true');",
      "componentStructure": "<app-dashboard-layout><app-sidebar [collapsed]='isCollapsed' (toggle)='onToggle()' /><div class='main-content'><app-header [sidebarCollapsed]='isCollapsed' /><main class='content-area'><router-outlet></router-outlet></main></div><app-footer [sidebarCollapsed]='isCollapsed' [isMobile]='isMobile'></app-footer></app-dashboard-layout>"
    },
    "svelte": {
      "stateManagement": "writable stores for state, onMount for localStorage",
      "example": "import { writable } from 'svelte/store'; export const sidebarCollapsed = writable(false);",
      "componentStructure": "<DashboardLayout><Sidebar {collapsed} on:toggle={handleToggle} /><MainContent><Header {sidebarCollapsed} /><ContentArea><slot /></ContentArea></MainContent><Footer {sidebarCollapsed} {isMobile} /></DashboardLayout>"
    }
  },
  
  "stylingApproaches": {
    "note": "These are implementation examples showing how to apply the designSystem specifications above using different styling tools. The designSystem section contains the authoritative design values that should be implemented regardless of styling approach.",
    
    "tailwindCSS": {
      "description": "Use utility classes with dynamic classes based on state. Use arbitrary values for exact pixel values matching designSystem specifications.",
      "sidebarExample": "class='fixed left-0 top-0 h-full w-[280px] bg-gray-900 text-white transition-all duration-300' :class=\"{'w-20': collapsed}\"",
      "contentExample": "class='transition-all duration-300 pt-16 pb-[60px]' :class=\"{'ml-[280px]': !collapsed, 'ml-20': collapsed}\"",
      "headerExample": "class='fixed top-0 h-16 transition-all duration-300' :class=\"{'left-[280px]': !collapsed, 'left-20': collapsed}\"",
      "footerExample": "class='fixed bottom-0 h-[60px] transition-all duration-300' :class=\"{'left-[280px]': !collapsed, 'left-20': collapsed}\"",
      "key": "Use transition utilities and conditional classes. Use arbitrary values [280px] for exact dimensions matching designSystem specifications.",
      "note": "Use arbitrary values like w-[280px] instead of w-64 (256px) to match exact specifications. Use pb-[60px] instead of pb-15 (which doesn't exist in Tailwind). Map designSystem color values to Tailwind color palette or use arbitrary values."
    },
    "cssModules": {
      "description": "Scoped CSS classes with conditional class names. Apply designSystem values directly in CSS.",
      "approach": "Define .sidebar, .sidebar.collapsed classes using designSystem color, spacing, and typography values. Toggle via className logic.",
      "example": ".sidebar { width: 280px; background: #1f2937; color: #ffffff; transition: width 300ms; } .sidebar.collapsed { width: 80px; }",
      "note": "Use designSystem color values, spacing scale, and typography specifications directly in your CSS."
    },
    "styledComponents": {
      "description": "CSS-in-JS with props. Map designSystem values to styled component props.",
      "approach": "Pass collapsed prop and adjust styles dynamically using designSystem specifications",
      "example": "const Sidebar = styled.aside`width: ${props => props.collapsed ? '80px' : '280px'}; background: ${props => props.theme.colors.sidebarBg || '#1f2937'}; transition: width 300ms;`",
      "note": "Extract designSystem values into theme or constants, then reference in styled components."
    },
    "chakraUI": {
      "components": "Use Drawer (permanent variant on desktop, temporary on mobile), Box for content",
      "approach": "Leverage Chakra's Drawer component with variant prop. Customize colors, spacing, and typography to match designSystem specifications.",
      "theme": "Extend Chakra theme with designSystem color values, spacing scale, and typography settings.",
      "transitions": "Use theme.transitions for consistent animations matching designSystem animation specifications"
    },
    "materialUI": {
      "components": "Use MUI Drawer (persistent variant on desktop, temporary on mobile), AppBar for header",
      "approach": "MUI Drawer with variant='permanent' on desktop, variant='temporary' on mobile. Customize theme to match designSystem specifications.",
      "theme": "Override MUI theme colors, spacing, and typography to match designSystem values.",
      "transitions": "Use theme transitions and breakpoints matching designSystem animation specifications"
    },
    "vanillaCSS": {
      "description": "Standard CSS with class toggles. Apply designSystem values directly.",
      "approach": "Define classes with transitions using designSystem specifications, toggle via JavaScript",
      "example": ".sidebar { width: 280px; background: #1f2937; color: #ffffff; transition: width 300ms cubic-bezier(0.4, 0, 0.2, 1); } .sidebar.collapsed { width: 80px; } .header { position: fixed; top: 0; left: 280px; background: #ffffff; box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1); transition: left 300ms; } .header.sidebar-collapsed { left: 80px; }",
      "note": "Use designSystem color values, spacing, typography, shadows, and animation specifications directly in CSS."
    },
    "sass": {
      "description": "SCSS with variables and mixins. Define designSystem values as SCSS variables.",
      "approach": "Create SCSS variables for designSystem colors, spacing, typography. Use mixins for common patterns.",
      "example": "$sidebar-width: 280px; $sidebar-bg: #1f2937; $sidebar-text: #ffffff; .sidebar { width: $sidebar-width; background: $sidebar-bg; color: $sidebar-text; }",
      "note": "Map all designSystem specifications to SCSS variables for maintainability."
    }
  },
  
  "animations": {
    "sidebarToggle": {
      "duration": "300ms",
      "easing": "cubic-bezier(0.4, 0, 0.2, 1)",
      "properties": {
        "sidebar": ["width", "transform"],
        "header": ["left"],
        "footer": ["left"],
        "content": ["margin-left"]
      },
      "performance": {
        "useTransform": "Prefer transform over width/left for better performance when possible",
        "willChange": "Set will-change: transform on animating elements",
        "hardwareAcceleration": "Use transform3d(0,0,0) to trigger GPU acceleration if needed"
      }
    },
    "mobileOverlay": {
      "backdropFade": "200ms",
      "sidebarSlide": "300ms from left",
      "stagger": "Backdrop starts first, sidebar follows"
    },
    "dropdowns": {
      "duration": "150-200ms",
      "easing": "ease-out",
      "transform": "translateY(-8px) to translateY(0)",
      "opacity": "0 to 1"
    }
  },
  
  "accessibility": {
    "wcagCompliance": {
      "level": "AA",
      "requirements": {
        "1.1.1": "Non-text Content - All images have descriptive alt text",
        "1.3.1": "Info and Relationships - Semantic HTML structure with proper roles",
        "1.4.3": "Contrast Minimum - 4.5:1 for normal text, 3:1 for large text (verify with contrast checker)",
        "2.1.1": "Keyboard - All interactive elements keyboard accessible",
        "2.1.2": "No Keyboard Trap - Focus trapping only in mobile sidebar overlay",
        "2.4.1": "Bypass Blocks - Skip link to main content (REQUIRED)",
        "2.4.2": "Page Titled - Descriptive page title",
        "2.4.3": "Focus Order - Logical tab order throughout",
        "2.4.4": "Link Purpose - Clear link labels, icons have text or aria-label",
        "2.4.7": "Focus Visible - Clear focus indicators on all interactive elements",
        "3.2.1": "On Focus - No context changes on focus",
        "3.2.2": "On Input - No unexpected changes",
        "4.1.1": "Parsing - Valid HTML structure",
        "4.1.2": "Name, Role, Value - All elements have accessible names and roles",
        "4.1.3": "Status Messages - Use aria-live for dynamic content updates (optional but recommended)"
      }
    },
    "keyboardNavigation": {
      "tabOrder": "Skip link (if visible) â†’ Header â†’ Sidebar â†’ Content â†’ Footer",
      "sidebarItems": "Tab to focus, Enter/Space to activate",
      "escapeKey": "Close dropdowns and mobile sidebar, restore focus to trigger",
      "skipLink": {
        "required": true,
        "implementation": "First focusable element, hidden by default, visible on focus",
        "target": "Main content area (id='contentArea' or id='main')",
        "example": "<a href='#contentArea' class='skip-link'>Skip to main content</a>",
        "css": "Position absolute, top: -40px, left: 0, z-index: 100. On :focus, top: 0"
      },
      "focusTrap": {
        "when": "Mobile sidebar open",
        "implementation": "Use focus-trap library or manual implementation",
        "elements": "All focusable elements within sidebar (a, button, [tabindex]:not([tabindex='-1'])])",
        "behavior": "Tab cycles within sidebar, Shift+Tab cycles backwards"
      },
      "focusRestoration": "Restore focus to menu toggle button when sidebar closes",
      "focusManagement": {
        "onOpen": "Move focus to first focusable element in sidebar",
        "onClose": "Return focus to trigger button (menu toggle)",
        "onEscape": "Close and restore focus to trigger"
      }
    },
    "ariaAttributes": {
      "required": {
        "sidebar": {
          "role": "navigation",
          "aria-label": "Main navigation",
          "aria-hidden": "false on desktop, toggle based on mobile state"
        },
        "menuToggle": {
          "aria-label": "Toggle menu",
          "aria-expanded": "true/false (dynamically updated)",
          "aria-controls": "sidebar (id of sidebar element)"
        },
        "sidebarToggle": {
          "aria-label": "Toggle sidebar",
          "aria-expanded": "true/false (dynamically updated)"
        },
        "activeNavItem": {
          "aria-current": "page (on current page link only)"
        },
        "notificationsButton": {
          "aria-label": "Notifications: {count} unread (include count in label)",
          "aria-haspopup": "true",
          "aria-expanded": "true/false (dynamically updated)"
        },
        "userMenuButton": {
          "aria-label": "User menu",
          "aria-haspopup": "true",
          "aria-expanded": "true/false (dynamically updated)",
          "aria-controls": "userDropdown (id of dropdown element)"
        },
        "userDropdown": {
          "role": "menu",
          "id": "userDropdown (matches aria-controls)"
        },
        "dropdownItems": {
          "role": "menuitem",
          "example": "<a href='#' class='dropdown-item' role='menuitem'>Profile</a>"
        },
        "backdrop": {
          "aria-hidden": "true when hidden, false when visible",
          "role": "presentation (optional)"
        },
        "mobileOverlay": {
          "aria-modal": "true (when sidebar is open on mobile)"
        },
        "notificationsBadge": {
          "aria-label": "{count} unread notifications",
          "aria-live": "polite (optional, for dynamic updates)"
        }
      },
      "optional": {
        "mainContent": {
          "role": "main (semantic HTML <main> preferred)",
          "id": "contentArea or main (for skip link target)"
        },
        "header": {
          "role": "banner (semantic HTML <header> preferred)"
        },
        "footer": {
          "role": "contentinfo (semantic HTML <footer> preferred)"
        },
        "dynamicContent": {
          "aria-live": "polite (for dashboard stats, activity feed updates)",
          "aria-atomic": "false (announce only changed content)"
        }
      }
    },
    "screenReader": {
      "announcements": {
        "sidebarState": "Announce when sidebar opens/closes (use aria-live region or visually hidden text)",
        "implementation": "Use aria-live='polite' region or visually hidden <span> with role='status'"
      },
      "labels": {
        "iconOnlyButtons": "All icon-only buttons must have descriptive aria-label",
        "collapsedNavItems": "In collapsed state, nav items should have aria-label or sr-only text",
        "example": "<span class='sr-only'>Dashboard</span> or aria-label='Dashboard'"
      },
      "hiddenText": {
        "purpose": "Provide text for icon-only nav items in collapsed state",
        "implementation": "Use .sr-only class (visually hidden but accessible to screen readers)",
        "css": ".sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border-width: 0; }"
      },
      "badges": {
        "notifications": "Notification badge count must be announced",
        "implementation": "Include count in button aria-label: 'Notifications: 3 unread'",
        "alternative": "Use aria-describedby pointing to badge element with aria-live"
      },
      "landmarks": {
        "navigation": "Use <nav> or role='navigation' with aria-label",
        "main": "Use <main> or role='main'",
        "header": "Use <header> or role='banner'",
        "footer": "Use <footer> or role='contentinfo'"
      }
    },
    "focusManagement": {
      "focusVisible": {
        "required": true,
        "implementation": "Clear focus indicators on all interactive elements",
        "css": "outline: 2px solid [primary-color], outline-offset: 2px",
        "fallback": "Use :focus-visible pseudo-class for modern browsers, :focus for older",
        "example": "button:focus-visible, a:focus-visible { outline: 2px solid #4f46e5; outline-offset: 2px; }"
      },
      "focusOrder": {
        "principle": "Logical reading order",
        "order": "Skip link â†’ Header â†’ Sidebar â†’ Main content â†’ Footer"
      },
      "skipLink": {
        "position": "First focusable element on page",
        "target": "Main content area",
        "visibility": "Hidden by default, visible on focus"
      }
    },
    "colorContrast": {
      "requirement": "WCAG AA: 4.5:1 for normal text, 3:1 for large text (18pt+ or 14pt+ bold)",
      "verification": "Use WebAIM Contrast Checker or similar tool",
      "criticalAreas": [
        "Sidebar text on background",
        "Header text on background",
        "Footer text on background",
        "Content text on background",
        "Link text on background",
        "Button text on background",
        "Active nav item text",
        "Focus indicators"
      ],
      "recommendation": "Aim for 7:1 contrast for important text (WCAG AAA)"
    },
    "implementationChecklist": [
      "Add skip link as first focusable element",
      "All buttons have aria-label or visible text",
      "All icons have aria-label or sr-only text",
      "Navigation items have aria-current='page' when active",
      "Dropdowns have role='menu' and items have role='menuitem'",
      "All interactive elements have aria-expanded when applicable",
      "Notifications badge count included in button aria-label",
      "Focus visible on all interactive elements",
      "Focus trapped in mobile sidebar",
      "Focus restored when sidebar closes",
      "aria-hidden managed correctly for backdrop and mobile sidebar",
      "aria-live regions for dynamic content (optional but recommended)",
      "Color contrast verified with contrast checker tool",
      "Keyboard navigation works throughout",
      "Screen reader tested with NVDA, VoiceOver, or JAWS"
    ]
  },
  
  "designSystem": {
    "note": "These design specifications are tool-agnostic and should be implemented using the project's chosen styling approach. The stylingApproaches section provides implementation examples, but these design values are the source of truth.",
    
    "colorGuidelines": {
      "sidebar": {
        "background": {
          "light": "Dark neutral (e.g., #1f2937, #111827) or white (#ffffff) with subtle border",
          "dark": "#1a1a1a or #0f172a",
          "principle": "Should provide clear visual separation from content area"
        },
        "text": {
          "light": "High contrast white (#ffffff) or light gray (#f3f4f6) on dark background",
          "dark": "#e0e0e0 or #f1f5f9",
          "contrast": "Minimum 4.5:1 contrast ratio (WCAG AA)"
        },
        "activeItem": {
          "background": "Primary color at 10-20% opacity overlay, or solid primary color",
          "text": "Primary color or white if using solid background",
          "indicator": "Left border 3-4px in primary color, or full background"
        },
        "hover": {
          "background": "Subtle background change (5-10% opacity overlay of primary or neutral)",
          "transition": "Smooth 150ms transition"
        },
        "icons": {
          "default": "Match text color",
          "active": "Primary color or white",
          "size": "20-24px"
        }
      },
      "header": {
        "background": {
          "light": "White (#ffffff) or very light gray (#f9fafb)",
          "dark": "#1a1a1a or #0f172a"
        },
        "border": {
          "style": "1px solid border-bottom or subtle box-shadow",
          "color": {
            "light": "rgba(0, 0, 0, 0.05) to rgba(0, 0, 0, 0.1)",
            "dark": "rgba(255, 255, 255, 0.1)"
          }
        },
        "text": {
          "light": "Dark gray (#111827, #1f2937) or black (#000000)",
          "dark": "#e0e0e0 or #f1f5f9"
        },
        "icons": {
          "default": "Medium gray (#6b7280, #9ca3af)",
          "hover": "Darker gray (#374151) or primary color",
          "size": "20-24px"
        }
      },
      "footer": {
        "background": {
          "light": "White (#ffffff) or light gray (#f9fafb) - match header",
          "dark": "#1a1a1a or #0f172a - match header"
        },
        "border": {
          "style": "1px solid border-top or subtle box-shadow on top",
          "color": {
            "light": "rgba(0, 0, 0, 0.05) to rgba(0, 0, 0, 0.1)",
            "dark": "rgba(255, 255, 255, 0.1)"
          }
        },
        "text": {
          "light": "Muted dark gray (rgba(0, 0, 0, 0.6) or #6b7280)",
          "dark": "Muted light gray (rgba(255, 255, 255, 0.6) or #9ca3af)"
        },
        "links": {
          "default": "Match footer text color",
          "hover": "Primary color or darker/lighter variant"
        }
      },
      "content": {
        "background": {
          "light": "Light gray (#f5f5f5, #f9fafb) or white (#ffffff)",
          "dark": "#121212 or #0f172a"
        },
        "text": {
          "light": "Dark gray (#111827, #1f2937, #1a1a1a)",
          "dark": "#e0e0e0 or #f1f5f9"
        },
        "contrast": "Ensure 4.5:1 contrast ratio minimum (WCAG AA)"
      },
      "backdrop": {
        "mobile": {
          "background": "rgba(0, 0, 0, 0.5) to rgba(0, 0, 0, 0.75)",
          "blur": "Optional: backdrop-filter: blur(4px) for modern browsers"
        }
      },
      "notifications": {
        "badge": {
          "background": "Red (#ef4444, #dc2626) or primary color",
          "text": "White (#ffffff)",
          "size": "18-20px circle or pill shape"
        }
      }
    },
    
    "typography": {
      "fontFamily": {
        "note": "Use project's font stack, typically: system-ui, -apple-system, sans-serif or custom font",
        "sidebar": {
          "navItems": "14-16px, medium weight (500-600)",
          "logo": "18-24px, bold (700)"
        },
        "header": {
          "title": "20-24px, semibold (600) or bold (700)",
          "breadcrumbs": "14-16px, regular (400) or medium (500)"
        },
        "footer": {
          "text": "14px, regular (400)",
          "links": "14px, regular (400)"
        },
        "content": {
          "body": "16px, regular (400)",
          "headings": "Use semantic heading sizes (h1: 32-36px, h2: 24-28px, etc.)"
        }
      },
      "lineHeight": {
        "tight": "1.25 (headings)",
        "normal": "1.5 (body text)",
        "relaxed": "1.75 (long-form content)"
      }
    },
    
    "spacing": {
      "scale": {
        "note": "Use consistent spacing scale (4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px) or project's spacing system",
        "sidebar": {
          "padding": "16px horizontal, 12px vertical for nav items",
          "gap": "12-16px between icon and text",
          "sectionGap": "24-32px between sections"
        },
        "header": {
          "padding": "16-24px horizontal",
          "gap": "16-24px between elements"
        },
        "footer": {
          "padding": "16-24px horizontal",
          "gap": "24px between links"
        },
        "content": {
          "padding": "24-32px on all sides (desktop), 16px (mobile)",
          "maxWidth": "Optional: 1400px for better readability on large screens"
        }
      }
    },
    
    "shadows": {
      "elevation": {
        "note": "Use subtle shadows for depth and separation",
        "header": {
          "light": "0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)",
          "dark": "0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2)"
        },
        "footer": {
          "light": "0 -1px 3px rgba(0, 0, 0, 0.1), 0 -1px 2px rgba(0, 0, 0, 0.06)",
          "dark": "0 -1px 3px rgba(0, 0, 0, 0.3), 0 -1px 2px rgba(0, 0, 0, 0.2)"
        },
        "dropdowns": {
          "light": "0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)",
          "dark": "0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2)"
        },
        "sidebar": {
          "light": "Optional: 2px 0 8px rgba(0, 0, 0, 0.05) for light sidebar",
          "dark": "Optional: 2px 0 8px rgba(0, 0, 0, 0.2) for dark sidebar"
        }
      }
    },
    
    "visualHierarchy": {
      "principles": [
        "Sidebar should be visually distinct from content (different background or border)",
        "Header and footer should have subtle elevation (shadow or border) to separate from content",
        "Active navigation items should be clearly highlighted",
        "Hover states should provide clear feedback",
        "Icons and text should maintain proper visual balance",
        "Spacing should create clear grouping and hierarchy"
      ],
      "contrast": {
        "minimum": "4.5:1 for text (WCAG AA)",
        "recommended": "7:1 for important text (WCAG AAA)",
        "interactive": "Clear visual feedback on hover/focus states"
      }
    },
    
    "borderRadius": {
      "buttons": "6-8px",
      "dropdowns": "8-12px",
      "avatars": "50% (circle)",
      "badges": "12-16px (pill shape) or 4-6px (rounded square)",
      "cards": "8-12px (if used in content)"
    }
  },
  
  "dataStructures": {
    "navigationItems": {
      "description": "Array of navigation menu items",
      "example": [
        {
          "id": "dashboard",
          "label": "Dashboard",
          "icon": "ChartIcon",
          "href": "/"
        },
        {
          "id": "analytics",
          "label": "Analytics",
          "icon": "TrendingUpIcon",
          "href": "/analytics"
        },
        {
          "id": "users",
          "label": "Users",
          "icon": "UsersIcon",
          "href": "/users"
        },
        {
          "id": "settings",
          "label": "Settings",
          "icon": "SettingsIcon",
          "href": "/settings"
        }
      ]
    },
    "notifications": {
      "description": "Array of notification objects",
      "example": [
        {
          "id": 1,
          "title": "New user registered",
          "time": "5 min ago",
          "unread": true
        },
        {
          "id": 2,
          "title": "Report generated",
          "time": "1 hour ago",
          "unread": false
        }
      ]
    }
  },
  
  "commonVariations": {
    "topNavigation": "Add secondary horizontal navigation below header",
    "footerPlacement": "Footer can be inside content area (scrolls with content) or fixed at bottom (always visible). Default is fixed at bottom.",
    "multipleSidebars": "Right sidebar for contextual actions/filters",
    "nestedNavigation": "Expandable/collapsible nav sections in sidebar",
    "stickyFooter": "Footer sticks to bottom when content is short, scrolls when content is long"
  },
  
  "zIndexLayers": {
    "backdrop": 40,
    "sidebar": 50,
    "header": 40,
    "footer": 40,
    "dropdowns": 50,
    "tooltips": 60
  },
  
  "implementationDetails": {
    "bodyScrollLock": {
      "when": "Mobile sidebar open",
      "how": "document.body.style.overflow = 'hidden'",
      "cleanup": "Restore on close (document.body.style.overflow = '')"
    },
    "focusManagement": {
      "trapFocus": "Use focus-trap library or manual implementation to trap focus within sidebar when open on mobile",
      "restoreFocus": "Return focus to trigger button (menu toggle) when sidebar closes"
    },
    "backdropClick": {
      "handler": "Close sidebar when backdrop is clicked",
      "preventBubbling": "Prevent event bubbling to avoid closing immediately after opening"
    }
  },
  
  "edgeCases": {
    "longNavigationLabels": "Truncate with ellipsis, show tooltip on hover, maintain min-width for icons",
    "manyNavigationItems": "Sidebar should scroll, maintain scroll position when toggling collapsed state",
    "rapidToggling": "Debounce or disable toggle during transition to prevent animation conflicts",
    "windowResizeDuringAnimation": "Complete current animation before re-evaluating breakpoint",
    "verySmallScreens": "Consider further reducing padding/spacing on screens < 320px",
    "contentOverflow": "Ensure content doesn't overflow horizontally when sidebar collapses"
  },
  
  "accessibilityExamples": {
    "skipLink": {
      "html": "<a href=\"#contentArea\" class=\"skip-link\">Skip to main content</a>",
      "css": ".skip-link { position: absolute; top: -40px; left: 0; background: var(--primary-color); color: white; padding: 12px 16px; z-index: 1000; } .skip-link:focus { top: 0; }"
    },
    "sidebar": {
      "html": "<aside class=\"sidebar\" id=\"sidebar\" role=\"navigation\" aria-label=\"Main navigation\" aria-hidden=\"false\">",
      "note": "Update aria-hidden based on mobile state"
    },
    "menuToggle": {
      "html": "<button class=\"menu-toggle\" id=\"menuToggle\" aria-label=\"Toggle menu\" aria-expanded=\"false\" aria-controls=\"sidebar\">",
      "note": "Update aria-expanded dynamically when sidebar opens/closes"
    },
    "activeNavItem": {
      "html": "<a href=\"/dashboard\" class=\"nav-item active\" aria-current=\"page\">",
      "note": "Only set aria-current on the current page link"
    },
    "notificationsButton": {
      "html": "<button class=\"notifications-btn\" aria-label=\"Notifications: 3 unread\" aria-haspopup=\"true\" aria-expanded=\"false\"><span class=\"notifications-icon\" aria-hidden=\"true\">ðŸ””</span><span class=\"notifications-badge\" aria-label=\"3 unread notifications\">3</span></button>",
      "note": "Include count in aria-label, update dynamically"
    },
    "userDropdown": {
      "html": "<button class=\"user-menu-btn\" aria-label=\"User menu\" aria-haspopup=\"true\" aria-expanded=\"false\" aria-controls=\"userDropdown\">...</button><div class=\"user-dropdown\" id=\"userDropdown\" role=\"menu\"><a href=\"#\" class=\"dropdown-item\" role=\"menuitem\">Profile</a><a href=\"#\" class=\"dropdown-item\" role=\"menuitem\">Settings</a><a href=\"#\" class=\"dropdown-item\" role=\"menuitem\">Logout</a></div>",
      "note": "Link button and dropdown with aria-controls, use role=\"menu\" and role=\"menuitem\""
    },
    "screenReaderOnly": {
      "html": "<span class=\"sr-only\">Dashboard</span>",
      "css": ".sr-only { position: absolute; width: 1px; height: 1px; padding: 0; margin: -1px; overflow: hidden; clip: rect(0,0,0,0); white-space: nowrap; border-width: 0; }"
    },
    "focusVisible": {
      "css": "button:focus-visible, a:focus-visible { outline: 2px solid var(--primary-color); outline-offset: 2px; }"
    },
    "ariaLive": {
      "html": "<div class=\"dashboard-grid\" aria-live=\"polite\" aria-atomic=\"false\">",
      "note": "Use aria-live=\"polite\" for non-critical updates, aria-live=\"assertive\" for urgent updates"
    }
  },
  
  "testingChecklist": [
    "Sidebar toggles smoothly on desktop",
    "Sidebar opens as overlay on mobile",
    "Mobile backdrop dismisses sidebar",
    "Body scroll is locked when mobile sidebar is open",
    "Focus is trapped within mobile sidebar",
    "Focus is restored to menu toggle when sidebar closes",
    "Content area adjusts to sidebar state",
    "Header stays fixed on scroll and adjusts to sidebar state",
    "Footer stays fixed at bottom and adjusts to sidebar state",
    "Footer is always visible even with minimal content",
    "Content area has proper spacing for header (margin-top: 64px) and footer (margin-bottom: 60px)",
    "Active navigation item is highlighted",
    "User dropdown opens and closes correctly",
    "Keyboard navigation works throughout",
    "Screen reader announces state changes",
    "Sidebar state persists on reload",
    "No horizontal scroll when sidebar collapses",
    "Responsive at all breakpoints (mobile, tablet, desktop)",
    "Window resize handling works correctly (debounced, closes mobile sidebar on desktop switch)",
    "Touch interactions work on mobile",
    "Animations are smooth (60fps)",
    "No layout shift or flicker on load",
    "SSR/hydration safe (localStorage accessed after mount)",
    "Long navigation labels are truncated properly",
    "Many navigation items scroll correctly in sidebar"
  ],
  
  "aiImplementationPrompt": "Create a responsive dashboard layout with a collapsible sidebar (280px expanded, 80px collapsed), fixed header (64px height), fixed footer (60px height), and scrollable content area. The sidebar should overlay on mobile (<768px) and persist its collapsed state in localStorage. Both header and footer should adjust their left position based on sidebar state (280px when expanded, 80px when collapsed on desktop). Content area should have margin-top: 64px and margin-bottom: 60px to account for fixed header and footer. Include smooth 300ms transitions, keyboard accessibility with ARIA labels, and active state highlighting for current page. Ensure no horizontal scroll when sidebar collapses. Adapt the implementation to use {{USER_FRAMEWORK}} with {{USER_STYLING_LIBRARY}}. Include mobile menu toggle, user dropdown, and notifications button in the header. Footer should contain copyright and navigation links.",
  
  "meta": {
    "created": "2026-01-10",
    "updated": "2026-01-11",
    "version": "1.0.0",
    "complexity": "intermediate",
    "estimatedImplementationTime": "2-4 hours",
    "webUrl": "https://uipotion.com/potions/layouts/dashboard.html"
  }
}
