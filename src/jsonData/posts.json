[{"fileName":"layouts/dashboard.html","title":"Dashboard Layout with Collapsible Sidebar","body":"<h1>Dashboard Layout</h1> <p>A responsive admin dashboard layout with collapsible sidebar navigation and a fixed header. Perfect for admin panels, SaaS applications, and data-driven interfaces.</p> <h2>Structure Specification</h2> <h3>Layout Hierarchy</h3> <p>The layout consists of an AppContainer that holds a Sidebar component and a Main Content Wrapper. The Sidebar contains a Logo/Brand Section, Navigation Menu with multiple Nav Items (including active state support), and a Collapse Toggle Button. The Main Content Wrapper includes a fixed Header (with Menu Toggle Button for mobile, Title/Breadcrumbs, and User Actions including Notifications Button and User Menu Dropdown) and a scrollable Content Area for page content.</p> <h2>Detailed Component Specifications</h2> <h3>1. Sidebar Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Desktop (expanded): 240-280px width</li>   <li>Desktop (collapsed): 64-80px width</li>   <li>Mobile: Full screen overlay or hidden</li> </ul> <p><strong>States:</strong></p> <ul>   <li><code>expanded</code> (default on desktop)</li>   <li><code>collapsed</code> (icon-only mode)</li>   <li><code>hidden</code> (mobile default)</li>   <li><code>overlay</code> (mobile when open)</li> </ul> <p><strong>Elements:</strong></p> <h4>Logo/Brand Section</h4> <ul>   <li>Height: 64px (matches header height)</li>   <li>Contains: Logo image/text + app name</li>   <li>Collapsed state: Shows only logo icon</li>   <li>Alignment: Center or left-aligned with padding</li> </ul> <h4>Navigation Items</h4> <ul>   <li>Height: 44-48px each</li>   <li>Padding: 12-16px horizontal, 12px vertical</li>   <li>Icon: 20-24px, positioned left</li>   <li>Text: 14-16px font size</li>   <li>Gap between icon and text: 12-16px</li>   <li>Active state indicator: Background color or left border (3-4px)</li>   <li>Hover state: Subtle background color change</li>   <li>Collapsed state: Center icon only, show tooltip on hover     <ul>       <li>Tooltip trigger: hover</li>       <li>Tooltip position: right</li>       <li>Tooltip delay: 200ms</li>       <li>Fallback: Use <code>aria-label</code> or <code>sr-only</code> text if tooltip library not available</li>     </ul>   </li>   <li>Scrollbar: Custom thin scrollbar (6px width) when many items     <ul>       <li>Dark sidebar: <code>rgba(255, 255, 255, 0.2)</code></li>       <li>Light sidebar: <code>rgba(0, 0, 0, 0.2)</code></li>     </ul>   </li> </ul> <h4>Collapse Toggle</h4> <ul>   <li>Position: Bottom of sidebar or after nav items</li>   <li>Button: Icon button, 40px x 40px</li>   <li>Icon: Chevron or arrows indicating direction</li>   <li>Behavior: Rotates/changes on state</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Persists state in localStorage/session</li>   <li>Smooth transition animation (200-300ms ease-in-out)</li>   <li>On mobile: Overlay with backdrop, dismissible     <ul>       <li>Backdrop click closes sidebar (prevent event bubbling)</li>       <li>Body scroll is locked when sidebar is open (<code>document.body.style.overflow = 'hidden'</code>)</li>       <li>Focus is trapped within sidebar when open</li>       <li>Focus is restored to menu toggle when sidebar closes</li>     </ul>   </li>   <li>Keyboard accessible (Tab navigation, Enter/Space to activate)</li>   <li>Custom scrollbar styling for navigation menu (6px width, subtle color)</li> </ul> <h3>2. Header Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Height: 64px (fixed)</li>   <li>Width: 100% of content area</li>   <li>Width calculation: <code>calc(100% - sidebar-width)</code> or use CSS Grid/Flexbox approach</li>   <li>Position: Fixed or sticky</li> </ul> <p><strong>Layout:</strong></p> <p>The header contains a Menu Toggle button (visible on mobile only, left-aligned), Title/Breadcrumbs section (left-aligned), and User Actions including Notifications button and User Menu (right-aligned).</p> <p><strong>Elements:</strong></p> <h4>Menu Toggle Button (Mobile Only)</h4> <ul>   <li>Size: 40px x 40px</li>   <li>Icon: Hamburger (â˜°) or close (Ã—) icon</li>   <li>Visibility: Hidden on desktop (â‰¥1024px)</li>   <li>Position: Left-most</li> </ul> <h4>Title/Breadcrumbs Section</h4> <ul>   <li>Font size: 20-24px (title) or 14-16px (breadcrumbs)</li>   <li>Color: Primary text color</li>   <li>Truncate with ellipsis if too long</li> </ul> <h4>Notifications Button</h4> <ul>   <li>Size: 40px x 40px</li>   <li>Icon: Bell</li>   <li>Badge: Red dot or count for unread</li>   <li>Opens dropdown/modal on click</li> </ul> <h4>User Menu</h4> <ul>   <li>Avatar: 36px circle</li>   <li>Username: 14px, optional (can hide on small screens)</li>   <li>Dropdown indicator: Small chevron</li>   <li>Dropdown opens below with:     <ul>       <li>Profile link</li>       <li>Settings link</li>       <li>Logout button</li>     </ul>   </li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Shadow or border-bottom for depth</li>   <li>Remains fixed at top during scroll</li>   <li>Dropdowns close on outside click or escape key</li>   <li>Accessible via keyboard</li> </ul> <h3>3. Main Content Area</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Padding: 24-32px on all sides</li>   <li>Max-width: Optional (e.g., 1400px for better readability)</li>   <li>Min-height: Fill available viewport</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Scrollable (overflow-y: auto)</li>   <li>Margin-top: Header height (64px)</li>   <li>Margin-bottom: Footer height (60px)</li>   <li>Margin-left: Sidebar width (dynamic)</li>   <li>Smooth transition when sidebar toggles</li>   <li>Responsive padding (reduces on mobile to 16px)</li> </ul> <h3>4. Footer Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Height: 60px (fixed)</li>   <li>Width: 100% of content area</li>   <li>Width calculation: <code>calc(100% - sidebar-width)</code> or use CSS Grid/Flexbox approach</li>   <li>Position: Fixed at bottom</li> </ul> <p><strong>Layout:</strong></p> <p>The footer contains a Copyright section on the left and Footer Navigation Links on the right.</p> <p><strong>Elements:</strong></p> <ul>   <li>Copyright: 14px font size</li>   <li>Footer Navigation: Links (Privacy, Terms, Support), 14px, 24px gap between links</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Fixed at bottom, always visible even with minimal content</li>   <li>Adjusts left position based on sidebar state (280px expanded, 80px collapsed on desktop)</li>   <li>Full width (left: 0) on mobile/tablet</li>   <li>Shadow or border-top for depth</li>   <li>Smooth 300ms transition when sidebar toggles</li> </ul> <h2>Responsive Breakpoints</h2> <h3>Desktop (â‰¥1024px)</h3> <ul>   <li>Sidebar: Visible, expanded by default</li>   <li>Header: Full width minus sidebar, left: 280px (80px when collapsed)</li>   <li>Footer: Full width minus sidebar, left: 280px (80px when collapsed)</li>   <li>Content: Fills remaining space between header and footer</li>   <li>Menu toggle: Hidden</li> </ul> <h3>Tablet (768px - 1023px)</h3> <ul>   <li>Sidebar: Collapsed by default or overlay mode</li>   <li>Header: Full width (left: 0)</li>   <li>Footer: Full width (left: 0)</li>   <li>Content: Full width</li>   <li>Menu toggle: Visible</li> </ul> <h3>Mobile (&#x3C;767px)</h3> <ul>   <li>Sidebar: Hidden by default, fullscreen overlay when open</li>   <li>Header: Full width, compact mode (left: 0)</li>   <li>Footer: Full width, compact mode (left: 0)</li>   <li>Content: Full width, reduced padding (16px)</li>   <li>Menu toggle: Visible</li>   <li>User menu: Simplified (avatar only)</li> </ul> <h3>Window Resize Handling</h3> <ul>   <li><strong>Debounce</strong>: 300ms recommended to avoid excessive re-evaluations</li>   <li><strong>Behavior</strong>: Re-evaluate breakpoint on resize, close mobile sidebar if switching to desktop</li>   <li><strong>Implementation</strong>: Add window resize listener with debounce, update breakpoint state, handle sidebar state transitions</li>   <li><strong>Edge case</strong>: Complete current animation before re-evaluating breakpoint on resize</li> </ul> <h2>Interaction Patterns</h2> <h3>Sidebar Toggle</h3> <ol>   <li>User clicks toggle button or menu icon</li>   <li>Sidebar transitions to collapsed/expanded state</li>   <li>Content area adjusts width with smooth animation</li>   <li>State persists across page loads</li>   <li>On mobile: Backdrop appears/disappears</li> </ol> <h3>Active Navigation</h3> <ol>   <li>Current page is highlighted in sidebar</li>   <li>Visual indicator: Background color, border, or icon color</li>   <li>Persist active state on page reload</li>   <li>Support for nested navigation (expandable sections)</li> </ol> <h3>User Dropdown</h3> <ol>   <li>Click avatar/username to open</li>   <li>Dropdown appears below with fade/slide animation</li>   <li>Click outside or press Escape to close</li>   <li>Click item to navigate</li>   <li>Maintain dropdown state during navigation if SPA</li> </ol> <h2>Accessibility Requirements</h2> <h3>WCAG 2.1 Compliance (Level AA Target)</h3> <p>This dashboard layout should meet WCAG 2.1 Level AA standards. Key requirements:</p> <ul>   <li><strong>1.1.1 Non-text Content</strong>: All images have descriptive alt text</li>   <li><strong>1.3.1 Info and Relationships</strong>: Semantic HTML structure with proper roles</li>   <li><strong>1.4.3 Contrast Minimum</strong>: 4.5:1 for normal text, 3:1 for large text (verify with contrast checker)</li>   <li><strong>2.1.1 Keyboard</strong>: All interactive elements keyboard accessible</li>   <li><strong>2.1.2 No Keyboard Trap</strong>: Focus trapping only in mobile sidebar overlay</li>   <li><strong>2.4.2 Page Titled</strong>: Descriptive page title</li>   <li><strong>2.4.3 Focus Order</strong>: Logical tab order throughout</li>   <li><strong>2.4.4 Link Purpose</strong>: Clear link labels, icons have text or aria-label</li>   <li><strong>2.4.7 Focus Visible</strong>: Clear focus indicators on all interactive elements</li>   <li><strong>4.1.2 Name, Role, Value</strong>: All elements have accessible names and roles</li>   <li><strong>4.1.3 Status Messages</strong>: Use aria-live for dynamic content updates (recommended)</li> </ul> <h3>Keyboard Navigation</h3> <p><strong>Tab Order:</strong></p> <ul>   <li>Header â†’ Sidebar â†’ Content â†’ Footer</li> </ul> <p><strong>Implementation:</strong></p> <ul>   <li>Sidebar items: Tab to focus, Enter/Space to activate</li>   <li>Escape key: Close dropdowns and mobile sidebar, restore focus to trigger</li> </ul> <p><strong>Focus Management:</strong></p> <ul>   <li><strong>Focus trap</strong>: Trap focus within sidebar when open on mobile (use focus-trap library or manual implementation)</li>   <li><strong>Focus restoration</strong>: Restore focus to menu toggle button when sidebar closes</li>   <li><strong>Focus visible</strong>: Clear focus indicators (2px solid outline, 2px offset) on all interactive elements</li>   <li><strong>Focus order</strong>: Logical reading order maintained throughout</li> </ul> <h3>ARIA Attributes</h3> <p><strong>Required ARIA Attributes:</strong></p> <ol>   <li>     <p><strong>Sidebar:</strong></p>     <pre><code class=\"language-html\">&#x3C;aside role=\"navigation\" aria-label=\"Main navigation\" aria-hidden=\"false\"> </code></pre>   </li>   <li>     <p><strong>Menu Toggle:</strong></p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Toggle menu\" aria-expanded=\"false\" aria-controls=\"sidebar\"> </code></pre>   </li>   <li>     <p><strong>Sidebar Toggle:</strong></p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Toggle sidebar\" aria-expanded=\"true\"> </code></pre>   </li>   <li>     <p><strong>Active Navigation Item:</strong></p>     <pre><code class=\"language-html\">&#x3C;a href=\"/dashboard\" aria-current=\"page\">Dashboard&#x3C;/a> </code></pre>   </li>   <li>     <p><strong>Notifications Button:</strong></p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Notifications: 3 unread\" aria-haspopup=\"true\" aria-expanded=\"false\">   &#x3C;span class=\"notifications-icon\" aria-hidden=\"true\">ðŸ””&#x3C;/span>   &#x3C;span class=\"notifications-badge\" aria-label=\"3 unread notifications\">3&#x3C;/span> &#x3C;/button> </code></pre>   </li>   <li>     <p><strong>User Menu:</strong></p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"User menu\" aria-haspopup=\"true\" aria-expanded=\"false\" aria-controls=\"userDropdown\"> &#x3C;div class=\"user-dropdown\" id=\"userDropdown\" role=\"menu\">   &#x3C;a href=\"#\" class=\"dropdown-item\" role=\"menuitem\">Profile&#x3C;/a>   &#x3C;a href=\"#\" class=\"dropdown-item\" role=\"menuitem\">Settings&#x3C;/a>   &#x3C;a href=\"#\" class=\"dropdown-item\" role=\"menuitem\">Logout&#x3C;/a> &#x3C;/div> </code></pre>   </li>   <li>     <p><strong>Backdrop:</strong></p>     <pre><code class=\"language-html\">&#x3C;div class=\"backdrop\" aria-hidden=\"true\" role=\"presentation\">&#x3C;/div> </code></pre>   </li>   <li>     <p><strong>Main Content:</strong></p>     <pre><code class=\"language-html\">&#x3C;main id=\"contentArea\" role=\"main\"> </code></pre>   </li> </ol> <p><strong>Dynamic ARIA Updates:</strong></p> <ul>   <li>Update <code>aria-expanded</code> when dropdowns/sidebar open/close</li>   <li>Update <code>aria-hidden</code> for backdrop and mobile sidebar</li>   <li>Update <code>aria-current=\"page\"</code> on active navigation item</li>   <li>Update <code>aria-label</code> on notifications button to include count</li> </ul> <h3>Screen Reader Support</h3> <p><strong>Announcements:</strong></p> <ul>   <li>Announce sidebar state changes (use aria-live region or visually hidden text)</li>   <li>Example: <code>&#x3C;span role=\"status\" class=\"sr-only\">Sidebar opened&#x3C;/span></code></li> </ul> <p><strong>Labels:</strong></p> <ul>   <li>All icon-only buttons must have descriptive <code>aria-label</code></li>   <li>In collapsed state, nav items should have <code>aria-label</code> or sr-only text</li>   <li>Example: <code>&#x3C;span class=\"sr-only\">Dashboard&#x3C;/span></code> or <code>aria-label=\"Dashboard\"</code></li> </ul> <p><strong>Screen Reader Only Text (sr-only class):</strong></p> <pre><code class=\"language-css\">.sr-only {   position: absolute;   width: 1px;   height: 1px;   padding: 0;   margin: -1px;   overflow: hidden;   clip: rect(0, 0, 0, 0);   white-space: nowrap;   border-width: 0; } </code></pre> <p><strong>Badges:</strong></p> <ul>   <li>Notification badge count must be announced</li>   <li>Include count in button <code>aria-label</code>: <code>\"Notifications: 3 unread\"</code></li>   <li>Alternative: Use <code>aria-describedby</code> pointing to badge element</li> </ul> <p><strong>Landmarks:</strong></p> <ul>   <li>Use semantic HTML: <code>&#x3C;nav></code>, <code>&#x3C;main></code>, <code>&#x3C;header></code>, <code>&#x3C;footer></code></li>   <li>Or use ARIA roles: <code>role=\"navigation\"</code>, <code>role=\"main\"</code>, <code>role=\"banner\"</code>, <code>role=\"contentinfo\"</code></li> </ul> <h3>Color Contrast</h3> <p><strong>Requirements:</strong></p> <ul>   <li><strong>WCAG AA</strong>: 4.5:1 for normal text, 3:1 for large text (18pt+ or 14pt+ bold)</li>   <li><strong>WCAG AAA (Recommended)</strong>: 7:1 for important text</li> </ul> <p><strong>Verification:</strong></p> <ul>   <li>Use WebAIM Contrast Checker or similar tool</li>   <li>Test all text/background combinations:     <ul>       <li>Sidebar text on background</li>       <li>Header text on background</li>       <li>Footer text on background</li>       <li>Content text on background</li>       <li>Link text on background</li>       <li>Button text on background</li>       <li>Active nav item text</li>       <li>Focus indicators</li>     </ul>   </li> </ul> <h3>Focus Visible Styles</h3> <p><strong>Implementation:</strong></p> <pre><code class=\"language-css\">button:focus-visible, a:focus-visible, [tabindex]:focus-visible {   outline: 2px solid var(--primary-color);   outline-offset: 2px; }  /* Fallback for older browsers */ button:focus, a:focus, [tabindex]:focus {   outline: 2px solid var(--primary-color);   outline-offset: 2px; } </code></pre> <h3>Accessibility Implementation Checklist</h3> <p>When implementing this dashboard, ensure:</p> <ul>   <li>[ ] All buttons have <code>aria-label</code> or visible text</li>   <li>[ ] All icons have <code>aria-label</code> or sr-only text</li>   <li>[ ] Navigation items have <code>aria-current=\"page\"</code> when active</li>   <li>[ ] Dropdowns have <code>role=\"menu\"</code> and items have <code>role=\"menuitem\"</code></li>   <li>[ ] All interactive elements have <code>aria-expanded</code> when applicable</li>   <li>[ ] Notifications badge count included in button <code>aria-label</code></li>   <li>[ ] Focus visible on all interactive elements</li>   <li>[ ] Focus trapped in mobile sidebar</li>   <li>[ ] Focus restored when sidebar closes</li>   <li>[ ] <code>aria-hidden</code> managed correctly for backdrop and mobile sidebar</li>   <li>[ ] <code>aria-live</code> regions for dynamic content (optional but recommended)</li>   <li>[ ] Color contrast verified with contrast checker tool</li>   <li>[ ] Keyboard navigation works throughout</li>   <li>[ ] Screen reader tested with NVDA, VoiceOver, or JAWS</li> </ul> <h2>Design System Specifications</h2> <p><strong>Important</strong>: The design specifications below are tool-agnostic and should be implemented using your project's chosen styling approach (Tailwind, CSS Modules, styled-components, Chakra UI, Material-UI, SCSS, etc.). The styling examples in the \"Code Implementation Patterns\" section show how to apply these design values, but these specifications are the source of truth for the design.</p> <h3>Color Guidelines</h3> <h4>Sidebar</h4> <ul>   <li><strong>Background (Light)</strong>: Dark neutral (e.g., #1f2937, #111827) or white (#ffffff) with subtle border</li>   <li><strong>Background (Dark)</strong>: #1a1a1a or #0f172a</li>   <li><strong>Text (Light)</strong>: High contrast white (#ffffff) or light gray (#f3f4f6) on dark background</li>   <li><strong>Text (Dark)</strong>: #e0e0e0 or #f1f5f9</li>   <li><strong>Active Item</strong>: Primary color at 10-20% opacity overlay, or solid primary color. Text in primary color or white if using solid background</li>   <li><strong>Hover</strong>: Subtle background change (5-10% opacity overlay of primary or neutral) with smooth 150ms transition</li>   <li><strong>Icons</strong>: Match text color by default, primary color or white when active</li>   <li><strong>Contrast</strong>: Minimum 4.5:1 contrast ratio (WCAG AA)</li> </ul> <h4>Header</h4> <ul>   <li><strong>Background (Light)</strong>: White (#ffffff) or very light gray (#f9fafb)</li>   <li><strong>Background (Dark)</strong>: #1a1a1a or #0f172a</li>   <li><strong>Border/Shadow</strong>: 1px solid border-bottom or subtle box-shadow (rgba(0, 0, 0, 0.05) to rgba(0, 0, 0, 0.1) for light, rgba(255, 255, 255, 0.1) for dark)</li>   <li><strong>Text (Light)</strong>: Dark gray (#111827, #1f2937) or black (#000000)</li>   <li><strong>Text (Dark)</strong>: #e0e0e0 or #f1f5f9</li>   <li><strong>Icons</strong>: Medium gray (#6b7280, #9ca3af) by default, darker gray (#374151) or primary color on hover</li> </ul> <h4>Footer</h4> <ul>   <li><strong>Background</strong>: Match header (white or light gray for light mode, #1a1a1a for dark mode)</li>   <li><strong>Border</strong>: 1px solid border-top or subtle box-shadow on top (same colors as header)</li>   <li><strong>Text</strong>: Muted dark gray (rgba(0, 0, 0, 0.6) or #6b7280) for light, muted light gray (rgba(255, 255, 255, 0.6) or #9ca3af) for dark</li>   <li><strong>Links</strong>: Match footer text color by default, primary color or darker/lighter variant on hover</li> </ul> <h4>Content Area</h4> <ul>   <li><strong>Background (Light)</strong>: Light gray (#f5f5f5, #f9fafb) or white (#ffffff)</li>   <li><strong>Background (Dark)</strong>: #121212 or #0f172a</li>   <li><strong>Text (Light)</strong>: Dark gray (#111827, #1f2937, #1a1a1a)</li>   <li><strong>Text (Dark)</strong>: #e0e0e0 or #f1f5f9</li>   <li><strong>Contrast</strong>: Ensure 4.5:1 contrast ratio minimum (WCAG AA), 7:1 recommended for important text (WCAG AAA)</li> </ul> <h4>Mobile Backdrop</h4> <ul>   <li><strong>Background</strong>: rgba(0, 0, 0, 0.5) to rgba(0, 0, 0, 0.75)</li>   <li><strong>Optional</strong>: backdrop-filter: blur(4px) for modern browsers</li> </ul> <h3>Typography</h3> <ul>   <li><strong>Font Family</strong>: Use project's font stack (typically: system-ui, -apple-system, sans-serif or custom font)</li>   <li><strong>Sidebar Nav Items</strong>: 14-16px, medium weight (500-600)</li>   <li><strong>Sidebar Logo</strong>: 18-24px, bold (700)</li>   <li><strong>Header Title</strong>: 20-24px, semibold (600) or bold (700)</li>   <li><strong>Header Breadcrumbs</strong>: 14-16px, regular (400) or medium (500)</li>   <li><strong>Footer Text</strong>: 14px, regular (400)</li>   <li><strong>Content Body</strong>: 16px, regular (400)</li>   <li><strong>Content Headings</strong>: Use semantic heading sizes (h1: 32-36px, h2: 24-28px, etc.)</li>   <li><strong>Line Height</strong>: 1.25 for headings, 1.5 for body text, 1.75 for long-form content</li> </ul> <h3>Spacing System</h3> <p>Use consistent spacing scale (4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px) or your project's spacing system:</p> <ul>   <li><strong>Sidebar</strong>: 16px horizontal padding, 12px vertical padding for nav items, 12-16px gap between icon and text, 24-32px gap between sections</li>   <li><strong>Header</strong>: 16-24px horizontal padding, 16-24px gap between elements</li>   <li><strong>Footer</strong>: 16-24px horizontal padding, 24px gap between links</li>   <li><strong>Content</strong>: 24-32px padding on all sides (desktop), 16px (mobile), optional max-width 1400px for better readability</li> </ul> <h3>Shadows &#x26; Elevation</h3> <p>Use subtle shadows for depth and separation:</p> <ul>   <li><strong>Header Shadow (Light)</strong>: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)</li>   <li><strong>Header Shadow (Dark)</strong>: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2)</li>   <li><strong>Footer Shadow (Light)</strong>: 0 -1px 3px rgba(0, 0, 0, 0.1), 0 -1px 2px rgba(0, 0, 0, 0.06)</li>   <li><strong>Footer Shadow (Dark)</strong>: 0 -1px 3px rgba(0, 0, 0, 0.3), 0 -1px 2px rgba(0, 0, 0, 0.2)</li>   <li><strong>Dropdowns (Light)</strong>: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)</li>   <li><strong>Dropdowns (Dark)</strong>: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2)</li> </ul> <h3>Border Radius</h3> <ul>   <li><strong>Buttons</strong>: 6-8px</li>   <li><strong>Dropdowns</strong>: 8-12px</li>   <li><strong>Avatars</strong>: 50% (circle)</li>   <li><strong>Badges</strong>: 12-16px (pill shape) or 4-6px (rounded square)</li>   <li><strong>Cards</strong>: 8-12px (if used in content)</li> </ul> <h3>Visual Hierarchy Principles</h3> <ol>   <li>Sidebar should be visually distinct from content (different background or border)</li>   <li>Header and footer should have subtle elevation (shadow or border) to separate from content</li>   <li>Active navigation items should be clearly highlighted</li>   <li>Hover states should provide clear feedback</li>   <li>Icons and text should maintain proper visual balance</li>   <li>Spacing should create clear grouping and hierarchy</li>   <li>Interactive elements should have clear visual feedback on hover/focus states</li> </ol> <h2>State Management Considerations</h2> <h3>For AI Agents to Implement</h3> <p><strong>State to Track:</strong></p> <ol>   <li><code>sidebarOpen: boolean</code> - Whether sidebar is visible (mobile)</li>   <li><code>sidebarCollapsed: boolean</code> - Whether sidebar is in icon-only mode (desktop)</li>   <li><code>activeNavItem: string</code> - Current active navigation item ID     <ul>       <li><strong>Determination</strong>: Sync with router current route or URL hash, update on navigation</li>     </ul>   </li>   <li><code>userMenuOpen: boolean</code> - User dropdown state</li>   <li><code>notificationsOpen: boolean</code> - Notifications dropdown state</li>   <li><code>notifications: array</code> - List of notifications with unread count</li> </ol> <p><strong>State Persistence:</strong></p> <ul>   <li><code>sidebarCollapsed</code> â†’ localStorage</li>   <li><code>activeNavItem</code> â†’ Sync with router/URL</li>   <li>Other dropdown states â†’ Component state only (don't persist)</li> </ul> <h3>SSR/Hydration Considerations</h3> <ul>   <li><strong>localStorage access</strong>: Only access localStorage in <code>onMounted</code>/<code>useEffect</code>, check for <code>window</code> object existence</li>   <li><strong>Default state</strong>: Use <code>false</code> as default for <code>sidebarCollapsed</code>, update after mount to prevent hydration mismatches</li>   <li><strong>Implementation</strong>: Check <code>typeof window !== 'undefined'</code> before accessing localStorage, initialize state after component mount</li>   <li><strong>React Note</strong>: Extract localStorage logic into a <code>useLocalStorage</code> custom hook rather than putting it directly in <code>useEffect</code></li> </ul> <h2>Critical Implementation Guidelines</h2> <h3>Vanilla CSS Detection</h3> <p><strong>CRITICAL</strong>: When detecting vanilla CSS in the project, ALWAYS create CSS classes in a stylesheet. NEVER use inline style attributes on HTML elements.</p> <ul>   <li>Define classes like <code>.sidebar</code>, <code>.sidebar--collapsed</code>, <code>.header</code>, <code>.header--shifted</code>, etc. in your CSS file</li>   <li>Apply classes via <code>className</code>/<code>class</code> attributes: <code>&#x3C;aside class=\"sidebar sidebar--collapsed\"></code></li>   <li>Do NOT use: <code>&#x3C;aside style=\"width: 80px\"></code></li>   <li>This ensures maintainability, reusability, and proper separation of concerns</li> </ul> <h3>React Hook Patterns</h3> <p><strong>CRITICAL</strong>: When detecting React, extract logic from <code>useEffect</code> hooks into separate custom hooks that do ONE thing each.</p> <ul>   <li>Instead of one <code>useEffect</code> handling multiple concerns (localStorage + scroll lock + focus trap), create separate hooks:     <ul>       <li><code>useLocalStorage(key, defaultValue)</code> - Handles localStorage persistence only</li>       <li><code>useBodyScrollLock(isLocked)</code> - Handles body scroll locking only</li>       <li><code>useFocusTrap(containerRef, isActive)</code> - Handles focus trapping only</li>       <li><code>useSidebarState()</code> - Manages sidebar state only</li>     </ul>   </li>   <li>This improves code organization, testability, and reusability</li>   <li>Each hook should have a single responsibility</li> </ul> <h2>Code Implementation Patterns</h2> <h3>React Example Pattern</h3> <pre><code class=\"language-jsx\">// Suggested component structure &#x3C;DashboardLayout>   &#x3C;Sidebar      collapsed={collapsed}     onToggle={handleToggle}     activeItem={activeRoute}     navItems={navigationConfig}   />   &#x3C;MainContent>     &#x3C;Header        onMenuToggle={handleMobileMenuToggle}       user={currentUser}       notifications={notifications}     />     &#x3C;ContentArea>       {children}     &#x3C;/ContentArea>   &#x3C;/MainContent> &#x3C;/DashboardLayout> </code></pre> <h3>Angular Example Pattern</h3> <pre><code class=\"language-html\">&#x3C;!-- Suggested template structure --> &#x3C;app-dashboard-layout>   &#x3C;app-sidebar     [collapsed]=\"isCollapsed\"     [activeItem]=\"activeRoute\"     (toggle)=\"onSidebarToggle()\"   />   &#x3C;div class=\"main-content\">     &#x3C;app-header       [user]=\"currentUser\"       (menuToggle)=\"onMobileMenuToggle()\"     />     &#x3C;main class=\"content-area\">       &#x3C;router-outlet>&#x3C;/router-outlet>     &#x3C;/main>   &#x3C;/div> &#x3C;/app-dashboard-layout> </code></pre> <h3>Vue Example Pattern</h3> <pre><code class=\"language-vue\">&#x3C;!-- Suggested component structure --> &#x3C;template>   &#x3C;DashboardLayout>     &#x3C;Sidebar       :collapsed=\"isCollapsed\"       :active-item=\"activeRoute\"       @toggle=\"handleToggle\"     />     &#x3C;MainContent>       &#x3C;HeaderBar         :user=\"currentUser\"         @menu-toggle=\"handleMobileMenuToggle\"       />       &#x3C;ContentArea>         &#x3C;slot />       &#x3C;/ContentArea>     &#x3C;/MainContent>   &#x3C;/DashboardLayout> &#x3C;/template> </code></pre> <h3>CSS/Styling Approaches</h3> <p><strong>Note</strong>: The examples below show how to implement the design specifications using different styling tools. Always refer to the \"Design System Specifications\" section above for the authoritative design values, then adapt them to your project's styling approach.</p> <h4>Tailwind CSS Pattern</h4> <pre><code class=\"language-html\">&#x3C;!-- Sidebar --> &#x3C;aside class=\"fixed left-0 top-0 h-full w-[280px] bg-gray-900 text-white transition-all duration-300 ease-in-out md:translate-x-0\"         :class=\"{'w-20': collapsed, '-translate-x-full': !mobileOpen}\">   &#x3C;!-- Content --> &#x3C;/aside>  &#x3C;!-- Header --> &#x3C;header class=\"fixed top-0 h-16 bg-white shadow-sm transition-all duration-300\"         :class=\"{'left-[280px]': !collapsed, 'left-20': collapsed}\">   &#x3C;!-- Content --> &#x3C;/header>  &#x3C;!-- Footer --> &#x3C;footer class=\"fixed bottom-0 h-[60px] bg-white shadow-sm transition-all duration-300\"         :class=\"{'left-[280px]': !collapsed, 'left-20': collapsed}\">   &#x3C;!-- Content --> &#x3C;/footer>  &#x3C;!-- Main Content --> &#x3C;main class=\"transition-all duration-300 pt-16 pb-[60px]\"       :class=\"{'ml-[280px]': !collapsed, 'ml-20': collapsed}\">   &#x3C;!-- Content --> &#x3C;/main> </code></pre> <p><strong>Note</strong>: Use arbitrary values like <code>w-[280px]</code> instead of <code>w-64</code> (256px) to match exact design specifications. Use <code>pb-[60px]</code> instead of <code>pb-15</code> (which doesn't exist in Tailwind). Map design system color values to Tailwind color palette or use arbitrary values like <code>bg-[#1f2937]</code>.</p> <h4>Vanilla CSS Pattern</h4> <pre><code class=\"language-css\">/* CRITICAL: Always create CSS classes, never use inline styles */ /* Apply design system values directly */ .sidebar {   position: fixed;   left: 0;   top: 0;   height: 100vh;   width: 280px;   background: #1f2937; /* From design system */   color: #ffffff; /* From design system */   transition: width 300ms cubic-bezier(0.4, 0, 0.2, 1);   box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05); /* From design system */ }  .sidebar.collapsed {   width: 80px; }  .header {   position: fixed;   top: 0;   left: 280px;   right: 0;   height: 64px;   background: #ffffff; /* From design system */   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06); /* From design system */   transition: left 300ms cubic-bezier(0.4, 0, 0.2, 1); }  .header.sidebarCollapsed {   left: 80px; }  .content {   margin-top: 64px;   margin-bottom: 60px;   margin-left: 280px;   padding: 24px; /* From design system spacing */   background: #f5f5f5; /* From design system */   transition: margin-left 300ms cubic-bezier(0.4, 0, 0.2, 1); }  .content.sidebarCollapsed {   margin-left: 80px; } </code></pre> <h4>Material-UI/Chakra Pattern</h4> <ul>   <li>Use Drawer component for sidebar (persistent variant on desktop, temporary on mobile)</li>   <li>Use AppBar for header with elevation</li>   <li>Use Box/Container for main content with appropriate margins</li>   <li><strong>Extend theme</strong> with design system color values, spacing scale, and typography settings</li>   <li>Use theme.transitions for consistent animations matching design system specifications</li>   <li>Leverage theme breakpoints for responsive behavior</li>   <li><strong>Customize colors, spacing, and typography</strong> to match design system specifications</li> </ul> <h2>Animation Specifications</h2> <h3>Sidebar Toggle Animation</h3> <ul>   <li>Duration: 300ms</li>   <li>Easing: cubic-bezier(0.4, 0, 0.2, 1)</li>   <li>Properties:     <ul>       <li>Sidebar: <code>width</code>, <code>transform</code></li>       <li>Header: <code>left</code></li>       <li>Footer: <code>left</code></li>       <li>Content: <code>margin-left</code></li>     </ul>   </li>   <li>Performance:     <ul>       <li>Prefer <code>transform</code> over <code>width</code>/<code>left</code> for better performance when possible</li>       <li>Set <code>will-change: transform</code> on animating elements</li>       <li>Use <code>transform3d(0,0,0)</code> to trigger GPU acceleration if needed</li>     </ul>   </li> </ul> <h3>Mobile Overlay</h3> <ul>   <li>Backdrop fade: 200ms</li>   <li>Sidebar slide: 300ms from left</li>   <li>Stagger: Backdrop starts first, sidebar follows</li> </ul> <h3>Dropdown Animations</h3> <ul>   <li>Duration: 150-200ms</li>   <li>Easing: ease-out</li>   <li>Transform: translateY(-8px) â†’ translateY(0)</li>   <li>Opacity: 0 â†’ 1</li> </ul> <h2>Z-Index Layer System</h2> <p>To ensure proper layering of elements:</p> <ul>   <li><strong>Backdrop</strong>: 40</li>   <li><strong>Sidebar</strong>: 50</li>   <li><strong>Header</strong>: 40</li>   <li><strong>Footer</strong>: 40</li>   <li><strong>Dropdowns</strong>: 50</li>   <li><strong>Tooltips</strong>: 60</li> </ul> <h2>Implementation Details</h2> <h3>Body Scroll Lock (Mobile)</h3> <ul>   <li><strong>When</strong>: Mobile sidebar is open</li>   <li><strong>How</strong>: Set <code>document.body.style.overflow = 'hidden'</code></li>   <li><strong>Cleanup</strong>: Restore on close (<code>document.body.style.overflow = ''</code>)</li> </ul> <h3>Focus Management</h3> <ul>   <li><strong>Focus trap</strong>: Trap focus within sidebar when open on mobile (use focus-trap library or manual implementation)</li>   <li><strong>Focus restoration</strong>: Return focus to trigger button (menu toggle) when sidebar closes</li> </ul> <h3>Backdrop Click</h3> <ul>   <li>Close sidebar when backdrop is clicked</li>   <li>Prevent event bubbling to avoid closing immediately after opening</li> </ul> <h2>Edge Cases</h2> <h3>Long Navigation Labels</h3> <ul>   <li>Truncate with ellipsis, show tooltip on hover</li>   <li>Maintain min-width for icons</li> </ul> <h3>Many Navigation Items</h3> <ul>   <li>Sidebar should scroll, maintain scroll position when toggling collapsed state</li>   <li>Use custom scrollbar styling (6px width, subtle color)</li> </ul> <h3>Rapid Toggling</h3> <ul>   <li>Debounce or disable toggle during transition to prevent animation conflicts</li> </ul> <h3>Window Resize During Animation</h3> <ul>   <li>Complete current animation before re-evaluating breakpoint</li> </ul> <h3>Very Small Screens</h3> <ul>   <li>Consider further reducing padding/spacing on screens &#x3C; 320px</li> </ul> <h3>Content Overflow</h3> <ul>   <li>Ensure content doesn't overflow horizontally when sidebar collapses</li> </ul> <h2>Common Variations</h2> <h3>With Top Navigation</h3> <ul>   <li>Add secondary horizontal navigation below header</li>   <li>Sticky behavior on scroll</li>   <li>Breadcrumbs integration</li> </ul> <h3>With Footer</h3> <ul>   <li>Footer inside content area or fixed at bottom</li>   <li>Adjust content area min-height to push footer down</li> </ul> <h3>With Multiple Sidebars</h3> <ul>   <li>Right sidebar for contextual actions/filters</li>   <li>Coordinate toggle states</li>   <li>Consider collapsing both on smaller screens</li> </ul> <h3>Dark Mode</h3> <ul>   <li>Darker sidebar background (#1a1a1a)</li>   <li>Dark content background (#121212)</li>   <li>Lighter text colors (#e0e0e0)</li>   <li>Adjust shadows to lighter colors</li>   <li>Reduce color saturation slightly</li> </ul> <h2>Testing Checklist</h2> <p>When implementing this layout, test:</p> <ul>   <li>[ ] Sidebar toggles smoothly on desktop</li>   <li>[ ] Sidebar opens as overlay on mobile</li>   <li>[ ] Mobile backdrop dismisses sidebar</li>   <li>[ ] Body scroll is locked when mobile sidebar is open</li>   <li>[ ] Focus is trapped within mobile sidebar</li>   <li>[ ] Focus is restored to menu toggle when sidebar closes</li>   <li>[ ] Content area adjusts to sidebar state</li>   <li>[ ] Header stays fixed on scroll and adjusts to sidebar state</li>   <li>[ ] Footer stays fixed at bottom and adjusts to sidebar state</li>   <li>[ ] Footer is always visible even with minimal content</li>   <li>[ ] Content area has proper spacing for header (margin-top: 64px) and footer (margin-bottom: 60px)</li>   <li>[ ] Active navigation item is highlighted</li>   <li>[ ] User dropdown opens and closes correctly</li>   <li>[ ] Keyboard navigation works throughout</li>   <li>[ ] Screen reader announces state changes</li>   <li>[ ] Sidebar state persists on reload</li>   <li>[ ] No horizontal scroll when sidebar collapses</li>   <li>[ ] Responsive at all breakpoints (mobile, tablet, desktop)</li>   <li>[ ] Window resize handling works correctly (debounced, closes mobile sidebar on desktop switch)</li>   <li>[ ] Touch interactions work on mobile</li>   <li>[ ] Animations are smooth (60fps)</li>   <li>[ ] No layout shift or flicker on load</li>   <li>[ ] SSR/hydration safe (localStorage accessed after mount)</li>   <li>[ ] Long navigation labels are truncated properly</li>   <li>[ ] Many navigation items scroll correctly in sidebar</li> </ul> <h2>AI Agent Implementation Prompt Template</h2> <p>Use this template when asking an AI agent to implement this dashboard:</p> <pre><code>Create a responsive dashboard layout with the following specifications:  1. Sidebar:     - Fixed position, 280px wide when expanded, 80px when collapsed    - Collapsible with toggle button    - Contains logo and navigation menu with icons    - Overlay mode on mobile (&#x3C;768px)    - Persist collapsed state in localStorage  2. Header:    - Fixed at top, 64px height    - Contains mobile menu toggle, title, notifications button, and user dropdown    - Adjusts left margin based on sidebar state  3. Content Area:    - Scrollable main content    - 24px padding    - Adjusts margin based on sidebar state    - Smooth transitions (300ms)  4. Use [Framework: React/Angular/Vue] with [Styling: Tailwind/Chakra/CSS Modules]  5. Include:    - Smooth animations    - Keyboard accessibility    - ARIA labels    - Mobile-responsive behavior    - Active state for current page  Reference: UI Potion Dashboard Layout </code></pre> <h2>Additional Resources</h2> <h3>Navigation Configuration Example</h3> <pre><code class=\"language-javascript\">const navigationItems = [   { id: 'dashboard', label: 'Dashboard', icon: 'ChartIcon', href: '/' },   { id: 'analytics', label: 'Analytics', icon: 'TrendingUpIcon', href: '/analytics' },   { id: 'users', label: 'Users', icon: 'UsersIcon', href: '/users' },   { id: 'settings', label: 'Settings', icon: 'SettingsIcon', href: '/settings' }, ]; </code></pre> <h3>Notification Data Structure</h3> <pre><code class=\"language-javascript\">const notifications = [   { id: 1, title: 'New user registered', time: '5 min ago', unread: true },   { id: 2, title: 'Report generated', time: '1 hour ago', unread: false }, ]; </code></pre> <hr> <h2>Summary for AI Agents</h2> <p>This dashboard layout is a standard three-section layout (sidebar, header, content) with collapsible sidebar functionality. Key implementation points:</p> <ol>   <li><strong>Layout</strong>: CSS Grid or Flexbox with fixed positioning for sidebar and header</li>   <li><strong>State</strong>: Track sidebar collapse state, persist in localStorage</li>   <li><strong>Responsive</strong>: Sidebar becomes overlay on mobile, header spans full width</li>   <li><strong>Animations</strong>: 300ms transitions on width/margin changes</li>   <li><strong>Accessibility</strong>: ARIA labels, keyboard navigation, focus management</li>   <li><strong>Framework-agnostic</strong>: Adapt patterns to any framework's component model</li> </ol> <p>Generate clean, semantic HTML with proper component separation. Use framework-specific state management patterns and CSS methodology as specified by the user.</p>","excerpt":"A responsive admin dashboard layout with collapsible sidebar navigation and fixed header. Perfect for admin panels, SaaS applications, and data-driven interfaces.","publicationDate":"2026-01-10","tags":["layouts","dashboard","sidebar","responsive","admin"],"coverImage":""},{"fileName":"features/pricing-table.html","title":"3-Tier SaaS Pricing Table with Monthly/Yearly Toggle","body":"<h1>3-Tier SaaS Pricing Table</h1> <p>A responsive 3-tier pricing table component with monthly/yearly billing toggle, highlighted \"Most Popular\" plan, and feature comparison. Perfect for SaaS marketing pages, product pages, and subscription-based services.</p> <h2>Overview</h2> <p>This pricing table is designed to maximize conversion with clear visual hierarchy, prominent CTAs, and transparent feature comparison. It adapts seamlessly from desktop 3-column layout to mobile stacked cards.</p> <h2>Structure Specification</h2> <h3>Component Hierarchy</h3> <p>The pricing table consists of a Container that holds a Billing Toggle section at the top, followed by a Plans Grid with three Plan Cards (Starter, Professional with \"Most Popular\" badge, and Enterprise). Each Plan Card contains a Header (with plan name and optional badge), Pricing section (with amount and billing period), CTA Button, and Feature List (with checkmarks and x-marks).</p> <h2>Detailed Component Specifications</h2> <h3>1. Pricing Table Container</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Max width: 1200px (desktop)</li>   <li>Padding: 48-64px vertical, 24-32px horizontal</li>   <li>Gap between billing toggle and plans: 48-64px</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Centers content horizontally</li>   <li>Responsive padding (reduces on mobile)</li>   <li>Background can be neutral, gradient, or transparent</li> </ul> <h3>2. Billing Toggle</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Container: Centered, max-width 400px</li>   <li>Toggle switch: 200-240px wide</li>   <li>Label spacing: 16px gap between labels and switch</li>   <li>Savings badge: Small pill, right of \"Yearly\" label</li> </ul> <p><strong>Layout:</strong></p> <p>The toggle consists of a Monthly label, toggle switch in the center, Yearly label, and a \"Save 20%\" badge to the right of Yearly.</p> <p><strong>States:</strong></p> <ul>   <li><code>monthly</code> (default) - Shows monthly pricing</li>   <li><code>yearly</code> - Shows yearly pricing (with discount if applicable)</li> </ul> <p><strong>Elements:</strong></p> <h4>Toggle Labels</h4> <ul>   <li>Font size: 16px</li>   <li>Weight: Medium (500) for inactive, Semibold (600) for active</li>   <li>Color: Muted gray for inactive, primary text for active</li>   <li>Transition: Smooth color change (150ms)</li> </ul> <h4>Toggle Switch</h4> <ul>   <li>Width: 56px, Height: 32px</li>   <li>Border radius: 16px (pill shape)</li>   <li>Thumb: 24px circle</li>   <li>Colors:     <ul>       <li>Background (inactive): Light gray (#e5e7eb)</li>       <li>Background (active): Primary color (#3b82f6)</li>       <li>Thumb: White (#ffffff)</li>     </ul>   </li>   <li>Animation: Thumb slides 150-200ms with ease-out</li> </ul> <h4>Savings Badge</h4> <ul>   <li>Padding: 4px 12px</li>   <li>Border radius: 12px (pill)</li>   <li>Background: Success/primary color at 10-20% opacity</li>   <li>Text: 12-14px, medium weight</li>   <li>Icon: Optional small savings/discount icon</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Click either label or switch to toggle</li>   <li>Keyboard accessible (Tab to focus, Enter/Space to toggle)</li>   <li>Updates all plan prices simultaneously</li>   <li>Smooth price transition (fade or slide animation)</li>   <li>ARIA: <code>role=\"switch\"</code>, <code>aria-checked=\"true/false\"</code>, <code>aria-label=\"Billing frequency\"</code></li> </ul> <h3>3. Plans Grid</h3> <p><strong>Layout:</strong></p> <ul>   <li>Desktop (â‰¥1024px): 3 columns, equal width, 24-32px gap</li>   <li>Tablet (768px-1023px): 3 columns, smaller gap (16-24px)</li>   <li>Mobile (&#x3C;768px): Single column, 24px gap, stacked</li> </ul> <p><strong>Alignment:</strong></p> <ul>   <li>Plans vertically aligned at top</li>   <li>\"Most Popular\" plan can be visually elevated (slightly larger or with subtle shadow)</li> </ul> <p><strong>Responsive:</strong></p> <ul>   <li>Grid to stack transition smooth</li>   <li>Mobile cards full width with 16px margins</li> </ul> <h3>4. Plan Card</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Padding: 32-40px (desktop), 24-32px (mobile)</li>   <li>Border radius: 12-16px</li>   <li>Min height: Equal across all plans for better visual alignment</li> </ul> <p><strong>Visual Hierarchy:</strong></p> <ul>   <li>Most popular plan stands out with:     <ul>       <li>Darker border or shadow</li>       <li>Optional scale (102-105%)</li>       <li>Higher z-index for depth</li>       <li>Primary color accent</li>     </ul>   </li> </ul> <p><strong>States:</strong></p> <ul>   <li>Default - Standard appearance</li>   <li>Highlighted (Most Popular) - Enhanced visual prominence</li>   <li>Hover - Subtle scale or shadow increase</li> </ul> <p><strong>Border &#x26; Shadow:</strong></p> <ul>   <li>Border: 1px solid, light gray (#e5e7eb) or transparent</li>   <li>Shadow: Subtle elevation, more prominent on popular plan</li>   <li>Hover shadow: Slightly increased elevation</li> </ul> <p><strong>Background:</strong></p> <ul>   <li>Light mode: White (#ffffff) or very light gray (#fafafa)</li>   <li>Dark mode: Dark neutral (#1f2937) or slightly lighter than page background</li> </ul> <h3>5. Plan Header</h3> <p><strong>Layout:</strong></p> <ul>   <li>Badge (if applicable) at top</li>   <li>Plan name below badge</li>   <li>Optional subtitle/description below name</li> </ul> <p><strong>Elements:</strong></p> <h4>Badge (\"Most Popular\", \"Best Value\")</h4> <ul>   <li>Position: Top of card, centered or left-aligned</li>   <li>Padding: 6px 16px</li>   <li>Border radius: 12px (pill) or 6px (rounded)</li>   <li>Background: Primary color or gradient</li>   <li>Text: 12-14px, medium/semibold weight, uppercase optional</li>   <li>Color: White or high-contrast text</li>   <li>Icon: Optional star/crown icon</li> </ul> <h4>Plan Name</h4> <ul>   <li>Font size: 24-28px (desktop), 20-24px (mobile)</li>   <li>Weight: Bold (700) or Semibold (600)</li>   <li>Color: Primary text color</li>   <li>Margin: 12-16px below badge, 8-12px above pricing</li> </ul> <h4>Description (Optional)</h4> <ul>   <li>Font size: 14-16px</li>   <li>Weight: Regular (400)</li>   <li>Color: Muted text (#6b7280)</li>   <li>Margin: 8px below plan name</li>   <li>Example: \"Perfect for individuals\"</li> </ul> <h3>6. Pricing Section</h3> <p><strong>Layout:</strong></p> <ul>   <li>Price amount prominent and centered/left-aligned</li>   <li>Billing period below or adjacent to price</li>   <li>Optional \"from\" prefix for variable pricing</li>   <li>Optional strikethrough original price (for yearly savings)</li> </ul> <p><strong>Elements:</strong></p> <h4>Price Amount</h4> <ul>   <li>Font size: 48-56px (desktop), 40-48px (mobile)</li>   <li>Weight: Bold (700) or Extra Bold (800)</li>   <li>Color: Primary text color</li>   <li>Currency symbol: Same size or slightly smaller (80% size)</li>   <li>Decimals: Optional, smaller size (60-70% of price)</li> </ul> <h4>Billing Period</h4> <ul>   <li>Font size: 16-18px</li>   <li>Weight: Regular (400) or Medium (500)</li>   <li>Color: Muted text (#6b7280)</li>   <li>Format: \"/month\" or \"/mo\", \"/year\" or \"/yr\"</li>   <li>Position: Adjacent to price (baseline aligned) or below</li> </ul> <h4>Price Change Animation</h4> <ul>   <li>Duration: 200-250ms</li>   <li>Easing: ease-in-out</li>   <li>Effect: Fade out old price, fade in new price</li>   <li>Alternative: Slide up/down or scale</li>   <li>Stagger: Optional subtle delay between cards (50ms)</li> </ul> <h4>Discount Indicator (Yearly Plans)</h4> <ul>   <li>Original price: Strikethrough, smaller, muted</li>   <li>Position: Above or next to new price</li>   <li>Example: \"~~$348~~ $279/year\"</li>   <li>Savings text: \"Save $69/year\" below price</li> </ul> <h3>7. CTA Button</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Width: Full width or 80-90% of card width</li>   <li>Height: 48-56px (desktop), 44-48px (mobile)</li>   <li>Padding: 12-16px vertical, 24-32px horizontal</li>   <li>Border radius: 8-12px</li> </ul> <p><strong>Visual Variants:</strong></p> <h4>Primary CTA (Most Popular Plan)</h4> <ul>   <li>Background: Primary color (#3b82f6)</li>   <li>Text: White (#ffffff)</li>   <li>Weight: Medium (500) or Semibold (600)</li>   <li>Font size: 16-18px</li>   <li>Shadow: Subtle elevation</li>   <li>Hover: Darker shade or increased shadow</li> </ul> <h4>Secondary CTA (Other Plans)</h4> <ul>   <li>Variant 1: Outlined     <ul>       <li>Border: 2px solid primary or neutral</li>       <li>Background: Transparent or white</li>       <li>Text: Primary color</li>       <li>Hover: Light background fill</li>     </ul>   </li>   <li>Variant 2: Ghost/Muted     <ul>       <li>Background: Light gray (#f3f4f6)</li>       <li>Text: Primary text color</li>       <li>Hover: Darker background</li>     </ul>   </li> </ul> <p><strong>States:</strong></p> <ul>   <li>Default - Normal appearance</li>   <li>Hover - Enhanced (shadow/scale/color change)</li>   <li>Active - Slight press effect</li>   <li>Focus - Clear outline (accessibility)</li>   <li>Loading - Disabled with spinner</li>   <li>Disabled - Muted colors, not interactive</li> </ul> <p><strong>Text Examples:</strong></p> <ul>   <li>Free plan: \"Start Free\", \"Get Started Free\"</li>   <li>Paid plans: \"Get Started\", \"Start Trial\", \"Subscribe\"</li>   <li>Enterprise: \"Contact Sales\", \"Request Demo\", \"Talk to Sales\"</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Click triggers appropriate action (signup, checkout, contact form)</li>   <li>Keyboard accessible (Enter/Space)</li>   <li>ARIA: <code>aria-label</code> if button text is ambiguous</li> </ul> <h3>8. Feature List</h3> <p><strong>Layout:</strong></p> <ul>   <li>Unordered list with checkmarks/x-marks</li>   <li>Left-aligned text</li>   <li>Consistent spacing between items</li>   <li>Optional feature grouping with subtle dividers</li> </ul> <p><strong>Dimensions:</strong></p> <ul>   <li>Item height: 36-44px</li>   <li>Icon size: 20-24px</li>   <li>Gap between icon and text: 12-16px</li>   <li>Gap between items: 8-12px</li>   <li>Margin top: 24-32px from CTA</li> </ul> <p><strong>Elements:</strong></p> <h4>Feature Item</h4> <ul>   <li>Font size: 14-16px</li>   <li>Weight: Regular (400)</li>   <li>Color: Primary text for included, muted for unavailable</li>   <li>Line height: 1.5 for readability</li> </ul> <h4>Check Icon (Included Feature)</h4> <ul>   <li>Color: Success green (#10b981) or primary color</li>   <li>Style: Solid checkmark or circle with check</li>   <li>Weight: Medium/bold stroke</li> </ul> <h4>X-Mark / Unavailable Icon</h4> <ul>   <li>Color: Muted gray (#9ca3af) or light red (#ef4444)</li>   <li>Style: X mark, minus sign, or grayed-out check</li>   <li>Optional: Strikethrough text</li> </ul> <h4>Feature Groups (Optional)</h4> <ul>   <li>Group header: 12-14px, uppercase, semibold, muted</li>   <li>Divider: 1px line or extra spacing</li>   <li>Examples: \"Core Features\", \"Advanced Features\", \"Support\"</li> </ul> <p><strong>Accessibility:</strong></p> <ul>   <li>Icons should have <code>aria-hidden=\"true\"</code></li>   <li>Text should convey included/unavailable status</li>   <li>Alternative: Use prefixes like \"Included:\" or \"Not included:\"</li>   <li>Screen reader text: <code>&#x3C;span class=\"sr-only\">Included&#x3C;/span></code></li> </ul> <h3>9. Feature Comparison Behavior</h3> <p><strong>Desktop:</strong></p> <ul>   <li>Features align horizontally across all plans</li>   <li>Equal height for each feature row</li>   <li>Makes it easy to compare at a glance</li> </ul> <p><strong>Mobile:</strong></p> <ul>   <li>Features within each card only</li>   <li>No cross-card comparison (acceptable trade-off)</li>   <li>Consider showing only top features, with \"See all features\" expand</li> </ul> <p><strong>Feature Synchronization:</strong></p> <ul>   <li>If feature appears in multiple plans, keep descriptions identical</li>   <li>Order features by importance (most valuable first)</li>   <li>Consider using tooltips for complex features</li> </ul> <h2>Responsive Breakpoints</h2> <h3>Desktop (â‰¥1024px)</h3> <ul>   <li>3-column grid layout</li>   <li>Full feature lists visible</li>   <li>Larger typography and spacing</li>   <li>\"Most Popular\" plan can be elevated/scaled</li>   <li>Horizontal alignment of features across cards</li> </ul> <h3>Tablet (768px - 1023px)</h3> <ul>   <li>3-column grid maintained, reduced spacing</li>   <li>Slightly smaller typography</li>   <li>Reduced padding in cards</li>   <li>May require horizontal scroll if cards too narrow</li>   <li>Alternative: Switch to 2+1 layout (2 top, 1 bottom)</li> </ul> <h3>Mobile (&#x3C;768px)</h3> <ul>   <li>Single column, stacked cards</li>   <li>Full width cards with 16px margins</li>   <li>Reduced typography sizes</li>   <li>Most Popular plan first or maintain order</li>   <li>Simplified feature lists (show top 5-7, expand for more)</li>   <li>Sticky CTA button optional for easier conversion</li> </ul> <h3>Small Mobile (&#x3C;375px)</h3> <ul>   <li>Further reduced padding (16-20px)</li>   <li>Smaller typography</li>   <li>More compact button sizing</li> </ul> <h2>Interaction Patterns</h2> <h3>Billing Toggle</h3> <ol>   <li>User clicks Monthly/Yearly label or switch</li>   <li>Switch animates to new position (150-200ms)</li>   <li>All prices simultaneously update with smooth transition</li>   <li>Savings badge visibility updates (show on yearly)</li>   <li>State persists during session (optional localStorage)</li> </ol> <h3>Plan Selection</h3> <ol>   <li>User clicks CTA button</li>   <li>Button shows loading state (if async action)</li>   <li>Navigate to signup/checkout with plan preselected</li>   <li>Or open modal for immediate action</li>   <li>Track plan selection for analytics</li> </ol> <h3>Feature Tooltip (Optional)</h3> <ol>   <li>User hovers or clicks info icon next to feature</li>   <li>Tooltip appears with detailed explanation</li>   <li>Tooltip dismisses on mouse leave or Escape key</li>   <li>Accessible via keyboard (Tab to icon, Enter to show)</li> </ol> <h3>Plan Comparison Modal (Optional)</h3> <ol>   <li>\"Compare plans\" link below pricing table</li>   <li>Opens modal or navigates to detailed comparison page</li>   <li>Shows full feature matrix with all plans side-by-side</li>   <li>Helpful for complex products with many features</li> </ol> <h2>Accessibility Requirements</h2> <h3>WCAG 2.1 Compliance (Level AA)</h3> <p><strong>Structure:</strong></p> <ul>   <li>Use semantic HTML: <code>&#x3C;section></code>, <code>&#x3C;article></code>, <code>&#x3C;ul></code>, <code>&#x3C;button></code></li>   <li>Proper heading hierarchy (h2 for section title, h3 for plan names)</li>   <li>Each plan card should be a landmark or have clear structure</li> </ul> <p><strong>Keyboard Navigation:</strong></p> <ul>   <li>Tab order: Billing toggle â†’ Plan 1 CTA â†’ Plan 2 CTA â†’ Plan 3 CTA</li>   <li>Enter/Space: Activate buttons and toggle</li>   <li>Focus visible on all interactive elements</li> </ul> <p><strong>ARIA Attributes:</strong></p> <ol>   <li>     <p><strong>Billing Toggle:</strong></p>     <pre><code class=\"language-html\">&#x3C;div role=\"radiogroup\" aria-label=\"Billing frequency\">   &#x3C;button role=\"radio\" aria-checked=\"true\">Monthly&#x3C;/button>   &#x3C;button role=\"radio\" aria-checked=\"false\">Yearly&#x3C;/button> &#x3C;/div> </code></pre>     <p>Or use switch pattern:</p>     <pre><code class=\"language-html\">&#x3C;button role=\"switch\" aria-checked=\"false\" aria-label=\"Switch to yearly billing\">   &#x3C;span>Monthly&#x3C;/span> | &#x3C;span>Yearly&#x3C;/span> &#x3C;/button> </code></pre>   </li>   <li>     <p><strong>Plan Cards:</strong></p>     <pre><code class=\"language-html\">&#x3C;article aria-labelledby=\"plan-pro-name\">   &#x3C;h3 id=\"plan-pro-name\">Professional&#x3C;/h3>   ... &#x3C;/article> </code></pre>   </li>   <li>     <p><strong>Feature List:</strong></p>     <pre><code class=\"language-html\">&#x3C;ul aria-label=\"Features included in Professional plan\">   &#x3C;li>     &#x3C;svg aria-hidden=\"true\">...&#x3C;/svg>     &#x3C;span>Unlimited projects&#x3C;/span>     &#x3C;span class=\"sr-only\">Included&#x3C;/span>   &#x3C;/li> &#x3C;/ul> </code></pre>   </li>   <li>     <p><strong>Badges:</strong></p>     <pre><code class=\"language-html\">&#x3C;span class=\"badge\" role=\"status\" aria-label=\"Most popular plan\">   Most Popular &#x3C;/span> </code></pre>   </li> </ol> <p><strong>Screen Reader Support:</strong></p> <ul>   <li>Prices announced correctly: \"$29 per month\"</li>   <li>Feature icons marked <code>aria-hidden=\"true\"</code></li>   <li>Feature status clear from text or sr-only spans</li>   <li>Plan changes announced when billing toggle switches</li> </ul> <p><strong>Color Contrast:</strong></p> <ul>   <li>Text: Minimum 4.5:1 contrast ratio</li>   <li>Buttons: 3:1 contrast for non-text elements</li>   <li>Icons: Ensure checkmarks and x-marks are distinguishable</li>   <li>Test with color blindness simulators</li> </ul> <p><strong>Focus Indicators:</strong></p> <pre><code class=\"language-css\">button:focus-visible, a:focus-visible {   outline: 2px solid var(--primary-color);   outline-offset: 2px; } </code></pre> <h2>Design System Specifications</h2> <p><strong>Important</strong>: These specifications are framework and styling-agnostic. Implement using your project's chosen approach (Tailwind, CSS Modules, styled-components, Chakra UI, Material-UI, SCSS, etc.).</p> <h3>Color Guidelines</h3> <h4>Plan Cards</h4> <ul>   <li><strong>Background (Light)</strong>: White (#ffffff) or very light gray (#fafafa)</li>   <li><strong>Background (Dark)</strong>: Dark neutral (#1f2937) or slightly lighter than page (#1a1a1a)</li>   <li><strong>Border (Light)</strong>: Light gray (#e5e7eb) or transparent</li>   <li><strong>Border (Dark)</strong>: Medium gray (#374151) or transparent</li>   <li><strong>Most Popular Border</strong>: Primary color (#3b82f6) or darker border with shadow</li> </ul> <h4>Text Colors</h4> <ul>   <li><strong>Primary Text (Light)</strong>: Dark gray (#111827, #1f2937)</li>   <li><strong>Primary Text (Dark)</strong>: Light gray (#f9fafb, #e5e7eb)</li>   <li><strong>Muted Text (Light)</strong>: Medium gray (#6b7280, #9ca3af)</li>   <li><strong>Muted Text (Dark)</strong>: Medium gray (#9ca3af, #6b7280)</li>   <li><strong>Price</strong>: Emphasis color, typically darker/bolder than primary text</li> </ul> <h4>CTA Buttons</h4> <ul>   <li><strong>Primary Button Background</strong>: Primary color (#3b82f6, #10b981)</li>   <li><strong>Primary Button Text</strong>: White (#ffffff)</li>   <li><strong>Primary Button Hover</strong>: Darker shade (darken by 10-15%)</li>   <li><strong>Secondary Button Border</strong>: Primary color or neutral (#e5e7eb)</li>   <li><strong>Secondary Button Text</strong>: Primary color or primary text</li>   <li><strong>Secondary Button Hover</strong>: Light background fill (#f3f4f6)</li> </ul> <h4>Feature Icons</h4> <ul>   <li><strong>Checkmark (Included)</strong>: Success green (#10b981) or primary color</li>   <li><strong>X-mark (Unavailable)</strong>: Light gray (#9ca3af) or muted red (#ef4444)</li> </ul> <h4>Badge</h4> <ul>   <li><strong>Background</strong>: Primary color or gradient</li>   <li><strong>Text</strong>: White or high-contrast color</li>   <li><strong>Alternative</strong>: Primary color at 10-20% opacity with primary text</li> </ul> <h4>Billing Toggle</h4> <ul>   <li><strong>Inactive Label</strong>: Muted text (#6b7280)</li>   <li><strong>Active Label</strong>: Primary text color</li>   <li><strong>Switch Background (Off)</strong>: Light gray (#e5e7eb)</li>   <li><strong>Switch Background (On)</strong>: Primary color (#3b82f6)</li>   <li><strong>Switch Thumb</strong>: White (#ffffff)</li>   <li><strong>Savings Badge</strong>: Success/primary color at 10-20% opacity, primary text</li> </ul> <h3>Typography</h3> <ul>   <li><strong>Section Title</strong>: 32-40px, bold (700), primary text</li>   <li><strong>Plan Name</strong>: 24-28px (desktop), 20-24px (mobile), semibold/bold</li>   <li><strong>Price</strong>: 48-56px (desktop), 40-48px (mobile), bold/extra-bold</li>   <li><strong>Billing Period</strong>: 16-18px, regular/medium, muted text</li>   <li><strong>CTA Button</strong>: 16-18px, medium/semibold</li>   <li><strong>Features</strong>: 14-16px, regular</li>   <li><strong>Badge</strong>: 12-14px, medium/semibold, uppercase optional</li>   <li><strong>Description</strong>: 14-16px, regular, muted text</li> </ul> <p><strong>Font Family</strong>: Use project's font stack (system-ui, -apple-system, sans-serif or custom)</p> <p><strong>Line Height</strong>:</p> <ul>   <li>Headings: 1.2-1.3</li>   <li>Body text: 1.5</li>   <li>Features: 1.5</li> </ul> <h3>Spacing System</h3> <p>Use consistent spacing scale (4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px):</p> <ul>   <li><strong>Container Padding</strong>: 48-64px vertical, 24-32px horizontal (desktop), 32-48px vertical, 16-24px horizontal (mobile)</li>   <li><strong>Card Padding</strong>: 32-40px (desktop), 24-32px (mobile)</li>   <li><strong>Grid Gap</strong>: 24-32px (desktop), 24px (mobile)</li>   <li><strong>Element Spacing</strong>: 24-32px between major sections, 16-24px between related elements</li>   <li><strong>Feature Items</strong>: 8-12px gap between items</li> </ul> <h3>Shadows &#x26; Elevation</h3> <ul>   <li><strong>Default Card</strong>: <code>0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)</code></li>   <li><strong>Most Popular Card</strong>: <code>0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)</code></li>   <li><strong>Hover Card</strong>: <code>0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)</code></li>   <li><strong>Primary Button</strong>: <code>0 1px 2px rgba(0, 0, 0, 0.05)</code></li>   <li><strong>Primary Button Hover</strong>: <code>0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)</code></li> </ul> <h3>Border Radius</h3> <ul>   <li><strong>Cards</strong>: 12-16px</li>   <li><strong>Buttons</strong>: 8-12px</li>   <li><strong>Badges</strong>: 12px (pill) or 6px (rounded)</li>   <li><strong>Toggle Switch</strong>: 16px (pill)</li> </ul> <h2>State Management Considerations</h2> <h3>For AI Agents to Implement</h3> <p><strong>State to Track:</strong></p> <ol>   <li><code>billingFrequency: \"monthly\" | \"yearly\"</code> - Current billing period selection     <ul>       <li><strong>Default</strong>: \"monthly\"</li>       <li><strong>Persistence</strong>: Session storage or component state (optional localStorage for persistence)</li>     </ul>   </li>   <li><code>selectedPlan: string | null</code> - Which plan user clicked (optional, for analytics)</li>   <li><code>loading: boolean</code> - Loading state for CTA buttons (if async)</li> </ol> <p><strong>Computed Values:</strong></p> <ul>   <li>Current prices based on <code>billingFrequency</code></li>   <li>Discount amounts for yearly plans</li>   <li>Feature availability per plan (can be static data)</li> </ul> <p><strong>State Persistence:</strong></p> <ul>   <li><code>billingFrequency</code> â†’ Session storage (optional)</li>   <li>Reset on page reload acceptable</li>   <li>Or persist in URL query param: <code>?billing=yearly</code></li> </ul> <p><strong>Data Structure:</strong></p> <pre><code class=\"language-javascript\">const pricingPlans = [   {     id: 'starter',     name: 'Starter',     description: 'Perfect for individuals',     monthlyPrice: 9,     yearlyPrice: 89, // 17% discount     highlighted: false,     features: [       { name: 'Up to 5 projects', included: true },       { name: '1 GB storage', included: true },       { name: 'Basic support', included: true },       { name: 'Advanced analytics', included: false },       { name: 'Custom domain', included: false },     ],     cta: { text: 'Start Free', action: '/signup?plan=starter' }   },   {     id: 'professional',     name: 'Professional',     description: 'Perfect for small teams',     monthlyPrice: 29,     yearlyPrice: 279, // 20% discount     highlighted: true,     badge: 'Most Popular',     features: [       { name: 'Unlimited projects', included: true },       { name: '10 GB storage', included: true },       { name: 'Priority support', included: true },       { name: 'Advanced analytics', included: true },       { name: 'Custom domain', included: true },       { name: 'API access', included: false },     ],     cta: { text: 'Get Started', action: '/signup?plan=pro' }   },   {     id: 'enterprise',     name: 'Enterprise',     description: 'Perfect for large organizations',     monthlyPrice: 99,     yearlyPrice: 990, // 17% discount     highlighted: false,     features: [       { name: 'Unlimited everything', included: true },       { name: 'Unlimited storage', included: true },       { name: '24/7 dedicated support', included: true },       { name: 'Advanced analytics', included: true },       { name: 'Custom domain', included: true },       { name: 'API access', included: true },       { name: 'SSO &#x26; SAML', included: true },     ],     cta: { text: 'Contact Sales', action: '/contact?plan=enterprise' }   } ]; </code></pre> <h2>Animation Specifications</h2> <h3>Billing Toggle Animation</h3> <ul>   <li><strong>Duration</strong>: 200ms</li>   <li><strong>Easing</strong>: ease-in-out</li>   <li><strong>Properties</strong>:     <ul>       <li>Switch thumb: <code>transform</code> (translateX)</li>       <li>Switch background: <code>background-color</code></li>       <li>Label colors: <code>color</code></li>     </ul>   </li> </ul> <h3>Price Change Animation</h3> <ul>   <li><strong>Duration</strong>: 250ms</li>   <li><strong>Easing</strong>: ease-in-out</li>   <li><strong>Effect Options</strong>:     <ol>       <li>Fade: Opacity 1 â†’ 0 â†’ 1</li>       <li>Slide: translateY(10px) â†’ translateY(0)</li>       <li>Scale: scale(0.95) â†’ scale(1)</li>     </ol>   </li>   <li><strong>Stagger</strong>: Optional 50ms delay between cards for polished effect</li> </ul> <h3>Card Hover Animation</h3> <ul>   <li><strong>Duration</strong>: 150-200ms</li>   <li><strong>Easing</strong>: ease-out</li>   <li><strong>Properties</strong>:     <ul>       <li>Shadow: Increase elevation</li>       <li>Transform: translateY(-4px) or scale(1.02)</li>     </ul>   </li>   <li><strong>Boundary</strong>: Keep subtle to avoid distraction</li> </ul> <h3>CTA Button Hover</h3> <ul>   <li><strong>Duration</strong>: 150ms</li>   <li><strong>Easing</strong>: ease-out</li>   <li><strong>Properties</strong>:     <ul>       <li>Background color: Darken</li>       <li>Shadow: Increase elevation</li>       <li>Transform: scale(1.02) optional</li>     </ul>   </li> </ul> <h3>Prefers Reduced Motion</h3> <p>When user has <code>prefers-reduced-motion: reduce</code>:</p> <ul>   <li>Disable card hover transforms</li>   <li>Disable price change slide/scale (use only fade)</li>   <li>Keep toggle switch animation (functional)</li>   <li>Reduce animation durations to &#x3C;100ms</li> </ul> <h2>Code Implementation Patterns</h2> <h3>React Example Pattern</h3> <pre><code class=\"language-jsx\">const PricingTable = () => {   const [billingFrequency, setBillingFrequency] = useState('monthly');      const toggleBilling = () => {     setBillingFrequency(prev => prev === 'monthly' ? 'yearly' : 'monthly');   };      return (     &#x3C;section className=\"pricing-container\">       &#x3C;BillingToggle          frequency={billingFrequency}         onToggle={toggleBilling}       />       &#x3C;div className=\"plans-grid\">         {pricingPlans.map(plan => (           &#x3C;PlanCard             key={plan.id}             plan={plan}             billingFrequency={billingFrequency}             highlighted={plan.highlighted}           />         ))}       &#x3C;/div>     &#x3C;/section>   ); }; </code></pre> <h3>Vue Example Pattern</h3> <pre><code class=\"language-vue\">&#x3C;template>   &#x3C;section class=\"pricing-container\">     &#x3C;BillingToggle       :frequency=\"billingFrequency\"       @toggle=\"toggleBilling\"     />     &#x3C;div class=\"plans-grid\">       &#x3C;PlanCard         v-for=\"plan in pricingPlans\"         :key=\"plan.id\"         :plan=\"plan\"         :billing-frequency=\"billingFrequency\"         :highlighted=\"plan.highlighted\"       />     &#x3C;/div>   &#x3C;/section> &#x3C;/template>  &#x3C;script setup> import { ref } from 'vue';  const billingFrequency = ref('monthly');  const toggleBilling = () => {   billingFrequency.value = billingFrequency.value === 'monthly' ? 'yearly' : 'monthly'; }; &#x3C;/script> </code></pre> <h3>Angular Example Pattern</h3> <pre><code class=\"language-typescript\">@Component({   selector: 'app-pricing-table',   template: `     &#x3C;section class=\"pricing-container\">       &#x3C;app-billing-toggle         [frequency]=\"billingFrequency\"         (toggle)=\"toggleBilling()\"       />       &#x3C;div class=\"plans-grid\">         &#x3C;app-plan-card           *ngFor=\"let plan of pricingPlans\"           [plan]=\"plan\"           [billingFrequency]=\"billingFrequency\"           [highlighted]=\"plan.highlighted\"         />       &#x3C;/div>     &#x3C;/section>   ` }) export class PricingTableComponent {   billingFrequency: 'monthly' | 'yearly' = 'monthly';   pricingPlans = PRICING_PLANS;      toggleBilling() {     this.billingFrequency = this.billingFrequency === 'monthly' ? 'yearly' : 'monthly';   } } </code></pre> <h2>Testing Checklist</h2> <p>When implementing this pricing table, test:</p> <ul>   <li>[ ] Billing toggle switches between monthly and yearly</li>   <li>[ ] All plan prices update simultaneously when billing changes</li>   <li>[ ] Price change animations are smooth</li>   <li>[ ] Most Popular plan is visually distinct</li>   <li>[ ] CTA buttons are prominently displayed and functional</li>   <li>[ ] Feature lists align properly across plans (desktop)</li>   <li>[ ] Cards stack properly on mobile</li>   <li>[ ] Responsive at all breakpoints (mobile, tablet, desktop)</li>   <li>[ ] Keyboard navigation works (Tab through toggle and CTAs)</li>   <li>[ ] Screen reader announces prices correctly</li>   <li>[ ] Focus indicators visible on all interactive elements</li>   <li>[ ] Color contrast meets WCAG AA (4.5:1 for text)</li>   <li>[ ] Hover states work on cards and buttons</li>   <li>[ ] Touch interactions work on mobile</li>   <li>[ ] No layout shift when prices change</li>   <li>[ ] Feature icons are accessible (aria-hidden + text)</li>   <li>[ ] Toggle has proper ARIA attributes</li>   <li>[ ] Plan selection tracking works (if implemented)</li>   <li>[ ] Animations respect prefers-reduced-motion</li>   <li>[ ] Long feature text wraps properly</li>   <li>[ ] Badges are readable and accessible</li> </ul> <h2>Common Variations</h2> <h3>2-Tier Pricing</h3> <ul>   <li>Remove middle plan</li>   <li>Adjust grid to 2 columns</li>   <li>Both plans equal visual weight or highlight one</li> </ul> <h3>4+ Tier Pricing</h3> <ul>   <li>Horizontal scroll on mobile</li>   <li>Or accordion/tabs for mobile</li>   <li>Feature comparison table more important</li> </ul> <h3>Feature Comparison Table</h3> <ul>   <li>Separate section below cards</li>   <li>Full feature matrix</li>   <li>Plan columns with checkmarks</li>   <li>\"Compare plans\" link</li> </ul> <h3>Annual Discount Badge</h3> <ul>   <li>Show \"Save 20%\" prominently</li>   <li>Highlight savings in pricing section</li>   <li>Animate badge on toggle</li> </ul> <h3>Free Trial CTA</h3> <ul>   <li>\"Start 14-day free trial\"</li>   <li>Emphasize no credit card required</li>   <li>Convert to paid after trial</li> </ul> <h3>Tiered Features</h3> <ul>   <li>Group features by category</li>   <li>Expandable sections for long lists</li>   <li>Icons for feature categories</li> </ul> <h3>Custom Enterprise</h3> <ul>   <li>\"Contact us\" or \"Request quote\"</li>   <li>Custom pricing</li>   <li>Feature list different or hidden</li> </ul> <h2>Edge Cases</h2> <h3>Very Long Feature Names</h3> <ul>   <li>Wrap text to multiple lines</li>   <li>Maintain consistent height across cards</li>   <li>Consider truncation with tooltip</li> </ul> <h3>Many Features</h3> <ul>   <li>Limit visible features (show top 7-10)</li>   <li>\"Show all features\" expand button</li>   <li>Or link to full comparison page</li> </ul> <h3>Price Changes During View</h3> <ul>   <li>Handle real-time price updates</li>   <li>Smooth transition, no jarring jumps</li>   <li>Consider \"prices may change\" disclaimer</li> </ul> <h3>Currency Conversion</h3> <ul>   <li>Support multiple currencies</li>   <li>Currency selector above/below pricing</li>   <li>Respect user locale</li> </ul> <h3>Fractional Pricing</h3> <ul>   <li>Handle decimals: $9.99 vs $10</li>   <li>Consistent decimal formatting</li>   <li>Cents in smaller font size</li> </ul> <h2>AI Agent Implementation Prompt Template</h2> <p>Use this template when asking an AI agent to implement this pricing table:</p> <pre><code>Create a 3-tier SaaS pricing table with the following specifications:  1. Billing Toggle:    - Monthly/Yearly switch with savings badge    - Smooth toggle animation    - Updates all plan prices simultaneously  2. Three Plan Cards (Starter, Professional, Enterprise):    - Professional plan highlighted as \"Most Popular\"    - Each card includes: plan name, price, CTA button, feature list    - Price changes animate when billing toggle switches    - Responsive: 3-column grid on desktop, stacked on mobile  3. Visual Design:    - Cards with subtle shadows, highlighted plan more prominent    - Checkmarks for included features, x-marks for unavailable    - Primary CTA for highlighted plan, secondary for others    - Consistent spacing and typography  4. Pricing:    - Starter: $9/mo, $89/yr    - Professional: $29/mo, $279/yr (Most Popular)    - Enterprise: $99/mo, $990/yr    - Show savings on yearly plans  5. Accessibility:    - Keyboard navigation (Tab, Enter, Space)    - ARIA labels for toggle and features    - Screen reader announcements for price changes    - Focus visible on all interactive elements  6. Use [Framework: React/Vue/Angular/Svelte] with [Styling: Tailwind/Chakra/CSS Modules]  7. Animate price changes (250ms fade/slide) and respect prefers-reduced-motion  Reference: UI Potion 3-Tier SaaS Pricing Table </code></pre> <h2>Summary for AI Agents</h2> <p>This 3-tier pricing table is a standard marketing component with billing frequency toggle and feature comparison. Key implementation points:</p> <ol>   <li><strong>Layout</strong>: CSS Grid for plans (3 columns desktop, 1 column mobile)</li>   <li><strong>State</strong>: Track billing frequency (monthly/yearly), update prices reactively</li>   <li><strong>Responsive</strong>: Grid to stack transition, adjust typography and spacing</li>   <li><strong>Animations</strong>: Smooth price transitions (250ms), toggle switch animation</li>   <li><strong>Accessibility</strong>: ARIA labels, keyboard navigation, screen reader support</li>   <li><strong>Framework-agnostic</strong>: Adapt patterns to any framework's component model</li> </ol> <p>Generate clean, semantic HTML with proper component separation. Use framework-specific state management patterns and CSS methodology as specified by the user. Prioritize conversion optimization with clear visual hierarchy and prominent CTAs.</p>","excerpt":"A responsive 3-tier pricing table component with monthly/yearly billing toggle, highlighted \"Most Popular\" plan, and feature comparison. Perfect for SaaS marketing pages, product pages, and subscription-based services.","publicationDate":"2026-01-18","tags":["features","pricing","saas","subscription","billing","marketing","responsive","conversion"],"coverImage":""},{"fileName":"components/toast-notifications.html","title":"Toast Notifications (Accessible) with Queue System","body":"<h1>Toast Notifications (Accessible) with Queue System</h1> <p>A non-blocking toast notification system for providing user feedback after actions. Features success, error, warning, and info variants with queue management, auto-dismiss timers, manual dismiss controls, keyboard navigation, and full screen reader support.</p> <h2>Structure Specification</h2> <h3>Component Hierarchy</h3> <p>The toast system consists of a Toast Container (fixed-position wrapper) that holds multiple Toast Items. Each Toast contains an Icon (indicating variant type), Content area (with Title and optional Description), and Action Buttons (Dismiss button and optional action like Undo).</p> <p>The system flows as: Application triggers toast â†’ Toast Manager adds to queue â†’ Container renders visible toasts â†’ Toast auto-dismisses or user dismisses â†’ Next toast in queue appears.</p> <h2>Detailed Component Specifications</h2> <h3>1. Toast Container</h3> <p><strong>Goal</strong>: Manage the display and lifecycle of multiple toast notifications without blocking user interaction.</p> <p><strong>Positioning Options</strong>:</p> <ul>   <li><code>top-right</code> (default) - Most common, good for desktop apps</li>   <li><code>top-left</code> - Alternative for right-to-left layouts</li>   <li><code>bottom-right</code> - Less intrusive, good for long sessions</li>   <li><code>bottom-left</code> - Alternative placement</li>   <li><code>top-center</code> - High visibility, good for critical messages</li>   <li><code>bottom-center</code> - Mobile-first, often used in mobile apps</li> </ul> <p><strong>Container Dimensions</strong>:</p> <ul>   <li>Desktop: 360-420px width, fixed position</li>   <li>Mobile: Full width minus 16px padding on each side</li>   <li>Gap between toasts: 12px vertical spacing</li>   <li>Max visible toasts: 3-5 (configurable, older toasts queue)</li>   <li>Distance from viewport edge: 16-24px</li> </ul> <p><strong>States</strong>:</p> <ul>   <li><code>position</code> (enum, default: \"top-right\") - Container placement</li>   <li><code>maxVisible</code> (number, default: 3) - Maximum toasts shown simultaneously</li>   <li><code>queue</code> (array) - Pending toasts waiting to be displayed</li>   <li><code>pauseOnHover</code> (boolean, default: true) - Pause auto-dismiss on mouse hover</li>   <li><code>pauseOnFocusWithin</code> (boolean, default: true) - Pause when toast has focus</li> </ul> <h3>2. Toast Item Component</h3> <p><strong>Anatomy Slots</strong>:</p> <ul>   <li><code>icon</code> - Variant-specific icon (success checkmark, error X, warning triangle, info circle)</li>   <li><code>content</code> - Text content area</li>   <li><code>title</code> - Main message (required)</li>   <li><code>description</code> - Optional secondary text</li>   <li><code>action</code> - Optional action button (e.g., \"Undo\")</li>   <li><code>dismiss</code> - Close/dismiss button (X icon)</li>   <li><code>progressBar</code> - Optional visual timeout indicator</li> </ul> <p><strong>Dimensions</strong>:</p> <ul>   <li>Height: Auto-sizing, minimum 60px</li>   <li>Padding: 16px horizontal, 12-16px vertical</li>   <li>Border radius: 8-12px</li>   <li>Shadow: Medium elevation (comparable to modals)</li>   <li>Icon size: 20-24px</li>   <li>Dismiss button size: 32Ã—32px touch target</li> </ul> <p><strong>Visual States</strong>:</p> <ul>   <li><code>variant</code> (enum: \"success\" | \"error\" | \"warning\" | \"info\") - Visual style and semantics</li>   <li><code>visible</code> (boolean) - Display state (controls enter/exit animations)</li>   <li><code>paused</code> (boolean) - Whether auto-dismiss timer is paused</li>   <li><code>action</code> (object, optional) - Action button config {label, onClick}</li> </ul> <p><strong>Color Variants</strong>:</p> <p><strong>Success</strong>:</p> <ul>   <li>Background: Green 50-100 (light), Green 900 (dark)</li>   <li>Border: Green 200-300 (light), Green 700 (dark)</li>   <li>Icon/Text: Green 600-700 (light), Green 100 (dark)</li>   <li>Icon: Checkmark circle</li> </ul> <p><strong>Error</strong>:</p> <ul>   <li>Background: Red 50-100 (light), Red 900 (dark)</li>   <li>Border: Red 200-300 (light), Red 700 (dark)</li>   <li>Icon/Text: Red 600-700 (light), Red 100 (dark)</li>   <li>Icon: X circle or exclamation circle</li> </ul> <p><strong>Warning</strong>:</p> <ul>   <li>Background: Amber/Yellow 50-100 (light), Amber 900 (dark)</li>   <li>Border: Amber 200-300 (light), Amber 700 (dark)</li>   <li>Icon/Text: Amber 700-800 (light), Amber 100 (dark)</li>   <li>Icon: Warning triangle or exclamation triangle</li> </ul> <p><strong>Info</strong>:</p> <ul>   <li>Background: Blue 50-100 (light), Blue 900 (dark)</li>   <li>Border: Blue 200-300 (light), Blue 700 (dark)</li>   <li>Icon/Text: Blue 600-700 (light), Blue 100 (dark)</li>   <li>Icon: Info circle or \"i\" icon</li> </ul> <h3>3. Toast Manager (State Management)</h3> <p><strong>Core Responsibilities</strong>:</p> <ul>   <li>Queue management (add, remove, reorder toasts)</li>   <li>Auto-dismiss timers (start, pause, resume, cancel)</li>   <li>Maximum visible enforcement (hide overflow, show on dismiss)</li>   <li>Unique ID generation for each toast</li>   <li>Global toast API (show, dismiss, dismissAll methods)</li> </ul> <p><strong>State Variables</strong>:</p> <pre><code>toasts: Array&#x3C;Toast> - id: string (unique identifier) - variant: \"success\" | \"error\" | \"warning\" | \"info\" - title: string - description?: string - duration: number (ms, 0 = persistent) - action?: {label: string, onClick: Function} - dismissible: boolean - timestamp: number (creation time) - paused: boolean  queue: Array&#x3C;ToastConfig> - Pending toasts waiting for available slot  timers: Map&#x3C;id, TimeoutID> - Active auto-dismiss timers by toast ID </code></pre> <p><strong>API Methods</strong>:</p> <ul>   <li><code>toast.success(title, options?)</code> - Show success toast</li>   <li><code>toast.error(title, options?)</code> - Show error toast</li>   <li><code>toast.warning(title, options?)</code> - Show warning toast</li>   <li><code>toast.info(title, options?)</code> - Show info toast</li>   <li><code>toast.custom(config)</code> - Show custom toast</li>   <li><code>toast.dismiss(id)</code> - Dismiss specific toast</li>   <li><code>toast.dismissAll()</code> - Clear all toasts</li>   <li><code>toast.promise(promise, messages)</code> - Show loading â†’ success/error based on promise result</li> </ul> <h3>4. Auto-Dismiss Behavior</h3> <p><strong>Default Durations</strong> (configurable):</p> <ul>   <li>Success: 4000ms (4 seconds)</li>   <li>Info: 5000ms (5 seconds)</li>   <li>Warning: 6000ms (6 seconds)</li>   <li>Error: 7000ms (7 seconds) - Longer for critical messages</li>   <li>Persistent: 0ms (requires manual dismiss)</li> </ul> <p><strong>Timer Behavior</strong>:</p> <ul>   <li>Timer starts when toast becomes visible</li>   <li>Timer pauses on hover (if <code>pauseOnHover=true</code>)</li>   <li>Timer pauses when toast or action button has keyboard focus</li>   <li>Timer resumes when hover/focus ends</li>   <li>Timer resets if user interacts with action button</li>   <li>Timer cancelled on manual dismiss</li> </ul> <p><strong>Progress Bar</strong> (optional visual indicator):</p> <ul>   <li>Thin bar (2-4px height) at bottom or top of toast</li>   <li>Fills from 0% to 100% over duration period</li>   <li>Pauses fill when timer paused</li>   <li>Color matches variant accent color</li>   <li>Provides visual countdown for auto-dismiss</li> </ul> <h3>5. Queue System</h3> <p><strong>Queue Rules</strong>:</p> <ul>   <li>Max visible toasts enforced (default: 3)</li>   <li>New toasts added to queue when limit reached</li>   <li>Oldest toast dismissed first when queue is full (FIFO)</li>   <li>Exception: High-priority toasts (error) can bump lower-priority</li>   <li>Queue processed on toast dismiss or timeout</li> </ul> <p><strong>Stacking Behavior</strong>:</p> <ul>   <li><strong>Stack (default)</strong>: Toasts stack vertically in container</li>   <li><strong>Replace</strong>: New toast replaces previous toast (for rapid updates)</li>   <li><strong>Queue</strong>: Toasts wait in queue until slot available</li> </ul> <p><strong>Position Ordering</strong>:</p> <ul>   <li>Top positions: Newest toast appears at top, pushes older down</li>   <li>Bottom positions: Newest toast appears at bottom, pushes older up</li>   <li>Animation: Slide in from edge, slide out on dismiss</li> </ul> <h2>Responsive Design</h2> <h3>Desktop (â‰¥1024px)</h3> <ul>   <li>Fixed width: 360-420px</li>   <li>Positioned in corner (top-right default)</li>   <li>Multiple toasts stack vertically</li>   <li>Hover interactions enabled</li> </ul> <h3>Tablet (768px - 1023px)</h3> <ul>   <li>Width: 360px or flexible based on content</li>   <li>Positioned similar to desktop</li>   <li>Touch-friendly dismiss buttons (larger targets)</li> </ul> <h3>Mobile (&#x3C;768px)</h3> <ul>   <li>Full width minus 32px margins (16px each side)</li>   <li>Positioned at bottom-center (most common for mobile)</li>   <li>Swipe to dismiss gesture enabled</li>   <li>Single toast visible at a time (maxVisible: 1)</li>   <li>Larger touch targets (44Ã—44px minimum)</li> </ul> <h2>Accessibility</h2> <h3>Keyboard Navigation</h3> <p><strong>Focusable Elements</strong>:</p> <ul>   <li>Dismiss button (X): Always focusable</li>   <li>Action button (e.g., Undo): Focusable when present</li>   <li>Toast container: Not directly focusable</li> </ul> <p><strong>Keyboard Controls</strong>:</p> <ul>   <li><code>Escape</code>: Dismiss focused toast (or all toasts if none focused)</li>   <li><code>Tab</code>: Navigate between action and dismiss buttons within toast</li>   <li><code>Enter/Space</code>: Activate focused button</li>   <li><code>Shift+Tab</code>: Navigate backwards</li> </ul> <p><strong>Focus Management</strong>:</p> <ul>   <li>Newly appeared toasts do NOT steal focus (non-intrusive)</li>   <li>Keyboard users can Tab to reach toasts</li>   <li>Focus returns to trigger element on dismiss (if applicable)</li>   <li>Multiple toasts: Tab order follows visual stacking order</li> </ul> <h3>Screen Reader Support</h3> <p><strong>ARIA Attributes</strong>:</p> <ul>   <li>Container: <code>aria-live=\"polite\"</code> or <code>aria-live=\"assertive\"</code> (for errors)</li>   <li>Toast: <code>role=\"status\"</code> (success, info) or <code>role=\"alert\"</code> (error, warning)</li>   <li>Title: <code>aria-atomic=\"true\"</code> (announces full message)</li>   <li>Dismiss button: <code>aria-label=\"Dismiss notification\"</code> or <code>aria-label=\"Dismiss [variant] notification\"</code></li>   <li>Action button: Descriptive label (e.g., <code>aria-label=\"Undo delete action\"</code>)</li> </ul> <p><strong>Announcement Strategy</strong>:</p> <ul>   <li>Success/Info: Polite announcements (don't interrupt)</li>   <li>Error/Warning: Assertive announcements (interrupt current speech)</li>   <li>Title + description read together</li>   <li>Multiple rapid toasts: Queue announcements to avoid overlap</li> </ul> <p><strong>Reduced Motion</strong>:</p> <ul>   <li>Disable slide/fade animations when <code>prefers-reduced-motion: reduce</code></li>   <li>Use instant show/hide or simple fade</li>   <li>Maintain functionality without animations</li> </ul> <h2>Animations</h2> <h3>Entry Animation</h3> <ul>   <li>Slide in from container edge + fade in</li>   <li>Duration: 200-300ms</li>   <li>Easing: <code>cubic-bezier(0.16, 1, 0.3, 1)</code> (ease-out bounce)</li>   <li>Transform: <code>translateX(100%)</code> or <code>translateY(-100%)</code> â†’ <code>translate(0)</code></li>   <li>Opacity: 0 â†’ 1</li> </ul> <h3>Exit Animation</h3> <ul>   <li>Slide out to edge + fade out + scale down slightly</li>   <li>Duration: 180-250ms</li>   <li>Easing: <code>cubic-bezier(0.4, 0, 1, 1)</code> (ease-in)</li>   <li>Transform: <code>translate(0)</code> â†’ <code>translateX(100%)</code> or <code>translateY(-100%)</code></li>   <li>Opacity: 1 â†’ 0</li>   <li>Scale: 1 â†’ 0.95</li> </ul> <h3>Stacking Animation</h3> <ul>   <li>When toast dismissed, remaining toasts slide to fill gap</li>   <li>Duration: 200ms</li>   <li>Easing: <code>cubic-bezier(0.4, 0, 0.2, 1)</code> (standard ease)</li> </ul> <h3>Progress Bar Animation</h3> <ul>   <li>Linear progression from 0% to 100%</li>   <li>Duration: Matches auto-dismiss duration</li>   <li>Pause animation on hover/focus</li>   <li>Resume from current position when unpaused</li> </ul> <h3>Hover/Focus States</h3> <ul>   <li>Dismiss button: Scale 1 â†’ 1.1 on hover</li>   <li>Toast: Subtle elevation increase (shadow grows)</li>   <li>Action button: Background color shift</li>   <li>All transitions: 150ms ease-in-out</li> </ul> <h2>Usage Patterns</h2> <h3>Basic Usage</h3> <pre><code>// Success feedback toast.success(\"Changes saved successfully\")  // Error feedback toast.error(\"Failed to delete item\", {   description: \"Please try again or contact support.\" })  // Warning with action toast.warning(\"Your session will expire in 5 minutes\", {   action: {     label: \"Extend\",     onClick: () => extendSession()   } })  // Info notification toast.info(\"New version available\", {   duration: 0, // Persistent until dismissed   action: {     label: \"Reload\",     onClick: () => window.location.reload()   } }) </code></pre> <h3>Promise-Based Usage</h3> <pre><code>toast.promise(   saveData(),   {     loading: \"Saving changes...\",     success: \"Changes saved!\",     error: \"Failed to save changes\"   } ) </code></pre> <h3>Undo Pattern</h3> <pre><code>toast.success(\"Item deleted\", {   duration: 5000,   action: {     label: \"Undo\",     onClick: () => {       restoreItem()       toast.dismiss() // Close this toast     }   } }) </code></pre> <h3>Custom Configuration</h3> <pre><code>toast.custom({   variant: \"success\",   title: \"Profile updated\",   description: \"Your changes are now visible to others\",   duration: 4000,   position: \"bottom-center\",   dismissible: true,   pauseOnHover: true }) </code></pre> <h2>State Management Integration</h2> <h3>Context/Provider Pattern (React/Vue)</h3> <ul>   <li>ToastProvider wraps application root</li>   <li>useToast hook provides toast methods</li>   <li>Central state management for all toasts</li> </ul> <h3>Global Singleton Pattern</h3> <ul>   <li>Exported toast object with methods</li>   <li>Works across any component</li>   <li>No provider required</li> </ul> <h3>Event-Based Pattern</h3> <ul>   <li>Dispatch custom events for toast actions</li>   <li>Toast container listens for events</li>   <li>Framework-agnostic approach</li> </ul> <h2>Testing Checklist</h2> <ul>   <li>[ ] Success/error/warning/info variants display correct colors and icons</li>   <li>[ ] Toasts appear in correct container position (top-right, bottom-center, etc.)</li>   <li>[ ] Auto-dismiss works with correct durations per variant</li>   <li>[ ] Manual dismiss (X button) removes toast immediately</li>   <li>[ ] Hover pauses auto-dismiss timer</li>   <li>[ ] Keyboard focus pauses auto-dismiss timer</li>   <li>[ ] Queue enforces max visible limit (older toasts dismissed when new arrive)</li>   <li>[ ] Multiple toasts stack correctly with proper spacing</li>   <li>[ ] Escape key dismisses focused toast or all toasts</li>   <li>[ ] Tab key navigates between action and dismiss buttons</li>   <li>[ ] Screen reader announces new toasts with correct role (status/alert)</li>   <li>[ ] aria-live region configured correctly (polite vs assertive)</li>   <li>[ ] Animations work smoothly (slide in, slide out, stacking adjustments)</li>   <li>[ ] prefers-reduced-motion disables animations</li>   <li>[ ] Progress bar (if enabled) shows accurate countdown</li>   <li>[ ] Action button executes callback and optionally dismisses toast</li>   <li>[ ] Undo pattern works (action reverses operation, toast dismisses)</li>   <li>[ ] Promise pattern shows loading â†’ success/error based on result</li>   <li>[ ] Mobile: Full width layout with swipe-to-dismiss</li>   <li>[ ] Mobile: Touch targets are 44Ã—44px minimum</li>   <li>[ ] Dark mode: Colors adapt with sufficient contrast</li>   <li>[ ] Rapid toast creation doesn't cause performance issues</li>   <li>[ ] Dismissing all toasts clears queue and active toasts</li>   <li>[ ] Toast IDs are unique across all toasts</li>   <li>[ ] Memory cleanup: Timers cleared on unmount/dismiss</li> </ul> <h2>Common Variations</h2> <h3>Toast with Loading State</h3> <p>Show spinner in toast while async operation completes, then update to success/error.</p> <h3>Toast with Custom Icon</h3> <p>Allow custom icon instead of variant defaults (e.g., user avatar, custom SVG).</p> <h3>Toast with Rich Content</h3> <p>Support for custom content beyond title/description (e.g., images, links, formatted text).</p> <h3>Toast with Multi-Action</h3> <p>Multiple action buttons (e.g., \"Save\" and \"Discard\").</p> <h3>Notification Center Integration</h3> <p>Archive dismissed toasts in a notification center for later review.</p> <h3>Grouped Toasts</h3> <p>Combine similar toasts (e.g., \"3 items deleted\" instead of 3 separate toasts).</p> <h2>Framework Patterns</h2> <h3>React</h3> <ul>   <li>Context + useToast hook for global access</li>   <li>Custom hooks: useToastTimer, useToastQueue</li>   <li>Portal for rendering outside DOM hierarchy</li>   <li>useReducer or useState for toast state</li> </ul> <h3>Vue</h3> <ul>   <li>Composition API with provide/inject</li>   <li>Composable: useToast()</li>   <li>Teleport for rendering in body</li>   <li>ref/reactive for toast state</li> </ul> <h3>Angular</h3> <ul>   <li>Injectable ToastService</li>   <li>Component with dynamic component loading</li>   <li>Portal from @angular/cdk for rendering</li>   <li>BehaviorSubject for toast state</li> </ul> <h3>Svelte</h3> <ul>   <li>Stores for global toast state</li>   <li>Action for dismiss on click-outside</li>   <li>Transition directives for animations</li>   <li>Portal pattern for rendering</li> </ul> <h2>Edge Cases &#x26; Considerations</h2> <h3>Rapid Toast Creation</h3> <ul>   <li>Debounce identical messages within short timeframe (e.g., 500ms)</li>   <li>Group similar toasts (e.g., \"3 items deleted\")</li>   <li>Prevent queue overflow (max queue size: 10-20)</li> </ul> <h3>Long Messages</h3> <ul>   <li>Wrap text properly (don't truncate)</li>   <li>Auto-adjust height based on content</li>   <li>Limit max height and add scroll if needed</li> </ul> <h3>Multiple Actions</h3> <ul>   <li>Support secondary action button</li>   <li>Ensure proper keyboard navigation between multiple buttons</li>   <li>Consider toast width for multiple actions</li> </ul> <h3>Network State Changes</h3> <ul>   <li>Offline toast: Persistent, high priority</li>   <li>Online toast: Brief success notification</li>   <li>Automatic toast on connection changes</li> </ul> <h3>Cleanup on Route Changes</h3> <ul>   <li>Optionally dismiss all toasts on navigation</li>   <li>Or persist across routes for important messages</li>   <li>Configurable behavior per toast</li> </ul> <h3>Z-Index Conflicts</h3> <ul>   <li>Toast container should be above most UI (z-index: 9999 or similar)</li>   <li>Below modals/dialogs if both open</li>   <li>Above dropdowns, tooltips, popovers</li> </ul> <h3>Performance</h3> <ul>   <li>Limit DOM nodes (max visible + small queue)</li>   <li>Use CSS transforms for animations (hardware accelerated)</li>   <li>Debounce rapid updates</li>   <li>Clean up timers and event listeners</li> </ul> <p>This toast notification system provides comprehensive user feedback while maintaining accessibility, performance, and a polished user experience across all devices and contexts.</p>","excerpt":"A non-blocking toast notification system with success/error/warning/info variants, queue management, auto-dismiss, keyboard navigation, and screen reader announcements. Perfect for user feedback after actions.","publicationDate":"2026-01-24","tags":["components","toast","notifications","snackbar","feedback","alerts","a11y","wcag","aria","queue"],"coverImage":""},{"fileName":"components/navbar.html","title":"Navigation Bar (Responsive) with Mobile Menu + Dropdowns","body":"<h1>Navigation Bar (Responsive) with Mobile Menu + Dropdowns</h1> <p>A responsive navigation bar component with mobile hamburger menu, sticky scroll behavior, optional transparent-to-solid transition, and first-class dropdown support. Supports marketing (logo + links + CTA) and app (user menu, notifications) variants.</p> <h2>Structure Specification</h2> <h3>Component Hierarchy</h3> <p>The navbar consists of a Navbar Container that holds a Logo/Brand Section, Navigation Links with Dropdown Panels (desktop), Mobile Menu Toggle Button, Action Buttons (CTA or User Menu), and a Mobile Menu Dialog. The Mobile Menu Dialog contains Navigation Links (with accordion sections for items with children) and Action Buttons.</p> <p>The navbar structure flows as: Navbar contains Logo, NavLinks (desktop with dropdown toggles/panels), MobileToggle, and Actions. The MobileMenu (dialog) contains NavLinks (with accordion behavior) and Actions.</p> <h2>Detailed Component Specifications</h2> <h3>1. Navbar Component</h3> <p><strong>Goal</strong>: Provide a responsive navigation bar that adapts to screen sizes, supports sticky/transparent behavior, and includes accessible mobile menu and dropdown navigation.</p> <p><strong>Anatomy Slots</strong>:</p> <ul>   <li><code>logo</code> - Brand logo/image/text</li>   <li><code>navLinks</code> - Navigation links (desktop visible, mobile in dialog)</li>   <li><code>mobileToggle</code> - Hamburger menu button (mobile only)</li>   <li><code>actions</code> - CTA button(s) or user menu (desktop)</li>   <li><code>dropdownPanels</code> - Desktop dropdown panels (disclosure pattern)</li>   <li><code>mobileMenu</code> - Modal dialog for mobile navigation</li> </ul> <p><strong>Dimensions</strong>:</p> <ul>   <li>Desktop: Full width, height 64-80px (default: 72px)</li>   <li>Mobile: Full width, height 56-64px (default: 60px)</li>   <li>Sticky: Fixed at top when scrolling</li>   <li>Max-width: Optional container constraint (e.g., 1400px)</li> </ul> <p><strong>States</strong>:</p> <ul>   <li><code>variant</code> (enum: \"marketing\" | \"app\", default: \"marketing\") - Navbar style variant</li>   <li><code>sticky</code> (boolean, default: true) - Whether navbar is sticky on scroll (default true for both variants)</li>   <li><code>transparent</code> (boolean, default: false) - Transparent background (becomes solid on scroll; recommended only for marketing variant when background contrast is sufficient)</li>   <li><code>mobileMenuOpen</code> (boolean, default: false) - Whether mobile menu dialog is visible</li>   <li><code>scrolled</code> (boolean, computed) - Whether page has scrolled beyond threshold (used for transparentâ†’solid and sticky elevation)</li>   <li><code>activeLink</code> (string) - Current active navigation link ID/route (syncs with router/URL)</li>   <li><code>openDropdownId</code> (string, default: \"\") - ID of currently open desktop dropdown (prefer single open dropdown at a time)</li>   <li><code>mobileExpandedItemIds</code> (array, default: []) - IDs of expanded accordion sections inside mobile dialog (allow multiple expanded)</li> </ul> <p><strong>Elements</strong>:</p> <h4>Logo/Brand Section</h4> <ul>   <li>Height: 40-48px (logo image/text)</li>   <li>Padding: 16-24px from left edge</li>   <li>Clickable: Links to home page</li>   <li>Responsive: May shrink on mobile or show icon-only variant</li> </ul> <h4>Navigation Links (Desktop)</h4> <ul>   <li>Horizontal layout with gap: 24-32px between links</li>   <li>Font size: 14-16px, medium weight (500-600)</li>   <li>Active state: Underline, color change, or background highlight</li>   <li>Hover state: Subtle color change or underline</li>   <li>Hidden on mobile (&#x3C; 768px)</li>   <li><strong>Dropdown Support</strong>: Items with children open disclosure dropdown panels on click (no hover-only behavior)</li>   <li><strong>Dropdown Toggle</strong>: Button with <code>aria-haspopup=\"true\"</code>, <code>aria-expanded</code>, and <code>aria-controls</code></li>   <li><strong>Dropdown Panel</strong>: Container for links (disclosure pattern; avoid <code>role=\"menu\"</code> unless fully implementing ARIA menu semantics)</li> </ul> <h4>Mobile Menu Toggle</h4> <ul>   <li>Size: 40px Ã— 40px icon button</li>   <li>Icon: Hamburger (â˜°) when closed, close (Ã—) when open</li>   <li>Position: Right-aligned, 16px from edge</li>   <li>Visible: Only on mobile/tablet (&#x3C; 1024px)</li>   <li>ARIA: <code>aria-label=\"Toggle menu\"</code>, <code>aria-expanded=\"true/false\"</code>, <code>aria-controls=\"mobile-menu\"</code></li> </ul> <h4>Action Buttons/User Menu</h4> <ul>   <li><strong>Marketing Variant</strong>: Primary CTA button (e.g., \"Get Started\", \"Sign Up\")     <ul>       <li>Button size: 32-40px height, padding 12-16px horizontal</li>       <li>Position: Right-aligned, 16-24px from edge</li>     </ul>   </li>   <li><strong>App Variant</strong>: User menu dropdown with avatar     <ul>       <li>Avatar: 36-40px circle</li>       <li>Dropdown: Opens below avatar on click</li>       <li>Contains: Profile, Settings, Logout links</li>       <li>Optional: Notifications button with badge</li>     </ul>   </li> </ul> <h4>Desktop Dropdown Panels</h4> <ul>   <li><strong>Pattern</strong>: Disclosure pattern (button controls a panel of links)</li>   <li><strong>Position</strong>: Below dropdown toggle, aligned to toggle or left edge</li>   <li><strong>Z-index</strong>: 80 (dropdowns from tokens)</li>   <li><strong>Behavior</strong>: Opens on toggle click, closes on outside click or Escape</li>   <li><strong>Focus</strong>: Does not trap focus; uses normal Tab order</li>   <li><strong>ARIA</strong>: Toggle has <code>aria-haspopup=\"true\"</code>, <code>aria-expanded</code>, <code>aria-controls</code>; panel has matching <code>id</code></li>   <li><strong>Animation</strong>: 180ms open, 150ms close (opacity, transform, visibility)</li>   <li><strong>Note</strong>: Avoid <code>role=\"menu\"</code> / <code>role=\"menuitem\"</code> unless fully implementing ARIA menu button pattern with arrow-key semantics</li> </ul> <h4>Mobile Menu Dialog</h4> <ul>   <li>Modal dialog overlay when open (uses <code>role=\"dialog\"</code> with <code>aria-modal=\"true\"</code>)</li>   <li>Background: White (light) or dark neutral (dark mode)</li>   <li>Position: Fixed, full width, slides from top or left</li>   <li>Z-index: 60 (mobileMenu from tokens)</li>   <li>Contains: Navigation links (vertical stack, items with children render as accordion sections) and action buttons</li>   <li>Backdrop: Optional dark overlay behind menu (z-index: 50)</li>   <li>Animation: Slide-in from top/left (300ms), fade backdrop (200ms)</li>   <li><strong>Accordion Sections</strong>: Items with children expand/collapse without closing the dialog</li> </ul> <p><strong>Behavior</strong>:</p> <ul>   <li>Sticky positioning: Fixed at top when <code>sticky=true</code> and user scrolls (default: true)</li>   <li>Transparentâ†’Solid: Background transitions from transparent to solid on scroll (when <code>transparent=true</code>; marketing variant only)</li>   <li>Mobile menu: Opens/closes on toggle button click</li>   <li>Mobile menu: Closes on backdrop click, Escape key, or link click</li>   <li>Mobile accordion: Items with children expand/collapse as accordion sections (does not close dialog)</li>   <li>Focus trap: Focus trapped within mobile menu dialog when open</li>   <li>Focus restoration: Returns focus to toggle button when menu closes</li>   <li>Body scroll lock: Body scroll locked when mobile menu is open (restore on close)</li>   <li>Desktop dropdowns: Open on toggle click, close on outside click or Escape (disclosure pattern)</li>   <li>Desktop dropdown focus: Does not trap focus; uses normal Tab order; Escape restores focus to toggle</li>   <li>Active link: Highlights current page/route using project's routing solution</li>   <li>Keyboard navigation: Full keyboard support for all interactive elements</li> </ul> <h2>Responsive Breakpoints</h2> <h3>Mobile (&#x3C; 768px)</h3> <ul>   <li><strong>Layout</strong>: Logo left, hamburger menu right</li>   <li><strong>Navigation</strong>: Hidden, accessible via mobile menu dialog</li>   <li><strong>Dropdowns</strong>: Items with children render as accordion sections inside the dialog</li>   <li><strong>Actions</strong>: Shown in mobile menu</li>   <li><strong>Height</strong>: 60px</li>   <li><strong>Mobile Menu</strong>: Modal dialog overlay; full-screen or slide-in panel</li> </ul> <h3>Tablet (768px - 1023px)</h3> <ul>   <li><strong>Layout</strong>: Logo left, hamburger menu right</li>   <li><strong>Navigation</strong>: Default to mobile menu dialog pattern</li>   <li><strong>Dropdowns</strong>: Items with children still behave as accordion sections inside the dialog</li>   <li><strong>Actions</strong>: May be in navbar if space allows; otherwise in mobile menu</li>   <li><strong>Height</strong>: 72px</li>   <li><strong>Default</strong>: Use mobile menu dialog pattern (same as mobile breakpoint)</li> </ul> <h3>Desktop (â‰¥ 1024px)</h3> <ul>   <li><strong>Layout</strong>: Logo left, nav links center/left, actions right</li>   <li><strong>Navigation</strong>: Horizontal nav links visible</li>   <li><strong>Dropdowns</strong>: Items with children open disclosure dropdown panels on click (no hover-only behavior)</li>   <li><strong>Actions</strong>: Visible in navbar</li>   <li><strong>Height</strong>: 72px</li>   <li><strong>Mobile Menu</strong>: Hidden (hamburger button hidden)</li> </ul> <h2>Interaction Patterns</h2> <h3>Sticky Scroll Behavior</h3> <ol>   <li>User scrolls down page</li>   <li>If <code>sticky=true</code>, navbar becomes fixed at top</li>   <li>If <code>transparent=true</code>, background transitions from transparent to solid</li>   <li>Shadow appears for depth (optional)</li>   <li>Navbar remains visible during scroll</li> </ol> <h3>Mobile Menu Open</h3> <ol>   <li>User clicks hamburger button</li>   <li>Mobile menu overlay appears with animation</li>   <li>Focus moves to first link in menu</li>   <li>Body scroll is locked</li>   <li>Backdrop appears (optional)</li>   <li>Focus is trapped within menu</li> </ol> <h3>Mobile Menu Close</h3> <ol>   <li>User clicks close button, backdrop, or Escape key</li>   <li>Mobile menu closes with animation</li>   <li>Focus returns to hamburger button</li>   <li>Body scroll is unlocked</li>   <li>Backdrop fades out</li> </ol> <h3>Desktop Dropdown Open</h3> <ol>   <li>User clicks dropdown toggle button</li>   <li>Dropdown panel appears below toggle with animation (180ms)</li>   <li><code>aria-expanded</code> updates to <code>true</code> on toggle</li>   <li>Panel receives focus (first link) or focus stays on toggle (product-specific)</li>   <li>Other open dropdowns close automatically (single open at a time)</li> </ol> <h3>Desktop Dropdown Close</h3> <ol>   <li>User clicks outside dropdown, clicks toggle again, or presses Escape</li>   <li>Dropdown panel closes with animation (150ms)</li>   <li><code>aria-expanded</code> updates to <code>false</code> on toggle</li>   <li>Focus returns to toggle button (on Escape)</li>   <li>Outside click does not restore focus</li> </ol> <h3>Mobile Accordion Toggle</h3> <ol>   <li>User clicks accordion toggle inside mobile dialog</li>   <li>Accordion section expands/collapses with animation</li>   <li><code>aria-expanded</code> updates on accordion toggle</li>   <li>Mobile dialog remains open (does not close)</li>   <li>Focus remains within the dialog</li> </ol> <h3>Active Link Highlighting</h3> <ol>   <li>Current page/route is detected using project's routing solution</li>   <li>Active link is visually highlighted (underline, color change, or background)</li>   <li><code>aria-current=\"page\"</code> is set on active link</li>   <li>Highlight persists on page reload</li>   <li>Route changes update active link and may close open overlays (product-specific)</li> </ol> <h2>Accessibility Requirements</h2> <h3>WCAG 2.1 Compliance (Level AA Target)</h3> <p>This navbar component should meet WCAG 2.1 Level AA standards. Key requirements:</p> <ul>   <li><strong>2.1.1 Keyboard</strong>: All navbar controls operable via keyboard; focus trapped within mobile dialog while open.</li>   <li><strong>2.1.2 No Keyboard Trap</strong>: Escape closes mobile dialog and dropdowns; no keyboard trap beyond intended modal focus trap.</li>   <li><strong>2.4.3 Focus Order</strong>: Logical focus order; focus returns to correct toggle when overlays close.</li>   <li><strong>2.4.7 Focus Visible</strong>: Visible focus indicators for all interactive elements.</li>   <li><strong>4.1.2 Name, Role, Value</strong>: Correct ARIA roles, names, and relationships.</li> </ul> <h3>Keyboard Navigation</h3> <p><strong>Tab Order</strong>:</p> <ul>   <li>Logo â†’ Nav Links (desktop, including dropdown toggles) â†’ Actions â†’ Mobile Toggle (mobile)</li>   <li>Within mobile dialog: Links â†’ Accordion toggles â†’ Actions â†’ Close button</li>   <li>Desktop dropdown panels: Do not trap focus; use normal Tab order</li> </ul> <p><strong>Implementation</strong>:</p> <ul>   <li>Tab cycles through focusable elements</li>   <li>Shift+Tab cycles backwards</li>   <li>Escape closes mobile dialog when open; otherwise closes open desktop dropdown</li>   <li>Escape restores focus to the corresponding toggle</li>   <li>Enter/Space activates links and buttons</li> </ul> <p><strong>Focus Management</strong>:</p> <ul>   <li><strong>On Mobile Dialog Open</strong>: Move focus to first focusable element inside dialog (often first nav link)</li>   <li><strong>On Mobile Dialog Close</strong>: Return focus to menu toggle button</li>   <li><strong>On Desktop Dropdown Open</strong>: Focus may stay on toggle or move to first link (product-specific)</li>   <li><strong>On Desktop Dropdown Close (Escape)</strong>: Restore focus to dropdown toggle</li>   <li><strong>On Desktop Dropdown Close (Outside Click)</strong>: Focus does not change</li>   <li><strong>Mobile Accordion</strong>: Focus remains within dialog when toggling accordion sections</li>   <li><strong>Focus Visible</strong>: Clear focus indicators (2px solid outline, 2px offset)</li> </ul> <h3>ARIA Attributes</h3> <p><strong>Required ARIA Attributes</strong>:</p> <ol>   <li>     <p><strong>Navbar Element</strong>:</p>     <pre><code class=\"language-html\">&#x3C;nav role=\"navigation\" aria-label=\"Main navigation\"> </code></pre>   </li>   <li>     <p><strong>Mobile Menu Toggle</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button id=\"navbar-menu-toggle\"         aria-label=\"Toggle menu\"          aria-expanded=\"false\"          aria-controls=\"navbar-mobile-menu\"> </code></pre>   </li>   <li>     <p><strong>Mobile Menu</strong>:</p>     <pre><code class=\"language-html\">&#x3C;div id=\"navbar-mobile-menu\"       role=\"dialog\"       aria-modal=\"true\"      aria-labelledby=\"navbar-menu-toggle\"      aria-hidden=\"true\">   &#x3C;nav aria-label=\"Main navigation\">     &#x3C;!-- Navigation links -->   &#x3C;/nav> &#x3C;/div> </code></pre>     <p><strong>Note</strong>: Mobile menu uses <code>role=\"dialog\"</code> with <code>aria-modal=\"true\"</code> because it's a modal overlay with focus trap. Inside the dialog, include <code>&#x3C;nav aria-label=\"Main navigation\"></code> for the links.</p>   </li>   <li>     <p><strong>Active Navigation Link</strong>:</p>     <pre><code class=\"language-html\">&#x3C;a href=\"/current-page\" aria-current=\"page\">Current Page&#x3C;/a> </code></pre>   </li>   <li>     <p><strong>User Menu Button</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"User menu\"          aria-haspopup=\"true\"          aria-expanded=\"false\"         aria-controls=\"user-dropdown\"> </code></pre>   </li>   <li>     <p><strong>Desktop Dropdown Toggle</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button aria-haspopup=\"true\"         aria-expanded=\"false\"         aria-controls=\"dropdown-panel-products\">   Products &#x3C;/button> </code></pre>   </li>   <li>     <p><strong>Desktop Dropdown Panel</strong>:</p>     <pre><code class=\"language-html\">&#x3C;div id=\"dropdown-panel-products\">   &#x3C;a href=\"/products/feature1\">Feature 1&#x3C;/a>   &#x3C;a href=\"/products/feature2\">Feature 2&#x3C;/a> &#x3C;/div> </code></pre>     <p><strong>Note</strong>: Prefer disclosure semantics (button controls a panel of links). Avoid <code>role=\"menu\"</code> unless fully implementing ARIA menu keyboard semantics.</p>   </li>   <li>     <p><strong>Mobile Accordion Toggle</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button aria-expanded=\"false\"         aria-controls=\"accordion-panel-products\">   Products &#x3C;/button> </code></pre>   </li>   <li>     <p><strong>Mobile Accordion Panel</strong>:</p>     <pre><code class=\"language-html\">&#x3C;div id=\"accordion-panel-products\">   &#x3C;a href=\"/products/feature1\">Feature 1&#x3C;/a>   &#x3C;a href=\"/products/feature2\">Feature 2&#x3C;/a> &#x3C;/div> </code></pre>   </li>   <li>     <p><strong>Notifications Button</strong>:</p>   </li> </ol> <pre><code class=\"language-html\">&#x3C;button aria-label=\"Notifications: 3 unread\"          aria-haspopup=\"true\"          aria-expanded=\"false\">   &#x3C;span class=\"notifications-badge\" aria-label=\"3 unread\">3&#x3C;/span> &#x3C;/button> </code></pre> <p><strong>Dynamic ARIA Updates</strong>:</p> <ul>   <li>Update <code>aria-expanded</code> on mobile menu toggle when dialog opens/closes</li>   <li>Update <code>aria-expanded</code> on desktop dropdown toggles when panels open/close</li>   <li>Update <code>aria-expanded</code> on mobile accordion toggles when sections expand/collapse</li>   <li>Update <code>aria-hidden</code> on mobile menu (true when closed; false/omitted when open)</li>   <li>Update <code>aria-modal=\"true\"</code> on mobile menu when open</li>   <li>Make background content inert/aria-hidden while mobile dialog is open (use <code>inert</code> if available, or apply <code>aria-hidden</code> to main content)</li>   <li>Update <code>aria-current=\"page\"</code> on active navigation link</li>   <li>Update <code>aria-label</code> on notifications button to include count</li> </ul> <h3>Screen Reader Support</h3> <p><strong>Announcements</strong>:</p> <ul>   <li>Mobile menu state changes (via <code>aria-expanded</code> and focus management)</li>   <li>Active page changes (via <code>aria-current=\"page\"</code>)</li> </ul> <p><strong>Labels</strong>:</p> <ul>   <li>All icon-only buttons must have descriptive <code>aria-label</code></li>   <li>Logo image must have descriptive <code>alt</code> text</li>   <li>Navigation links should have clear, descriptive text</li> </ul> <p><strong>Screen Reader Only Text (sr-only class)</strong>:</p> <pre><code class=\"language-css\">.sr-only {   position: absolute;   width: 1px;   height: 1px;   padding: 0;   margin: -1px;   overflow: hidden;   clip: rect(0, 0, 0, 0);   white-space: nowrap;   border-width: 0; } </code></pre> <h3>Focus Visible Styles</h3> <p><strong>Implementation</strong>:</p> <pre><code class=\"language-css\">button:focus-visible, a:focus-visible, [tabindex]:focus-visible {   outline: 2px solid var(--primary-color);   outline-offset: 2px; }  /* Fallback for older browsers */ button:focus, a:focus, [tabindex]:focus {   outline: 2px solid var(--primary-color);   outline-offset: 2px; } </code></pre> <h3>Accessibility Implementation Checklist</h3> <p>When implementing this navbar, ensure:</p> <ul>   <li>[ ] All buttons have <code>aria-label</code> or visible text</li>   <li>[ ] Mobile menu uses <code>role=\"dialog\"</code> + <code>aria-modal=\"true\"</code> and contains <code>&#x3C;nav aria-label=\"Main navigation\"></code></li>   <li>[ ] Mobile menu toggle has id, <code>aria-expanded</code>, and <code>aria-controls</code></li>   <li>[ ] Focus trap is active only while the mobile dialog is open; focus restores to the menu toggle on close</li>   <li>[ ] Background content is inert/aria-hidden while the mobile dialog is open</li>   <li>[ ] Body scroll lock is applied when mobile dialog is open and cleaned up on close</li>   <li>[ ] Desktop dropdown toggles have <code>aria-expanded</code> + <code>aria-controls</code>; Escape closes and restores focus</li>   <li>[ ] Mobile dropdowns are accordions with <code>aria-expanded</code> + <code>aria-controls</code>; expanding does not close the dialog</li>   <li>[ ] Active link uses <code>aria-current=\"page\"</code> correctly</li>   <li>[ ] All interactive elements have visible focus indicators</li>   <li>[ ] Prefers-reduced-motion reduces durations and avoids transform motion where possible</li> </ul> <h2>Design System Specifications</h2> <p><strong>Important</strong>: The design specifications below are tool-agnostic and should be implemented using your project's chosen styling approach (Tailwind, CSS Modules, styled-components, Chakra UI, Material-UI, SCSS, etc.). The styling examples in the \"Code Implementation Patterns\" section show how to apply these design values, but these specifications are the source of truth for the design.</p> <h3>Color Guidelines</h3> <h4>Navbar Background</h4> <ul>   <li><strong>Light (Default)</strong>: White (<code>#ffffff</code>) or very light gray (<code>#f9fafb</code>)</li>   <li><strong>Light (Transparent)</strong>: <code>rgba(255, 255, 255, 0.95)</code> with <code>backdrop-filter: blur(8px)</code></li>   <li><strong>Light (Scrolled)</strong>: White (<code>#ffffff</code>) with shadow</li>   <li><strong>Dark (Default)</strong>: <code>#1a1a1a</code> or <code>#0f172a</code></li>   <li><strong>Dark (Transparent)</strong>: <code>rgba(26, 26, 26, 0.95)</code> with <code>backdrop-filter: blur(8px)</code></li>   <li><strong>Dark (Scrolled)</strong>: <code>#1a1a1a</code> with shadow</li> </ul> <h4>Navigation Links</h4> <ul>   <li><strong>Text (Light)</strong>: Dark gray (<code>#111827</code>, <code>#1f2937</code>) or black (<code>#000000</code>)</li>   <li><strong>Text (Dark)</strong>: <code>#e0e0e0</code> or <code>#f1f5f9</code></li>   <li><strong>Hover (Light)</strong>: Primary color or darker gray</li>   <li><strong>Hover (Dark)</strong>: Primary color or lighter gray</li>   <li><strong>Active (Light)</strong>: Primary color with underline or background</li>   <li><strong>Active (Dark)</strong>: Primary color with underline or background</li>   <li><strong>Contrast</strong>: Ensure 4.5:1 contrast ratio minimum (WCAG AA)</li> </ul> <h4>Logo</h4> <ul>   <li><strong>Text/Icon</strong>: Match navigation link colors or brand color</li>   <li><strong>Hover</strong>: Subtle opacity change or color shift</li> </ul> <h4>Mobile Menu</h4> <ul>   <li><strong>Background (Light)</strong>: White (<code>#ffffff</code>)</li>   <li><strong>Background (Dark)</strong>: <code>#1a1a1a</code> or <code>#0f172a</code></li>   <li><strong>Backdrop</strong>: <code>rgba(0, 0, 0, 0.5)</code> to <code>rgba(0, 0, 0, 0.75)</code></li>   <li><strong>Links</strong>: Match navbar link colors</li> </ul> <h4>Action Buttons</h4> <ul>   <li><strong>Primary CTA</strong>: Use project's primary button style</li>   <li><strong>User Menu</strong>: Match navbar text colors</li>   <li><strong>Notifications Badge</strong>: Red (<code>#ef4444</code>, <code>#dc2626</code>) or primary color</li> </ul> <h3>Typography</h3> <ul>   <li><strong>Font Family</strong>: Use project's font stack (typically: system-ui, -apple-system, sans-serif or custom font)</li>   <li><strong>Navigation Links</strong>: 14-16px, medium weight (500-600)</li>   <li><strong>Logo</strong>: 18-24px, bold (700) or use logo image</li>   <li><strong>CTA Button</strong>: 14-16px, semibold (600)</li>   <li><strong>Line Height</strong>: 1.25 for headings, 1.5 for body text</li> </ul> <h3>Spacing System</h3> <p>Use consistent spacing scale (4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px) or your project's spacing system:</p> <ul>   <li><strong>Navbar Padding</strong>: 16-24px horizontal (desktop), 16px (mobile)</li>   <li><strong>Logo Padding</strong>: 16-24px from left edge</li>   <li><strong>Nav Links Gap</strong>: 24-32px between links (desktop)</li>   <li><strong>Actions Padding</strong>: 16-24px from right edge</li>   <li><strong>Mobile Menu Padding</strong>: 24px on all sides</li>   <li><strong>Mobile Menu Link Gap</strong>: 16-24px vertical between links</li> </ul> <h3>Shadows &#x26; Elevation</h3> <p>Use subtle shadows for depth and separation:</p> <ul>   <li><strong>Navbar Shadow (Sticky/Scrolled, Light)</strong>: <code>0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)</code></li>   <li><strong>Navbar Shadow (Sticky/Scrolled, Dark)</strong>: <code>0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2)</code></li>   <li><strong>Mobile Menu Shadow</strong>: <code>0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)</code></li> </ul> <h3>Border Radius</h3> <ul>   <li><strong>Buttons</strong>: 6-8px</li>   <li><strong>Mobile Menu</strong>: 0 (full width) or 8-12px if not full-screen</li>   <li><strong>Avatar</strong>: 50% (circle)</li>   <li><strong>Badges</strong>: 12-16px (pill shape)</li> </ul> <h3>Visual Hierarchy Principles</h3> <ol>   <li>Logo should be clearly visible and clickable</li>   <li>Navigation links should be easily scannable</li>   <li>Active link should be clearly highlighted</li>   <li>CTA button should stand out (marketing variant)</li>   <li>Mobile menu should be clearly separated from main content</li>   <li>Focus indicators should be clearly visible</li>   <li>Transparentâ†’Solid transition should be smooth and noticeable</li> </ol> <h2>State Management Considerations</h2> <h3>For AI Agents to Implement</h3> <p><strong>State to Track</strong>:</p> <ol>   <li><code>mobileMenuOpen: boolean</code> - Whether mobile menu dialog is visible (default: false)</li>   <li><code>scrolled: boolean</code> - Whether page has scrolled beyond threshold (computed from scroll position > <code>tokens.layout.scrollThresholdPx</code>, default: false)</li>   <li><code>activeLink: string</code> - Current active navigation link ID/route (syncs with router/URL)</li>   <li><code>variant: \"marketing\" | \"app\"</code> - Navbar style variant (default: \"marketing\")</li>   <li><code>sticky: boolean</code> - Whether navbar is sticky on scroll (default: true)</li>   <li><code>transparent: boolean</code> - Whether navbar starts transparent (default: false; recommended only for marketing variant)</li>   <li><code>openDropdownId: string</code> - ID of currently open desktop dropdown (default: \"\"; prefer single open at a time)</li>   <li><code>mobileExpandedItemIds: array</code> - IDs of expanded accordion sections inside mobile dialog (default: []; allow multiple expanded)</li> </ol> <p><strong>State Persistence</strong>:</p> <ul>   <li>All state is component-level only (no persistence needed)</li>   <li><code>activeLink</code> should sync with router/URL</li> </ul> <h3>SSR/Hydration Considerations</h3> <ul>   <li><strong>Mobile menu state</strong>: Initialize <code>mobileMenuOpen</code> as <code>false</code> to prevent hydration mismatches</li>   <li><strong>Scroll state</strong>: Only access <code>window</code> and scroll position after component mount</li>   <li><strong>Implementation</strong>: Check <code>typeof window !== 'undefined'</code> before accessing window object</li> </ul> <h2>Critical Implementation Guidelines</h2> <h3>Project Detection</h3> <p>Before implementing, AI agents must detect:</p> <ol>   <li><strong>Framework</strong>: Identify React/Vue/Angular/Svelte and routing libraries by inspecting package.json and existing components</li>   <li><strong>Styling System</strong>: Detect Tailwind, SCSS, CSS Modules, styled-components, etc. and use ONLY that system</li>   <li><strong>Design Tokens</strong>: Identify existing color systems, spacing scales, and typography from the project</li> </ol> <p><strong>CRITICAL</strong>: Use ONLY the detected styling system. Do NOT introduce new styling systems.</p> <h3>Vanilla CSS Detection</h3> <p><strong>CRITICAL</strong>: When detecting vanilla CSS in the project, ALWAYS create CSS classes in a stylesheet. NEVER use inline style attributes on HTML elements.</p> <ul>   <li>Define classes like <code>.navbar</code>, <code>.navbar--sticky</code>, <code>.navbar--transparent</code>, <code>.mobile-menu</code>, etc. in your CSS file</li>   <li>Apply classes via <code>className</code>/<code>class</code> attributes: <code>&#x3C;nav class=\"navbar navbar--sticky\"></code></li>   <li>Do NOT use: <code>&#x3C;nav style=\"position: fixed\"></code></li>   <li>This ensures maintainability, reusability, and proper separation of concerns</li> </ul> <h3>React Hook Patterns</h3> <p><strong>CRITICAL</strong>: When detecting React, extract logic from <code>useEffect</code> hooks into separate custom hooks that do ONE thing each.</p> <ul>   <li>Instead of one <code>useEffect</code> handling multiple concerns (scroll listener + mobile menu + focus trap), create separate hooks:     <ul>       <li><code>useScrollPosition()</code> - Handles scroll position tracking only</li>       <li><code>useMobileMenu()</code> - Handles mobile menu state only</li>       <li><code>useFocusTrap(containerRef, isActive)</code> - Handles focus trapping only</li>       <li><code>useBodyScrollLock(isLocked)</code> - Handles body scroll locking only</li>     </ul>   </li>   <li>This improves code organization, testability, and reusability</li>   <li>Each hook should have a single responsibility</li> </ul> <h2>Code Implementation Patterns</h2> <h3>React Example Pattern</h3> <pre><code class=\"language-jsx\">// Suggested component structure &#x3C;Navbar   variant=\"marketing\"   sticky={true}   transparent={true}   activeLink={currentRoute} >   &#x3C;NavbarLogo href=\"/\">Brand&#x3C;/NavbarLogo>   &#x3C;NavbarLinks>     &#x3C;NavLink href=\"/about\" active={currentRoute === '/about'}>About&#x3C;/NavLink>     &#x3C;NavLink href=\"/pricing\" active={currentRoute === '/pricing'}>Pricing&#x3C;/NavLink>     &#x3C;NavLink href=\"/contact\" active={currentRoute === '/contact'}>Contact&#x3C;/NavLink>   &#x3C;/NavbarLinks>   &#x3C;NavbarActions>     &#x3C;Button variant=\"primary\">Get Started&#x3C;/Button>   &#x3C;/NavbarActions>   &#x3C;MobileMenuToggle />   &#x3C;MobileMenu>     &#x3C;MobileNavLinks />     &#x3C;MobileActions />   &#x3C;/MobileMenu> &#x3C;/Navbar> </code></pre> <h3>Angular Example Pattern</h3> <pre><code class=\"language-html\">&#x3C;!-- Suggested template structure --> &#x3C;nav class=\"navbar\"       [class.navbar--sticky]=\"isSticky\"      [class.navbar--scrolled]=\"hasScrolled\"      role=\"navigation\"      aria-label=\"Main navigation\">   &#x3C;a class=\"navbar-logo\" href=\"/\">Brand&#x3C;/a>   &#x3C;ul class=\"navbar-links\" *ngIf=\"!isMobile\">     &#x3C;li>&#x3C;a href=\"/about\" [attr.aria-current]=\"currentRoute === '/about' ? 'page' : null\">About&#x3C;/a>&#x3C;/li>     &#x3C;li>&#x3C;a href=\"/pricing\" [attr.aria-current]=\"currentRoute === '/pricing' ? 'page' : null\">Pricing&#x3C;/a>&#x3C;/li>   &#x3C;/ul>   &#x3C;button class=\"mobile-toggle\"            *ngIf=\"isMobile\"           (click)=\"toggleMobileMenu()\"           [attr.aria-expanded]=\"mobileMenuOpen\"           aria-label=\"Toggle menu\">     â˜°   &#x3C;/button>   &#x3C;div class=\"mobile-menu\"         *ngIf=\"isMobile &#x26;&#x26; mobileMenuOpen\"        [attr.aria-hidden]=\"!mobileMenuOpen\">     &#x3C;!-- Mobile menu content -->   &#x3C;/div> &#x3C;/nav> </code></pre> <h3>Vue Example Pattern</h3> <pre><code class=\"language-vue\">&#x3C;!-- Suggested component structure --> &#x3C;template>   &#x3C;nav class=\"navbar\"        :class=\"{ 'navbar--sticky': sticky, 'navbar--scrolled': scrolled }\"        role=\"navigation\"        aria-label=\"Main navigation\">     &#x3C;a class=\"navbar-logo\" href=\"/\">Brand&#x3C;/a>     &#x3C;ul class=\"navbar-links\" v-if=\"!isMobile\">       &#x3C;li>&#x3C;a href=\"/about\" :aria-current=\"currentRoute === '/about' ? 'page' : undefined\">About&#x3C;/a>&#x3C;/li>       &#x3C;li>&#x3C;a href=\"/pricing\" :aria-current=\"currentRoute === '/pricing' ? 'page' : undefined\">Pricing&#x3C;/a>&#x3C;/li>     &#x3C;/ul>     &#x3C;button class=\"mobile-toggle\"             v-if=\"isMobile\"             @click=\"toggleMobileMenu\"             :aria-expanded=\"mobileMenuOpen\"             aria-label=\"Toggle menu\">       â˜°     &#x3C;/button>     &#x3C;Teleport to=\"body\">       &#x3C;div v-if=\"isMobile &#x26;&#x26; mobileMenuOpen\"             class=\"mobile-menu\"            :aria-hidden=\"!mobileMenuOpen\">         &#x3C;!-- Mobile menu content -->       &#x3C;/div>     &#x3C;/Teleport>   &#x3C;/nav> &#x3C;/template> </code></pre> <h3>CSS/Styling Approaches</h3> <p><strong>Note</strong>: The examples below show how to implement the design specifications using different styling tools. Always refer to the \"Design System Specifications\" section above for the authoritative design values, then adapt them to your project's styling approach.</p> <h4>Tailwind CSS Pattern</h4> <pre><code class=\"language-html\">&#x3C;!-- Navbar --> &#x3C;nav class=\"fixed top-0 left-0 right-0 z-50 bg-white shadow-sm transition-all duration-300\"      :class=\"{ 'bg-white/95 backdrop-blur-md': transparent &#x26;&#x26; !scrolled, 'bg-white shadow-md': scrolled }\">   &#x3C;div class=\"container mx-auto flex items-center justify-between h-18 px-6\">     &#x3C;!-- Logo -->     &#x3C;a href=\"/\" class=\"text-xl font-bold\">Brand&#x3C;/a>          &#x3C;!-- Desktop Nav Links -->     &#x3C;ul class=\"hidden md:flex items-center gap-8\">       &#x3C;li>&#x3C;a href=\"/about\" class=\"hover:text-primary\">About&#x3C;/a>&#x3C;/li>       &#x3C;li>&#x3C;a href=\"/pricing\" class=\"hover:text-primary\">Pricing&#x3C;/a>&#x3C;/li>     &#x3C;/ul>          &#x3C;!-- Mobile Toggle -->     &#x3C;button class=\"md:hidden w-10 h-10\" aria-label=\"Toggle menu\">â˜°&#x3C;/button>          &#x3C;!-- CTA -->     &#x3C;button class=\"hidden md:block px-4 py-2 bg-primary text-white rounded\">Get Started&#x3C;/button>   &#x3C;/div> &#x3C;/nav> </code></pre> <h4>Vanilla CSS Pattern</h4> <pre><code class=\"language-css\">/* CRITICAL: Always create CSS classes, never use inline styles */ /* Apply design system values directly */ .navbar {   position: fixed;   top: 0;   left: 0;   right: 0;   height: 72px;   background: #ffffff;   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);   z-index: 50;   transition: background 300ms, box-shadow 300ms; }  .navbar--transparent {   background: rgba(255, 255, 255, 0.95);   backdrop-filter: blur(8px);   box-shadow: none; }  .navbar--scrolled {   background: #ffffff;   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06); }  .navbar-links {   display: flex;   gap: 32px;   list-style: none; }  .navbar-link {   font-size: 16px;   font-weight: 500;   color: #111827;   text-decoration: none;   transition: color 150ms; }  .navbar-link:hover {   color: var(--primary-color); }  .navbar-link.active {   color: var(--primary-color);   text-decoration: underline; }  .mobile-menu {   position: fixed;   top: 0;   left: 0;   right: 0;   bottom: 0;   background: #ffffff;   z-index: 50;   padding: 24px;   transform: translateX(-100%);   transition: transform 300ms; }  .mobile-menu--open {   transform: translateX(0); } </code></pre> <h4>Material-UI/Chakra Pattern</h4> <ul>   <li>Use AppBar component for navbar (Material-UI) or Box with flex layout (Chakra)</li>   <li><strong>Extend theme</strong> with design system color values, spacing scale, and typography settings</li>   <li>Use theme.transitions for consistent animations matching design system specifications</li>   <li>Leverage theme breakpoints for responsive behavior</li>   <li><strong>Customize colors, spacing, and typography</strong> to match design system specifications</li>   <li>Use Drawer component for mobile menu (Material-UI) or Drawer component (Chakra)</li> </ul> <h2>Animation Specifications</h2> <h3>Sticky Scroll Transition</h3> <ul>   <li><strong>Duration</strong>: 200-300ms</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.4, 0, 0.2, 1)</code> or <code>ease-in-out</code></li>   <li><strong>Properties</strong>: <code>background-color</code>, <code>box-shadow</code>, <code>backdrop-filter</code></li>   <li><strong>Trigger</strong>: Scroll position > threshold (e.g., 20px)</li> </ul> <h3>Transparentâ†’Solid Transition</h3> <ul>   <li><strong>Duration</strong>: 200-300ms</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.4, 0, 0.2, 1)</code></li>   <li><strong>Properties</strong>:     <ul>       <li>Background: transparent/surface-overlay â†’ surface-solid (use project tokens)</li>       <li>Shadow: none â†’ elevated shadow (use project tokens)</li>       <li>Backdrop filter: <code>blur(8px)</code> â†’ <code>none</code> (optional; prefer tokens)</li>     </ul>   </li> </ul> <h3>Mobile Menu Open</h3> <ul>   <li><strong>Duration</strong>: 250-300ms (from <code>tokens.motion.mobileMenuOpenMs</code>)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.4, 0, 0.2, 1)</code></li>   <li><strong>Menu</strong>: Slide from top/left: <code>translateX(-100%)</code> â†’ <code>translateX(0)</code> or <code>translateY(-100%)</code> â†’ <code>translateY(0)</code></li>   <li><strong>Backdrop</strong>: Fade in: <code>opacity: 0</code> â†’ <code>opacity: 1</code> (200ms from <code>tokens.motion.backdropFadeMs</code>)</li> </ul> <h3>Mobile Menu Close</h3> <ul>   <li><strong>Duration</strong>: 250ms (from <code>tokens.motion.mobileMenuCloseMs</code>)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.4, 0, 0.2, 1)</code></li>   <li><strong>Menu</strong>: Slide out: <code>translateX(0)</code> â†’ <code>translateX(-100%)</code></li>   <li><strong>Backdrop</strong>: Fade out: <code>opacity: 1</code> â†’ <code>opacity: 0</code> (150ms)</li> </ul> <h3>Desktop Dropdown Open</h3> <ul>   <li><strong>Duration</strong>: 180ms (from <code>tokens.motion.dropdownOpenMs</code>)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.4, 0, 0.2, 1)</code></li>   <li><strong>Properties</strong>: <code>opacity</code>, <code>transform</code>, <code>visibility</code></li>   <li><strong>Note</strong>: If <code>prefers-reduced-motion</code> is enabled, avoid transform and reduce durations to â‰¤100ms</li> </ul> <h3>Desktop Dropdown Close</h3> <ul>   <li><strong>Duration</strong>: 150ms (from <code>tokens.motion.dropdownCloseMs</code>)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.4, 0, 0.2, 1)</code></li>   <li><strong>Properties</strong>: <code>opacity</code>, <code>transform</code>, <code>visibility</code></li>   <li><strong>Note</strong>: If <code>prefers-reduced-motion</code> is enabled, avoid transform and reduce durations to â‰¤100ms</li> </ul> <h3>Prefers-Reduced-Motion Support</h3> <p><strong>When <code>prefers-reduced-motion</code> is enabled</strong>:</p> <ul>   <li>Disable transform-based motion where possible (avoid translate animations)</li>   <li>Reduce animation durations to â‰¤100ms (use <code>tokens.motion.reducedMotionDurationMs</code>)</li>   <li>Minimize backdrop-filter blur transitions</li>   <li>Allow essential opacity transitions (â‰¤100ms)</li> </ul> <p><strong>Implementation</strong>:</p> <pre><code class=\"language-css\">@media (prefers-reduced-motion: reduce) {   .navbar,   .mobile-menu {     animation: none;     transition: opacity 0.1s ease, background-color 0.1s ease;   }      .mobile-menu {     transform: none; /* Disable translateX/translateY animations */   }      .navbar--transparent {     backdrop-filter: none; /* Minimize blur transitions */   } } </code></pre> <p><strong>Performance</strong>:</p> <ul>   <li>Prefer <code>transform</code> and <code>opacity</code> for animations (GPU-accelerated)</li>   <li>Set <code>will-change: transform, opacity</code> on animating elements</li>   <li>Use <code>transform3d(0,0,0)</code> to trigger GPU acceleration if needed</li> </ul> <h2>Z-Index Layer System</h2> <p>To ensure proper layering of elements:</p> <ul>   <li><strong>Backdrop</strong>: 50 (from tokens)</li>   <li><strong>Mobile Menu</strong>: 60 (from tokens)</li>   <li><strong>Navbar</strong>: 70 (from tokens)</li>   <li><strong>Dropdowns</strong>: 80 (from tokens)</li>   <li><strong>Tooltips</strong>: 90 (from tokens)</li> </ul> <h2>Implementation Details</h2> <h3>Sticky Positioning</h3> <p><strong>When</strong>: <code>sticky=true</code> and user scrolls down</p> <p><strong>How</strong>:</p> <ul>   <li>Set <code>position: fixed</code> when scroll position > threshold</li>   <li>Add shadow for depth</li>   <li>Smooth transition on background/shadow changes</li> </ul> <p><strong>Cleanup</strong>: Remove fixed positioning when scrolling back to top (optional, or keep fixed)</p> <h3>Scroll Detection</h3> <p><strong>When</strong>: <code>transparent=true</code> or need to track scroll state</p> <p><strong>How</strong>:</p> <ul>   <li>Add scroll event listener (throttled/debounced - recommended: <code>requestAnimationFrame</code> or ~100ms throttle)</li>   <li>Update <code>scrolled</code> state when scroll position > threshold (default: 20px, from <code>tokens.layout.scrollThresholdPx</code>)</li>   <li>Trigger background/shadow transitions</li> </ul> <p><strong>Cleanup</strong>: Remove scroll listener on unmount</p> <h3>Mobile Menu Focus Trap</h3> <p><strong>When</strong>: Mobile menu is open</p> <p><strong>How</strong>:</p> <ul>   <li>Use focus-trap library (e.g., <code>focus-trap</code> for React, <code>focus-trap-vue</code> for Vue) or manual implementation</li>   <li>Identify all focusable elements within mobile menu</li>   <li>Prevent tabbing outside menu boundaries</li>   <li>Cycle focus within menu on Tab/Shift+Tab</li> </ul> <p><strong>Cleanup</strong>: Remove focus trap on close</p> <h3>Focus Restoration</h3> <p><strong>When</strong>: Mobile menu closes (all close paths)</p> <p><strong>How</strong>:</p> <ul>   <li>Store reference to toggle button when menu opens</li>   <li>Restore focus to toggle button on close</li>   <li>Handle cases where toggle button no longer exists (fallback to body or first focusable element)</li> </ul> <h3>Body Scroll Lock</h3> <p><strong>When</strong>: Mobile menu is open</p> <p><strong>How</strong>:</p> <ul>   <li>Set <code>document.body.style.overflow = 'hidden'</code> (or project-standard utility)</li>   <li><strong>Optional: Preserve scroll position</strong>: Use <code>position: fixed</code> with <code>top: -${window.scrollY}px</code> to prevent jump when locking scroll</li>   <li><strong>iOS handling</strong>: If needed, prevent body touchmove scrolling behind the dialog using project-standard approach</li> </ul> <p><strong>Cleanup</strong>:</p> <ul>   <li>Restore previous styles on menu close/unmount</li> </ul> <h3>Escape Key Handling</h3> <p><strong>When</strong>: Mobile menu is open</p> <p><strong>How</strong>:</p> <ul>   <li>Add global keydown listener for Escape key</li>   <li>Prevent default and stop propagation</li>   <li>Close menu and restore focus</li> </ul> <p><strong>Cleanup</strong>: Remove listener on close</p> <h3>Active Link Detection</h3> <p><strong>When</strong>: Page loads or route changes</p> <p><strong>How</strong>:</p> <ul>   <li>Compare current URL/route with navigation link hrefs using project's routing solution</li>   <li>Set <code>aria-current=\"page\"</code> on matching link</li>   <li>Apply active styles (underline, color change, background)</li>   <li>Route changes may close open overlays (product-specific)</li> </ul> <h3>Desktop Dropdown Management</h3> <p><strong>When</strong>: User interacts with dropdown toggles</p> <p><strong>How</strong>:</p> <ul>   <li>Track <code>openDropdownId</code> state (prefer single open dropdown at a time)</li>   <li>On toggle click: Open if closed, close if open</li>   <li>On outside click: Close open dropdown</li>   <li>On Escape: Close dropdown and restore focus to toggle</li>   <li>Update <code>aria-expanded</code> on toggle dynamically</li>   <li>Do not trap focus inside dropdown panels (use normal Tab order)</li> </ul> <p><strong>Cleanup</strong>: Close dropdowns on unmount or route change (if required)</p> <h3>Mobile Accordion Management</h3> <p><strong>When</strong>: User interacts with accordion toggles inside mobile dialog</p> <p><strong>How</strong>:</p> <ul>   <li>Track <code>mobileExpandedItemIds</code> array (allow multiple expanded sections)</li>   <li>On accordion toggle click: Add/remove item ID from array</li>   <li>Update <code>aria-expanded</code> on accordion toggle dynamically</li>   <li>Expanding/collapsing does not close the mobile dialog</li>   <li>Focus remains within the mobile dialog</li> </ul> <h2>Edge Cases</h2> <h3>Very Long Navigation Labels</h3> <ul>   <li>Truncate with ellipsis on mobile</li>   <li>Show tooltip on hover (desktop)</li>   <li>Consider icon-only variant for mobile</li> </ul> <h3>Many Navigation Links</h3> <ul>   <li>Desktop: May need to wrap to second line or use dropdown</li>   <li>Mobile: Scrollable menu if many links</li>   <li>Consider grouping links into categories</li> </ul> <h3>Rapid Opening/Closing</h3> <ul>   <li>Debounce or disable interactions during animation</li>   <li>Prevent multiple simultaneous open/close operations</li> </ul> <h3>Window Resize During Mobile Menu Open</h3> <ul>   <li>Close mobile menu when switching to desktop breakpoint</li>   <li>Re-evaluate breakpoint on resize (debounced)</li> </ul> <h3>Very Small Screens</h3> <ul>   <li>Further reduce padding/spacing on screens &#x3C; 320px</li>   <li>Consider icon-only logo variant</li> </ul> <h3>Content Overflow</h3> <ul>   <li>Ensure navbar doesn't overflow viewport horizontally</li>   <li>Mobile menu should handle vertical overflow with scrolling</li> </ul> <h2>Common Variations</h2> <h3>Marketing Navbar</h3> <ul>   <li>Logo + horizontal nav + primary CTA</li>   <li>Sticky by default</li>   <li>Optional transparent-on-hero mode (<code>transparent=true</code>) that becomes solid on scroll</li>   <li>Dropdowns supported for grouped marketing sections</li>   <li>Simple, clean design</li> </ul> <h3>App Navbar</h3> <ul>   <li>Logo + nav + notifications + user menu</li>   <li>Solid background only (<code>transparent</code> forced false)</li>   <li>Sticky by default</li>   <li>Dropdowns commonly used for user menu and nav groupings</li>   <li>More compact, functional design</li> </ul> <h3>Minimal Navbar</h3> <ul>   <li>Logo + few nav links only</li>   <li>No CTA button</li>   <li>Very clean, minimal design</li> </ul> <h3>Centered Navbar</h3> <ul>   <li>Logo centered, nav links centered below or around logo</li>   <li>Less common, used for specific design styles</li> </ul> <h3>With Search Bar</h3> <ul>   <li>Add search input in navbar</li>   <li>May replace some nav links on mobile</li>   <li>Search opens modal or expands inline</li> </ul> <h2>Testing Checklist</h2> <p>When implementing this navbar, test:</p> <ul>   <li>[ ] Navbar renders correctly on all breakpoints</li>   <li>[ ] Mobile menu dialog opens and closes via toggle, Escape, backdrop click, and link click</li>   <li>[ ] Focus is trapped within the mobile dialog while open</li>   <li>[ ] Focus is restored to the mobile toggle when the dialog closes</li>   <li>[ ] Body scroll is locked while the mobile dialog is open and restored on close</li>   <li>[ ] Sticky positioning works correctly when enabled</li>   <li>[ ] Transparentâ†’Solid transition works on scroll when enabled (marketing only)</li>   <li>[ ] Active link is highlighted correctly and uses <code>aria-current=\"page\"</code></li>   <li>[ ] Desktop dropdown opens/closes on toggle click</li>   <li>[ ] Desktop dropdown closes on outside click and Escape</li>   <li>[ ] Escape on desktop dropdown restores focus to the dropdown toggle</li>   <li>[ ] Desktop dropdown does not trap focus; Tab order is logical</li>   <li>[ ] Mobile dropdown items render as accordions inside the dialog</li>   <li>[ ] Mobile accordion expand/collapse updates <code>aria-expanded</code> and does not close the dialog</li>   <li>[ ] Route changes update active link and close open overlays if required by product rules</li>   <li>[ ] Window resize closes the mobile dialog when switching to desktop breakpoint</li>   <li>[ ] Prefers-reduced-motion reduces durations and avoids transform motion where possible</li>   <li>[ ] All interactive elements have visible focus indicators</li>   <li>[ ] Screen reader announces dialog state changes and expanded/collapsed states appropriately</li>   <li>[ ] SSR/hydration safe (no DOM access before mount)</li> </ul> <h2>AI Agent Implementation Prompt Template</h2> <p>Use this template when asking an AI agent to implement this navbar:</p> <pre><code>Implement a responsive Navigation Bar component with mobile hamburger menu as a modal dialog (role=\"dialog\" aria-modal=\"true\") including focus trap, focus restoration, inert background, and body scroll lock. Support sticky scroll behavior and optional transparent-to-solid transition (marketing recommended only). Add dropdown navigation: on desktop, implement disclosure dropdowns (button controlling a panel of links with aria-expanded/aria-controls; avoid role=\"menu\" unless fully implementing ARIA menu semantics). On mobile/tablet, integrate dropdown items as accordion sections inside the dialog (aria-expanded/aria-controls), and expanding must not close the dialog. Close the mobile dialog on Escape/backdrop/link click. Close desktop dropdown on outside click/Escape and restore focus to its toggle. Implement smooth animations and prefers-reduced-motion (reduce durations to &#x3C;= tokens.motion.reducedMotionDurationMs and avoid transform-based motion where possible). Adapt to {{USER_FRAMEWORK}} and {{USER_STYLING_LIBRARY}}.  Key requirements: 1. Responsive: Desktop shows horizontal nav links; mobile/tablet show hamburger menu dialog 2. Sticky: Fixed at top when scrolling (sticky=true, default) 3. Transparentâ†’Solid: Background transitions on scroll (transparent=true; marketing only) 4. Mobile Menu: Modal dialog overlay with focus trap, inert background, and body scroll lock 5. Desktop Dropdowns: Disclosure pattern (button + panel), no focus trap, Escape restores focus to toggle 6. Mobile Accordions: Items with children expand/collapse inside dialog without closing it 7. Accessibility: ARIA attributes, keyboard navigation, focus management 8. Active Link: Highlights current page/route using project's routing solution 9. Animations: 150-300ms transitions with prefers-reduced-motion support 10. CRITICAL: Use ONLY the detected styling system. If vanilla CSS is detected, create CSS classes in a stylesheet, never use inline style attributes. If React is detected, separate effects into single-concern hooks.  Reference: UI Potion Navigation Bar Component </code></pre> <h2>Additional Resources</h2> <h3>Focus Trap Library Examples</h3> <p><strong>React</strong>:</p> <pre><code class=\"language-javascript\">import { createFocusTrap } from 'focus-trap';  const trap = createFocusTrap(mobileMenuRef.current, {   escapeDeactivates: true,   clickOutsideDeactivates: true,   returnFocusOnDeactivate: true,   initialFocus: mobileMenuRef.current.querySelector('a') || mobileMenuRef.current, }); trap.activate(); </code></pre> <p><strong>Vue</strong>:</p> <pre><code class=\"language-javascript\">import { createFocusTrap } from 'focus-trap';  const trap = createFocusTrap(mobileMenuRef.value, {   escapeDeactivates: true,   clickOutsideDeactivates: true,   returnFocusOnDeactivate: true, }); trap.activate(); </code></pre> <h3>Body Scroll Lock Library Examples</h3> <p><strong>React</strong>:</p> <pre><code class=\"language-javascript\">import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';  disableBodyScroll(mobileMenuRef.current); // On close: enableBodyScroll(mobileMenuRef.current); </code></pre> <p><strong>Vue</strong>:</p> <pre><code class=\"language-javascript\">import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';  disableBodyScroll(mobileMenuRef.value); // On close: enableBodyScroll(mobileMenuRef.value); </code></pre> <h3>Scroll Detection Hook Example (React)</h3> <pre><code class=\"language-javascript\">function useScrollPosition(threshold = 20) {   const [scrolled, setScrolled] = useState(false);    useEffect(() => {     const handleScroll = throttle(() => {       setScrolled(window.scrollY > threshold);     }, 100);      window.addEventListener('scroll', handleScroll);     return () => window.removeEventListener('scroll', handleScroll);   }, [threshold]);    return scrolled; } </code></pre> <hr> <h2>Summary for AI Agents</h2> <p>This navigation bar is a responsive navbar component with mobile menu dialog, sticky positioning (default: true), optional transparent-to-solid transition (marketing variant only), and first-class dropdown support. Key implementation points:</p> <ol>   <li><strong>Structure</strong>: Logo, Navigation Links with Dropdown Panels (desktop), Mobile Toggle, Actions (CTA/User Menu), Mobile Menu Dialog with Accordion Sections</li>   <li><strong>State</strong>: Track mobileMenuOpen, scrolled, activeLink, variant, sticky (default: true), transparent (marketing only), openDropdownId (desktop), mobileExpandedItemIds (mobile)</li>   <li><strong>Responsive</strong>: Desktop shows horizontal nav with disclosure dropdowns; mobile/tablet show hamburger menu dialog with accordion sections</li>   <li><strong>Sticky</strong>: Fixed at top when scrolling (default: true for both variants)</li>   <li><strong>Transparentâ†’Solid</strong>: Background transitions on scroll (marketing variant only, when transparent=true)</li>   <li><strong>Mobile Menu</strong>: Modal dialog with focus trap, inert background, body scroll lock, focus restoration, Escape key handling</li>   <li><strong>Desktop Dropdowns</strong>: Disclosure pattern (button + panel), no focus trap, Escape restores focus to toggle, outside click closes</li>   <li><strong>Mobile Accordions</strong>: Items with children expand/collapse inside dialog without closing it</li>   <li><strong>Accessibility</strong>: WCAG AA compliance with proper ARIA attributes (role=\"dialog\", aria-modal=\"true\", disclosure semantics for dropdowns)</li>   <li><strong>Project Detection</strong>: Must detect framework, router, styling system, and design tokens before implementation</li>   <li><strong>Framework-agnostic</strong>: Adapt patterns to any framework's component model</li> </ol> <p>Generate clean, semantic HTML with proper component separation. Use framework-specific state management patterns and CSS methodology as specified by the user. Use ONLY the detected styling system.</p>","excerpt":"A responsive navigation bar component with mobile hamburger menu, sticky scroll behavior, optional transparent-to-solid transition, and first-class dropdown support. Supports marketing (logo + links + CTA) and app (user menu, notifications) variants.","publicationDate":"2026-01-12","tags":["components","navbar","navigation","header","responsive","mobile-menu","sticky","dropdown","a11y"],"coverImage":""},{"fileName":"components/dialog.html","title":"Modal Dialog (Accessible) with Focus Trap and Actions","body":"<h1>Modal Dialog (Accessible) with Focus Trap and Actions</h1> <p>An accessible modal dialog component with focus trapping, Escape/backdrop dismissal rules, scroll locking, and action footer. Includes confirm/alert variants and responsive fullscreen behavior on small screens.</p> <h2>Structure Specification</h2> <h3>Component Hierarchy</h3> <p>The dialog consists of a Trigger element, a Backdrop overlay, and a Dialog container. The Dialog contains a Header (with Title and optional Close Button), a Body section for content, and an optional Footer with action buttons (Primary and Secondary).</p> <p>The dialog structure flows as: Trigger opens the Backdrop which contains the Dialog. The Dialog includes Header (with Title and Close button), Body for content, and Footer for action buttons.</p> <h2>Detailed Component Specifications</h2> <h3>1. Dialog Component</h3> <p><strong>Goal</strong>: Provide a safe, accessible modal dialog for confirmations, forms, and focused tasks without leaving the current page context.</p> <p><strong>Anatomy Slots</strong>:</p> <ul>   <li><code>trigger</code> - Element that opens the dialog (button, link, etc.)</li>   <li><code>backdrop</code> - Overlay behind the dialog</li>   <li><code>dialog</code> - Main dialog container</li>   <li><code>title</code> - Dialog title/heading</li>   <li><code>description</code> - Optional description text</li>   <li><code>body</code> - Main content area</li>   <li><code>footer</code> - Action buttons container</li>   <li><code>closeButton</code> - Optional close button in header</li> </ul> <p><strong>Dimensions</strong>:</p> <ul>   <li>Desktop: Max width 640px, centered horizontally and vertically</li>   <li>Mobile: Fullscreen when <code>fullscreenOnMobile=true</code>, otherwise near-full width with 16px margins</li>   <li>Body max height: <code>calc(100vh - 200px)</code> on desktop</li>   <li>Body overflow: <code>auto</code> when content exceeds max height</li> </ul> <p><strong>States</strong>:</p> <ul>   <li><code>open</code> (boolean, default: false) - Whether the dialog is visible</li>   <li><code>loading</code> (boolean, default: false) - Whether primary action is processing</li>   <li><code>variant</code> (enum: \"dialog\" | \"alertdialog\", default: \"dialog\") - Dialog semantics variant</li>   <li><code>dismissible</code> (boolean, default: true) - Whether Escape/backdrop can close</li>   <li><code>closeOnBackdropClick</code> (boolean, default: true) - Whether backdrop click closes</li>   <li><code>fullscreenOnMobile</code> (boolean, default: true) - Fullscreen on small screens</li> </ul> <p><strong>Elements</strong>:</p> <h4>Trigger</h4> <ul>   <li>Any interactive element (button, link, etc.)</li>   <li>Should have <code>aria-haspopup=\"dialog\"</code> and <code>aria-expanded=\"true/false\"</code></li>   <li>Focus is captured and restored on close</li> </ul> <h4>Backdrop</h4> <ul>   <li>Full viewport overlay</li>   <li>Background: <code>rgba(0, 0, 0, 0.5)</code> to <code>rgba(0, 0, 0, 0.75)</code></li>   <li>Optional: <code>backdrop-filter: blur(4px)</code> for modern browsers</li>   <li>Z-index: 40 (from tokens)</li>   <li>Clickable when <code>dismissible &#x26;&#x26; closeOnBackdropClick</code></li> </ul> <h4>Dialog Container</h4> <ul>   <li>Z-index: 50 (from tokens)</li>   <li>Centered on desktop</li>   <li>Rounded corners: 8-12px border-radius</li>   <li>Shadow: Elevated shadow for depth</li>   <li>Background: White (light) or dark neutral (dark mode)</li>   <li>Padding: 24px (desktop), 16px (mobile)</li> </ul> <h4>Header</h4> <ul>   <li>Contains title and optional close button</li>   <li>Title: 20-24px font size, semibold (600)</li>   <li>Close button: 40px Ã— 40px icon button, positioned top-right</li>   <li>Padding: 24px horizontal, 20px vertical</li> </ul> <h4>Body</h4> <ul>   <li>Scrollable content area</li>   <li>Padding: 24px (desktop), 16px (mobile)</li>   <li>Max height with overflow handling</li>   <li>Text: 16px font size, regular weight</li> </ul> <h4>Footer</h4> <ul>   <li>Action buttons container</li>   <li>Padding: 16-24px</li>   <li>Gap between buttons: 12-16px</li>   <li>Primary button: Prominent, left-aligned or right-aligned</li>   <li>Secondary button: Less prominent, next to primary</li>   <li>Loading state: Disable all actions, show spinner on primary</li> </ul> <p><strong>Behavior</strong>:</p> <ul>   <li>Focus trap: All keyboard focus trapped within dialog when open</li>   <li>Focus restoration: Returns focus to trigger element on close</li>   <li>Scroll lock: Body scroll locked while dialog is open</li>   <li>Escape key: Closes dialog when <code>dismissible=true</code></li>   <li>Backdrop click: Closes dialog when <code>dismissible &#x26;&#x26; closeOnBackdropClick</code></li>   <li>Animation: Smooth open/close transitions with prefers-reduced-motion support</li> </ul> <h2>Responsive Breakpoints</h2> <h3>Mobile (&#x3C; 768px)</h3> <ul>   <li><strong>Fullscreen Mode</strong> (when <code>fullscreenOnMobile=true</code>):     <ul>       <li>Dialog uses full viewport width and height</li>       <li>No margins or rounded corners</li>       <li>Header, body, footer stack vertically</li>       <li>Padding: 16px on all sides</li>     </ul>   </li>   <li><strong>Centered Mode</strong> (when <code>fullscreenOnMobile=false</code>):     <ul>       <li>Near-full width with 16px margins</li>       <li>Maintains rounded corners and shadow</li>       <li>Max width: <code>calc(100vw - 32px)</code></li>     </ul>   </li> </ul> <h3>Desktop (â‰¥ 1024px)</h3> <ul>   <li><strong>Centered Dialog</strong>:     <ul>       <li>Max width: 640px</li>       <li>Centered horizontally and vertically</li>       <li>Body max height: <code>calc(100vh - 200px)</code></li>       <li>Body overflow: <code>auto</code> when content exceeds max height</li>       <li>Padding: 24px on all sides</li>     </ul>   </li> </ul> <h2>Interaction Patterns</h2> <h3>Opening Dialog</h3> <ol>   <li>User clicks trigger element</li>   <li>Dialog opens with animation</li>   <li>Focus moves to first focusable element in dialog (or close button, or primary action)</li>   <li>Body scroll is locked</li>   <li>Trigger element reference is stored for focus restoration</li> </ol> <h3>Closing Dialog</h3> <h4>Escape Key</h4> <ol>   <li>User presses Escape key</li>   <li>If <code>dismissible=true</code>, dialog closes</li>   <li>Focus returns to trigger element</li>   <li>Body scroll is unlocked</li>   <li>Event is prevented and stopped from propagating</li> </ol> <h4>Backdrop Click</h4> <ol>   <li>User clicks backdrop</li>   <li>If <code>dismissible &#x26;&#x26; closeOnBackdropClick</code>, dialog closes</li>   <li>Focus returns to trigger element</li>   <li>Body scroll is unlocked</li>   <li>Event propagation is stopped</li> </ol> <h4>Close Button</h4> <ol>   <li>User clicks close button</li>   <li>Dialog closes</li>   <li>Focus returns to trigger element</li>   <li>Body scroll is unlocked</li> </ol> <h4>Primary Action</h4> <ol>   <li>User clicks primary action button</li>   <li>If <code>!loading</code>, action is invoked</li>   <li><code>loading</code> state is set to <code>true</code></li>   <li>Actions are disabled</li>   <li>On success: Dialog closes, focus restored, scroll unlocked</li>   <li>On error: Dialog stays open, <code>loading</code> set to <code>false</code>, error announced (optional)</li> </ol> <h3>Focus Management</h3> <ul>   <li><strong>Initial Focus</strong>: First focusable element in body, else close button, else primary action button</li>   <li><strong>Focus Trap</strong>: Tab and Shift+Tab cycle only within dialog</li>   <li><strong>Focus Restoration</strong>: Always return to trigger element on close (all close paths)</li>   <li><strong>Focus Visible</strong>: Clear focus indicators (2px solid outline, 2px offset)</li> </ul> <h2>Accessibility Requirements</h2> <h3>WCAG 2.1 Compliance (Level AA Target)</h3> <p>This dialog component should meet WCAG 2.1 Level AA standards. Key requirements:</p> <ul>   <li><strong>2.1.1 Keyboard</strong>: All dialog controls operable via keyboard; focus is trapped within dialog while open.</li>   <li><strong>2.1.2 No Keyboard Trap</strong>: No keyboard trap beyond intended focus trap; Escape exits when dismissible.</li>   <li><strong>2.4.3 Focus Order</strong>: Logical focus order; initial focus placed inside dialog; focus returns to trigger on close.</li>   <li><strong>2.4.7 Focus Visible</strong>: Visible focus indicators for all interactive elements.</li>   <li><strong>4.1.2 Name, Role, Value</strong>: Correct ARIA roles, names, and relationships.</li> </ul> <h3>Keyboard Navigation</h3> <p><strong>Tab Order</strong>:</p> <ul>   <li>Focus trapped within dialog when open</li>   <li>Tabbing cycles through focusable elements</li>   <li>Shift+Tab cycles backwards</li>   <li>Escape closes when <code>dismissible=true</code> and restores focus to trigger</li> </ul> <p><strong>Initial Focus</strong>:</p> <ul>   <li>Prefer first focusable element in body</li>   <li>Else close button</li>   <li>Else primary action button</li> </ul> <p><strong>Implementation</strong>:</p> <ul>   <li>Use focus-trap library or manual implementation</li>   <li>Track focusable elements within dialog</li>   <li>Prevent tabbing outside dialog boundaries</li>   <li>Handle Escape key globally when dialog is open</li> </ul> <h3>ARIA Attributes</h3> <p><strong>Required ARIA Attributes</strong>:</p> <ol>   <li>     <p><strong>Dialog Element</strong>:</p>     <pre><code class=\"language-html\">&#x3C;div role=\"dialog\"       aria-modal=\"true\"      aria-labelledby=\"dialog-title\"      aria-describedby=\"dialog-description\"> </code></pre>     <ul>       <li>Use <code>role=\"alertdialog\"</code> for alert variant</li>       <li><code>aria-labelledby</code> points to title element ID</li>       <li><code>aria-describedby</code> points to description/body element ID (when present)</li>     </ul>   </li>   <li>     <p><strong>Close Button</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Close dialog\"> </code></pre>   </li>   <li>     <p><strong>Trigger</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button aria-haspopup=\"dialog\"          aria-expanded=\"true/false\"> </code></pre>   </li> </ol> <p><strong>Optional ARIA Attributes</strong>:</p> <ol start=\"4\">   <li><strong>Status Region</strong> (for loading/error announcements):     <pre><code class=\"language-html\">&#x3C;div role=\"status\" aria-live=\"polite\">   &#x3C;!-- Loading or error messages --> &#x3C;/div> </code></pre>   </li> </ol> <p><strong>Dynamic ARIA Updates</strong>:</p> <ul>   <li>Update <code>aria-expanded</code> on trigger when dialog opens/closes</li>   <li>Update <code>aria-hidden</code> on backdrop (set to <code>true</code> when dialog closed)</li>   <li>Ensure <code>aria-labelledby</code> and <code>aria-describedby</code> point to existing elements</li> </ul> <h3>Screen Reader Support</h3> <p><strong>Announcements</strong>:</p> <ul>   <li>Dialog open/close state changes (via <code>aria-modal</code> and focus management)</li>   <li>Loading state changes (via status region with <code>aria-live=\"polite\"</code>)</li>   <li>Error messages (via status region)</li> </ul> <p><strong>Labels</strong>:</p> <ul>   <li>All icon-only buttons must have descriptive <code>aria-label</code></li>   <li>Title element must have unique ID for <code>aria-labelledby</code></li>   <li>Description/body element should have unique ID for <code>aria-describedby</code> (when present)</li> </ul> <p><strong>Screen Reader Only Text (sr-only class)</strong>:</p> <pre><code class=\"language-css\">.sr-only {   position: absolute;   width: 1px;   height: 1px;   padding: 0;   margin: -1px;   overflow: hidden;   clip: rect(0, 0, 0, 0);   white-space: nowrap;   border-width: 0; } </code></pre> <h3>Focus Visible Styles</h3> <p><strong>Implementation</strong>:</p> <pre><code class=\"language-css\">button:focus-visible, a:focus-visible, [tabindex]:focus-visible {   outline: 2px solid var(--primary-color);   outline-offset: 2px; }  /* Fallback for older browsers */ button:focus, a:focus, [tabindex]:focus {   outline: 2px solid var(--primary-color);   outline-offset: 2px; } </code></pre> <h3>Accessibility Implementation Checklist</h3> <p>When implementing this dialog, ensure:</p> <ul>   <li>[ ] Focus trap implemented and tested</li>   <li>[ ] Focus restored to trigger on close (all close paths)</li>   <li>[ ] Escape closes dialog only if <code>dismissible=true</code></li>   <li>[ ] Backdrop click closes only if <code>closeOnBackdropClick=true</code></li>   <li>[ ] <code>role</code> and <code>aria-*</code> attributes present and correctly wired</li>   <li>[ ] Body scroll lock applied and cleaned up</li>   <li>[ ] <code>prefers-reduced-motion</code> reduces or removes transforms</li>   <li>[ ] All interactive elements have visible focus indicators</li>   <li>[ ] <code>aria-labelledby</code> and <code>aria-describedby</code> point to existing elements</li>   <li>[ ] Screen reader tested with NVDA, VoiceOver, or JAWS</li> </ul> <h2>Design System Specifications</h2> <p><strong>Important</strong>: The design specifications below are tool-agnostic and should be implemented using your project's chosen styling approach (Tailwind, CSS Modules, styled-components, Chakra UI, Material-UI, SCSS, etc.). The styling examples in the \"Code Implementation Patterns\" section show how to apply these design values, but these specifications are the source of truth for the design.</p> <h3>Color Guidelines</h3> <h4>Backdrop</h4> <ul>   <li><strong>Background</strong>: <code>rgba(0, 0, 0, 0.5)</code> to <code>rgba(0, 0, 0, 0.75)</code></li>   <li><strong>Optional</strong>: <code>backdrop-filter: blur(4px)</code> for modern browsers</li> </ul> <h4>Dialog Container</h4> <ul>   <li><strong>Background (Light)</strong>: White (<code>#ffffff</code>) or very light gray (<code>#f9fafb</code>)</li>   <li><strong>Background (Dark)</strong>: <code>#1a1a1a</code> or <code>#0f172a</code></li>   <li><strong>Border</strong>: Optional 1px solid border (subtle)</li>   <li><strong>Shadow</strong>: Elevated shadow for depth     <ul>       <li>Light: <code>0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)</code></li>       <li>Dark: <code>0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2)</code></li>     </ul>   </li> </ul> <h4>Header</h4> <ul>   <li><strong>Background</strong>: Match dialog container</li>   <li><strong>Text (Light)</strong>: Dark gray (<code>#111827</code>, <code>#1f2937</code>) or black (<code>#000000</code>)</li>   <li><strong>Text (Dark)</strong>: <code>#e0e0e0</code> or <code>#f1f5f9</code></li>   <li><strong>Border</strong>: Optional 1px solid border-bottom (subtle)</li> </ul> <h4>Body</h4> <ul>   <li><strong>Background</strong>: Match dialog container</li>   <li><strong>Text (Light)</strong>: Dark gray (<code>#111827</code>, <code>#1f2937</code>)</li>   <li><strong>Text (Dark)</strong>: <code>#e0e0e0</code> or <code>#f1f5f9</code></li>   <li><strong>Contrast</strong>: Ensure 4.5:1 contrast ratio minimum (WCAG AA)</li> </ul> <h4>Footer</h4> <ul>   <li><strong>Background</strong>: Match dialog container</li>   <li><strong>Border</strong>: Optional 1px solid border-top (subtle)</li>   <li><strong>Button Colors</strong>: Follow your design system's button styles</li> </ul> <h3>Typography</h3> <ul>   <li><strong>Font Family</strong>: Use project's font stack (typically: system-ui, -apple-system, sans-serif or custom font)</li>   <li><strong>Title</strong>: 20-24px, semibold (600) or bold (700)</li>   <li><strong>Description</strong>: 14-16px, regular (400) or medium (500)</li>   <li><strong>Body Text</strong>: 16px, regular (400)</li>   <li><strong>Button Text</strong>: 14-16px, medium (500) or semibold (600)</li>   <li><strong>Line Height</strong>: 1.25 for headings, 1.5 for body text</li> </ul> <h3>Spacing System</h3> <p>Use consistent spacing scale (4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px) or your project's spacing system:</p> <ul>   <li><strong>Dialog Padding</strong>: 24px (desktop), 16px (mobile)</li>   <li><strong>Header Padding</strong>: 24px horizontal, 20px vertical</li>   <li><strong>Body Padding</strong>: 24px (desktop), 16px (mobile)</li>   <li><strong>Footer Padding</strong>: 16-24px</li>   <li><strong>Button Gap</strong>: 12-16px between primary and secondary buttons</li>   <li><strong>Content Gap</strong>: 16-24px between sections</li> </ul> <h3>Shadows &#x26; Elevation</h3> <p>Use subtle shadows for depth and separation:</p> <ul>   <li><strong>Dialog Shadow (Light)</strong>: <code>0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)</code></li>   <li><strong>Dialog Shadow (Dark)</strong>: <code>0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2)</code></li> </ul> <h3>Border Radius</h3> <ul>   <li><strong>Dialog Container</strong>: 8-12px</li>   <li><strong>Buttons</strong>: 6-8px</li> </ul> <h3>Visual Hierarchy Principles</h3> <ol>   <li>Dialog should be clearly elevated above backdrop</li>   <li>Header should be visually distinct from body</li>   <li>Footer should be visually distinct from body</li>   <li>Primary action should be more prominent than secondary</li>   <li>Focus indicators should be clearly visible</li>   <li>Loading state should provide clear feedback</li> </ol> <h2>State Management Considerations</h2> <h3>For AI Agents to Implement</h3> <p><strong>State to Track</strong>:</p> <ol>   <li><code>open: boolean</code> - Whether dialog is visible (default: false)</li>   <li><code>loading: boolean</code> - Whether primary action is processing (default: false)</li>   <li><code>variant: \"dialog\" | \"alertdialog\"</code> - Dialog semantics variant (default: \"dialog\")</li>   <li><code>dismissible: boolean</code> - Whether Escape/backdrop can close (default: true)</li>   <li><code>closeOnBackdropClick: boolean</code> - Whether backdrop click closes (default: true)</li>   <li><code>fullscreenOnMobile: boolean</code> - Fullscreen on small screens (default: true)</li>   <li><code>triggerElement: HTMLElement | null</code> - Reference to trigger for focus restoration</li> </ol> <p><strong>State Persistence</strong>:</p> <ul>   <li>All state is component-level only (no persistence needed)</li>   <li><code>triggerElement</code> should be captured when dialog opens and cleared on close</li> </ul> <h3>SSR/Hydration Considerations</h3> <ul>   <li><strong>Dialog state</strong>: Initialize <code>open</code> as <code>false</code> to prevent hydration mismatches</li>   <li><strong>Focus management</strong>: Only access DOM elements after component mount</li>   <li><strong>Body scroll lock</strong>: Only apply after component mount, check for <code>window</code> object existence</li> </ul> <h2>Critical Implementation Guidelines</h2> <h3>Vanilla CSS Detection</h3> <p><strong>CRITICAL</strong>: When detecting vanilla CSS in the project, ALWAYS create CSS classes in a stylesheet. NEVER use inline style attributes on HTML elements.</p> <ul>   <li>Define classes like <code>.dialog</code>, <code>.dialog--open</code>, <code>.backdrop</code>, <code>.dialog-header</code>, etc. in your CSS file</li>   <li>Apply classes via <code>className</code>/<code>class</code> attributes: <code>&#x3C;div class=\"dialog dialog--open\"></code></li>   <li>Do NOT use: <code>&#x3C;div style=\"max-width: 640px\"></code></li>   <li>This ensures maintainability, reusability, and proper separation of concerns</li> </ul> <h3>React Hook Patterns</h3> <p><strong>CRITICAL</strong>: When detecting React, extract logic from <code>useEffect</code> hooks into separate custom hooks that do ONE thing each.</p> <ul>   <li>Instead of one <code>useEffect</code> handling multiple concerns (focus trap + scroll lock + escape handler), create separate hooks:     <ul>       <li><code>useFocusTrap(containerRef, isActive)</code> - Handles focus trapping only</li>       <li><code>useBodyScrollLock(isLocked)</code> - Handles body scroll locking only</li>       <li><code>useEscapeHandler(onEscape, isActive)</code> - Handles Escape key only</li>       <li><code>useDialogState(initialOpen)</code> - Manages dialog open/close state only</li>     </ul>   </li>   <li>This improves code organization, testability, and reusability</li>   <li>Each hook should have a single responsibility</li> </ul> <h2>Code Implementation Patterns</h2> <h3>React Example Pattern</h3> <pre><code class=\"language-jsx\">// Suggested component structure &#x3C;Dialog   open={isOpen}   onClose={handleClose}   variant=\"dialog\"   dismissible={true}   closeOnBackdropClick={true}   fullscreenOnMobile={true} >   &#x3C;DialogTrigger onClick={handleOpen}>     Open Dialog   &#x3C;/DialogTrigger>   &#x3C;DialogBackdrop />   &#x3C;DialogContainer>     &#x3C;DialogHeader>       &#x3C;DialogTitle id=\"dialog-title\">Dialog Title&#x3C;/DialogTitle>       &#x3C;DialogCloseButton />     &#x3C;/DialogHeader>     &#x3C;DialogBody id=\"dialog-description\">       Dialog content goes here     &#x3C;/DialogBody>     &#x3C;DialogFooter>       &#x3C;Button variant=\"secondary\" onClick={handleClose}>         Cancel       &#x3C;/Button>       &#x3C;Button variant=\"primary\" onClick={handlePrimaryAction} loading={isLoading}>         Confirm       &#x3C;/Button>     &#x3C;/DialogFooter>   &#x3C;/DialogContainer> &#x3C;/Dialog> </code></pre> <h3>Angular Example Pattern</h3> <pre><code class=\"language-html\">&#x3C;!-- Suggested template structure --> &#x3C;button (click)=\"openDialog()\"          [attr.aria-haspopup]=\"'dialog'\"         [attr.aria-expanded]=\"isOpen\">   Open Dialog &#x3C;/button>  &#x3C;div *ngIf=\"isOpen\"       class=\"backdrop\"       (click)=\"onBackdropClick()\"      [attr.aria-hidden]=\"!isOpen\">   &#x3C;div role=\"dialog\"        [attr.aria-modal]=\"'true'\"        [attr.aria-labelledby]=\"'dialog-title'\"        [attr.aria-describedby]=\"'dialog-description'\"        class=\"dialog\">     &#x3C;header class=\"dialog-header\">       &#x3C;h2 id=\"dialog-title\">Dialog Title&#x3C;/h2>       &#x3C;button (click)=\"closeDialog()\" aria-label=\"Close dialog\">Ã—&#x3C;/button>     &#x3C;/header>     &#x3C;div id=\"dialog-description\" class=\"dialog-body\">       Dialog content     &#x3C;/div>     &#x3C;footer class=\"dialog-footer\">       &#x3C;button (click)=\"closeDialog()\">Cancel&#x3C;/button>       &#x3C;button (click)=\"handlePrimaryAction()\" [disabled]=\"isLoading\">         Confirm       &#x3C;/button>     &#x3C;/footer>   &#x3C;/div> &#x3C;/div> </code></pre> <h3>Vue Example Pattern</h3> <pre><code class=\"language-vue\">&#x3C;!-- Suggested component structure --> &#x3C;template>   &#x3C;div>     &#x3C;button @click=\"openDialog\"             :aria-haspopup=\"'dialog'\"             :aria-expanded=\"isOpen\">       Open Dialog     &#x3C;/button>          &#x3C;Teleport to=\"body\">       &#x3C;div v-if=\"isOpen\" class=\"backdrop\" @click=\"onBackdropClick\">         &#x3C;div role=\"dialog\"              :aria-modal=\"true\"              :aria-labelledby=\"'dialog-title'\"              :aria-describedby=\"'dialog-description'\"              class=\"dialog\">           &#x3C;header class=\"dialog-header\">             &#x3C;h2 id=\"dialog-title\">Dialog Title&#x3C;/h2>             &#x3C;button @click=\"closeDialog\" aria-label=\"Close dialog\">Ã—&#x3C;/button>           &#x3C;/header>           &#x3C;div id=\"dialog-description\" class=\"dialog-body\">             Dialog content           &#x3C;/div>           &#x3C;footer class=\"dialog-footer\">             &#x3C;button @click=\"closeDialog\">Cancel&#x3C;/button>             &#x3C;button @click=\"handlePrimaryAction\" :disabled=\"isLoading\">               Confirm             &#x3C;/button>           &#x3C;/footer>         &#x3C;/div>       &#x3C;/div>     &#x3C;/Teleport>   &#x3C;/div> &#x3C;/template> </code></pre> <h3>CSS/Styling Approaches</h3> <p><strong>Note</strong>: The examples below show how to implement the design specifications using different styling tools. Always refer to the \"Design System Specifications\" section above for the authoritative design values, then adapt them to your project's styling approach.</p> <h4>Tailwind CSS Pattern</h4> <pre><code class=\"language-html\">&#x3C;!-- Backdrop --> &#x3C;div class=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-40\"      @click=\"onBackdropClick\">   &#x3C;!-- Dialog -->   &#x3C;div class=\"fixed inset-0 flex items-center justify-center z-50 p-4\">     &#x3C;div class=\"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-2xl w-full max-h-[calc(100vh-200px)] flex flex-col\">       &#x3C;!-- Header -->       &#x3C;header class=\"flex items-center justify-between p-6 border-b\">         &#x3C;h2 id=\"dialog-title\" class=\"text-xl font-semibold\">Dialog Title&#x3C;/h2>         &#x3C;button class=\"w-10 h-10 flex items-center justify-center\" aria-label=\"Close dialog\">Ã—&#x3C;/button>       &#x3C;/header>       &#x3C;!-- Body -->       &#x3C;div id=\"dialog-description\" class=\"flex-1 overflow-auto p-6\">         Dialog content       &#x3C;/div>       &#x3C;!-- Footer -->       &#x3C;footer class=\"flex items-center justify-end gap-3 p-6 border-t\">         &#x3C;button class=\"px-4 py-2\">Cancel&#x3C;/button>         &#x3C;button class=\"px-4 py-2 bg-primary text-white\">Confirm&#x3C;/button>       &#x3C;/footer>     &#x3C;/div>   &#x3C;/div> &#x3C;/div> </code></pre> <h4>Vanilla CSS Pattern</h4> <pre><code class=\"language-css\">/* CRITICAL: Always create CSS classes, never use inline styles */ /* Apply design system values directly */ .backdrop {   position: fixed;   inset: 0;   background: rgba(0, 0, 0, 0.5);   backdrop-filter: blur(4px);   z-index: 40; }  .dialog {   position: fixed;   inset: 0;   display: flex;   align-items: center;   justify-content: center;   z-index: 50;   padding: 16px; }  .dialogContainer {   background: #ffffff;   border-radius: 12px;   box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);   max-width: 640px;   width: 100%;   max-height: calc(100vh - 200px);   display: flex;   flex-direction: column; }  .dialogHeader {   display: flex;   align-items: center;   justify-content: space-between;   padding: 24px;   border-bottom: 1px solid rgba(0, 0, 0, 0.1); }  .dialogBody {   flex: 1;   overflow: auto;   padding: 24px; }  .dialogFooter {   display: flex;   align-items: center;   justify-content: flex-end;   gap: 12px;   padding: 24px;   border-top: 1px solid rgba(0, 0, 0, 0.1); } </code></pre> <h4>Material-UI/Chakra Pattern</h4> <ul>   <li>Use Dialog/Modal component from library</li>   <li><strong>Extend theme</strong> with design system color values, spacing scale, and typography settings</li>   <li>Use theme.transitions for consistent animations matching design system specifications</li>   <li>Leverage theme breakpoints for responsive behavior</li>   <li><strong>Customize colors, spacing, and typography</strong> to match design system specifications</li>   <li>Ensure focus trap and scroll lock are properly configured</li> </ul> <h2>Animation Specifications</h2> <h3>Open Animation</h3> <ul>   <li><strong>Duration</strong>: 180ms (from tokens)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.2, 0, 0, 1)</code> (from tokens)</li>   <li><strong>Backdrop</strong>: Opacity <code>0 â†’ 1</code></li>   <li><strong>Dialog</strong>:     <ul>       <li>Opacity <code>0 â†’ 1</code></li>       <li>Transform: <code>translateY(8px) scale(0.98) â†’ translateY(0) scale(1)</code></li>     </ul>   </li> </ul> <h3>Close Animation</h3> <ul>   <li><strong>Duration</strong>: 140ms (from tokens)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.2, 0, 0, 1)</code> (from tokens)</li>   <li><strong>Backdrop</strong>: Opacity <code>1 â†’ 0</code></li>   <li><strong>Dialog</strong>:     <ul>       <li>Opacity <code>1 â†’ 0</code></li>       <li>Transform: <code>translateY(0) scale(1) â†’ translateY(8px) scale(0.98)</code></li>     </ul>   </li> </ul> <h3>Prefers-Reduced-Motion Support</h3> <p><strong>Implementation</strong>:</p> <pre><code class=\"language-css\">@media (prefers-reduced-motion: reduce) {   .dialog,   .backdrop {     animation: none;     transition: opacity 0.1s ease;   }      .dialog {     transform: none;   } } </code></pre> <p><strong>Performance</strong>:</p> <ul>   <li>Prefer <code>transform</code> and <code>opacity</code> for animations (GPU-accelerated)</li>   <li>Set <code>will-change: transform, opacity</code> on animating elements</li>   <li>Use <code>transform3d(0,0,0)</code> to trigger GPU acceleration if needed</li> </ul> <h2>Z-Index Layer System</h2> <p>To ensure proper layering of elements:</p> <ul>   <li><strong>Backdrop</strong>: 40 (from tokens)</li>   <li><strong>Dialog</strong>: 50 (from tokens)</li>   <li><strong>Tooltips</strong>: 60 (from tokens)</li> </ul> <h2>Implementation Details</h2> <h3>Focus Trap</h3> <p><strong>When</strong>: Dialog is open</p> <p><strong>How</strong>:</p> <ul>   <li>Use focus-trap library (e.g., <code>focus-trap</code> for React, <code>focus-trap-vue</code> for Vue) or manual implementation</li>   <li>Identify all focusable elements within dialog</li>   <li>Prevent tabbing outside dialog boundaries</li>   <li>Cycle focus within dialog on Tab/Shift+Tab</li> </ul> <p><strong>Cleanup</strong>: Remove focus trap on close</p> <h3>Focus Restoration</h3> <p><strong>When</strong>: Dialog closes (all close paths)</p> <p><strong>How</strong>:</p> <ul>   <li>Store reference to trigger element when dialog opens</li>   <li>Restore focus to trigger element on close</li>   <li>Handle cases where trigger element no longer exists (fallback to body or first focusable element)</li> </ul> <h3>Body Scroll Lock</h3> <p><strong>When</strong>: Dialog is open</p> <p><strong>How</strong>:</p> <ul>   <li>Set <code>document.body.style.overflow = 'hidden'</code></li>   <li>Optionally preserve scroll position: <code>document.body.style.position = 'fixed'</code> and <code>document.body.style.top = '-${window.scrollY}px'</code></li> </ul> <p><strong>Cleanup</strong>:</p> <ul>   <li>Restore on close: <code>document.body.style.overflow = ''</code></li>   <li>Restore scroll position if preserved</li> </ul> <h3>Escape Key Handling</h3> <p><strong>When</strong>: Dialog is open and <code>dismissible=true</code></p> <p><strong>How</strong>:</p> <ul>   <li>Add global keydown listener for Escape key</li>   <li>Prevent default and stop propagation</li>   <li>Close dialog and restore focus</li> </ul> <p><strong>Cleanup</strong>: Remove listener on close</p> <h3>Backdrop Click Handling</h3> <p><strong>When</strong>: Dialog is open and <code>dismissible &#x26;&#x26; closeOnBackdropClick</code></p> <p><strong>How</strong>:</p> <ul>   <li>Add click listener to backdrop</li>   <li>Check if click target is backdrop (not dialog content)</li>   <li>Stop event propagation</li>   <li>Close dialog and restore focus</li> </ul> <h2>Edge Cases</h2> <h3>Very Long Content</h3> <ul>   <li>Body should scroll independently</li>   <li>Header and footer remain visible</li>   <li>Max height prevents dialog from exceeding viewport</li> </ul> <h3>Multiple Dialogs</h3> <ul>   <li>Stack dialogs with increasing z-index</li>   <li>Focus trap applies to topmost dialog</li>   <li>Escape closes topmost dialog first</li> </ul> <h3>Rapid Opening/Closing</h3> <ul>   <li>Debounce or disable interactions during animation</li>   <li>Prevent multiple simultaneous open/close operations</li> </ul> <h3>Trigger Element Removed</h3> <ul>   <li>If trigger element is removed from DOM before close, fallback to body or first focusable element for focus restoration</li> </ul> <h3>Very Small Screens</h3> <ul>   <li>Fullscreen mode recommended for screens &#x3C; 320px</li>   <li>Consider further reducing padding/spacing</li> </ul> <h3>Content Overflow</h3> <ul>   <li>Ensure dialog doesn't overflow viewport horizontally</li>   <li>Body scroll handles vertical overflow</li> </ul> <h2>Common Variations</h2> <h3>Confirm Dialog</h3> <ul>   <li>Shows primary and secondary buttons</li>   <li>Backdrop click allowed if <code>dismissible=true</code></li>   <li>Typically uses <code>variant=\"dialog\"</code></li> </ul> <h3>Alert Dialog</h3> <ul>   <li>Uses <code>role=\"alertdialog\"</code></li>   <li>Prefer <code>closeOnBackdropClick=false</code> to avoid accidental dismissal</li>   <li>Typically for urgent confirmations</li>   <li>May only have primary action button</li> </ul> <h3>Form Dialog</h3> <ul>   <li>Contains form inputs in body</li>   <li>Primary action submits form</li>   <li>Secondary action cancels and closes</li>   <li>Validation errors shown in body</li> </ul> <h3>Loading Dialog</h3> <ul>   <li>Shows loading spinner in body</li>   <li>No footer actions</li>   <li>Typically not dismissible</li>   <li>Used for async operations</li> </ul> <h3>Fullscreen Dialog</h3> <ul>   <li><code>fullscreenOnMobile=true</code> by default</li>   <li>Can be forced fullscreen on all screen sizes</li>   <li>Useful for complex forms or content</li> </ul> <h2>Testing Checklist</h2> <p>When implementing this dialog, test:</p> <ul>   <li>[ ] Dialog opens from trigger and focus moves inside dialog</li>   <li>[ ] Tab and Shift+Tab cycle within dialog only</li>   <li>[ ] Escape closes when <code>dismissible=true</code> and restores focus to trigger</li>   <li>[ ] Backdrop click closes only when enabled; does not close when disabled</li>   <li>[ ] Close button always closes and restores focus</li>   <li>[ ] <code>role='dialog'/'alertdialog'</code> correctly applied based on variant</li>   <li>[ ] <code>aria-labelledby</code> and <code>aria-describedby</code> point to existing elements</li>   <li>[ ] Body scroll is locked while open and restored on close</li>   <li>[ ] On mobile, fullscreen variant renders correctly when enabled</li>   <li>[ ] <code>prefers-reduced-motion</code> removes heavy transforms/animations</li>   <li>[ ] Focus trap works correctly (cannot tab outside dialog)</li>   <li>[ ] Focus restoration works on all close paths</li>   <li>[ ] Loading state disables actions and shows feedback</li>   <li>[ ] Primary action success closes dialog</li>   <li>[ ] Primary action error keeps dialog open</li>   <li>[ ] Animations are smooth (60fps)</li>   <li>[ ] No layout shift or flicker on open/close</li>   <li>[ ] SSR/hydration safe (no DOM access before mount)</li>   <li>[ ] Long content scrolls correctly in body</li>   <li>[ ] Multiple dialogs stack correctly</li>   <li>[ ] Screen reader announces dialog state changes</li> </ul> <h2>AI Agent Implementation Prompt Template</h2> <p>Use this template when asking an AI agent to implement this dialog:</p> <pre><code>Implement an accessible Modal Dialog component with overlay backdrop, focus trap, focus restoration to trigger, Escape/backdrop dismissal (configurable), and scroll lock. Support role='dialog' and role='alertdialog' variants, with aria-modal, aria-labelledby, aria-describedby, and aria-expanded on the trigger. Provide header (title + close), body, footer (primary/secondary actions) and loading state for primary action. Add open/close animations with prefers-reduced-motion support. Adapt to {{USER_FRAMEWORK}} and {{USER_STYLING_LIBRARY}}.  Key requirements: 1. Focus trap: All keyboard focus trapped within dialog when open 2. Focus restoration: Returns focus to trigger element on close (all close paths) 3. Escape key: Closes dialog when dismissible=true 4. Backdrop click: Closes dialog when dismissible &#x26;&#x26; closeOnBackdropClick 5. Scroll lock: Body scroll locked while dialog is open 6. ARIA: role, aria-modal, aria-labelledby, aria-describedby, aria-expanded 7. Animations: 180ms open, 140ms close with cubic-bezier(0.2, 0, 0, 1) easing 8. Responsive: Fullscreen on mobile when fullscreenOnMobile=true 9. Loading state: Disable actions and show spinner on primary action 10. Prefers-reduced-motion: Reduce or remove transforms  Reference: UI Potion Modal Dialog Component </code></pre> <h2>Additional Resources</h2> <h3>Focus Trap Library Examples</h3> <p><strong>React</strong>:</p> <pre><code class=\"language-javascript\">import { createFocusTrap } from 'focus-trap';  const trap = createFocusTrap(dialogRef.current, {   escapeDeactivates: dismissible,   clickOutsideDeactivates: dismissible &#x26;&#x26; closeOnBackdropClick,   returnFocusOnDeactivate: true,   initialFocus: dialogRef.current.querySelector('[data-initial-focus]') || dialogRef.current, }); trap.activate(); </code></pre> <p><strong>Vue</strong>:</p> <pre><code class=\"language-javascript\">import { createFocusTrap } from 'focus-trap';  const trap = createFocusTrap(dialogRef.value, {   escapeDeactivates: dismissible,   clickOutsideDeactivates: dismissible &#x26;&#x26; closeOnBackdropClick,   returnFocusOnDeactivate: true, }); trap.activate(); </code></pre> <h3>Body Scroll Lock Library Examples</h3> <p><strong>React</strong>:</p> <pre><code class=\"language-javascript\">import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';  disableBodyScroll(dialogRef.current); // On close: enableBodyScroll(dialogRef.current); </code></pre> <p><strong>Vue</strong>:</p> <pre><code class=\"language-javascript\">import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';  disableBodyScroll(dialogRef.value); // On close: enableBodyScroll(dialogRef.value); </code></pre> <hr> <h2>Summary for AI Agents</h2> <p>This modal dialog is a standard accessible dialog component with focus trap, focus restoration, scroll lock, and keyboard accessibility. Key implementation points:</p> <ol>   <li><strong>Structure</strong>: Trigger, Backdrop, Dialog container with Header, Body, Footer</li>   <li><strong>State</strong>: Track open, loading, variant, dismissible, closeOnBackdropClick, fullscreenOnMobile</li>   <li><strong>Focus Management</strong>: Trap focus within dialog, restore to trigger on close</li>   <li><strong>Keyboard</strong>: Escape closes when dismissible, Tab cycles within dialog</li>   <li><strong>Scroll Lock</strong>: Lock body scroll while dialog is open</li>   <li><strong>Animations</strong>: 180ms open, 140ms close with prefers-reduced-motion support</li>   <li><strong>Accessibility</strong>: WCAG AA compliance with proper ARIA attributes</li>   <li><strong>Framework-agnostic</strong>: Adapt patterns to any framework's component model</li> </ol> <p>Generate clean, semantic HTML with proper component separation. Use framework-specific state management patterns and CSS methodology as specified by the user.</p>","excerpt":"An accessible modal dialog component with focus trapping, Escape/backdrop dismissal rules, scroll locking, and action footer. Includes confirm/alert variants and responsive fullscreen behavior on small screens.","publicationDate":"2026-01-11","tags":["components","modal","dialog","overlay","focus-trap","a11y","wcag","aria"],"coverImage":""},{"fileName":"components/data-table.html","title":"Data Table (Sortable, Paginated, Filterable)","body":"<h1>Data Table (Sortable, Paginated, Filterable)</h1> <h2>Overview</h2> <p>A comprehensive data table component designed for displaying and managing tabular data in admin panels, dashboards, and data-driven applications. The component provides essential features for data manipulation including column sorting (ascending/descending), client-side pagination with configurable page sizes, row selection (single and multi-select), and responsive behavior that adapts to mobile screens by displaying data in a card-based layout.</p> <p>The table supports multiple states including loading (with skeleton rows), empty state (when no data is available), and error state (when data fetching fails). All interactions are fully keyboard accessible with proper ARIA attributes, making it compliant with WCAG AA standards.</p> <h2>Component Structure</h2> <p>The data table consists of several key sections organized in a clear hierarchy:</p> <p><strong>Main Container</strong> - Root wrapper that manages responsive behavior and contains all table elements</p> <ul>   <li><strong>Table Header</strong> - Contains column headers with sort indicators and selection checkbox</li>   <li><strong>Table Body</strong> - Displays data rows or state indicators (loading/empty/error)</li>   <li><strong>Selection Controls</strong> - Toolbar with bulk action buttons when rows are selected</li>   <li><strong>Pagination Controls</strong> - Navigation controls at the bottom with page info and size selector</li> </ul> <h2>Column Configuration</h2> <p>Each column in the table is defined with the following properties:</p> <p><strong>Column Definition Structure</strong>:</p> <ul>   <li><strong>id</strong> - Unique identifier for the column</li>   <li><strong>header</strong> - Display text for column header</li>   <li><strong>accessor</strong> - Key to access data from row object (or custom render function)</li>   <li><strong>sortable</strong> - Whether the column supports sorting (default: true)</li>   <li><strong>width</strong> - Optional fixed width (default: auto-sizing)</li>   <li><strong>align</strong> - Text alignment: left (default), center, or right</li>   <li><strong>hidden</strong> - Whether column is hidden on mobile breakpoints</li> </ul> <h2>Sorting Behavior</h2> <p>Columns support three sort states that cycle on click:</p> <ol>   <li><strong>Unsorted</strong> (initial state) - No sort indicator</li>   <li><strong>Ascending</strong> - Upward arrow indicator, data sorted A-Z or 0-9</li>   <li><strong>Descending</strong> - Downward arrow indicator, data sorted Z-A or 9-0</li> </ol> <p>Clicking a sortable column header cycles through these states. Only one column can be sorted at a time (single-column sort). The active sort column is visually distinguished with a highlighted header and clear sort indicator.</p> <h2>Pagination</h2> <p>The pagination system provides intuitive navigation through large datasets:</p> <p><strong>Pagination Controls Include</strong>:</p> <ul>   <li>Previous/Next page buttons (disabled at boundaries)</li>   <li>Page number indicators (current page highlighted)</li>   <li>Page size selector (10, 25, 50, 100 rows per page)</li>   <li>Total results count display (\"Showing 1-10 of 245 results\")</li>   <li>Jump to first/last page buttons (optional)</li> </ul> <p>Pagination info updates immediately when changing page size or navigating. Page numbers adapt to show a limited range (e.g., \"1 2 3 ... 15 16 17 ... 45\") for large datasets.</p> <h2>Row Selection</h2> <p>Users can select individual rows or all rows on the current page:</p> <p><strong>Selection Features</strong>:</p> <ul>   <li><strong>Header Checkbox</strong> - Selects/deselects all rows on current page</li>   <li><strong>Row Checkboxes</strong> - Individual row selection</li>   <li><strong>Shift+Click</strong> - Range selection from last selected row</li>   <li><strong>Keyboard Navigation</strong> - Space key toggles selection for focused row</li>   <li><strong>Selection Toolbar</strong> - Appears above table showing count and bulk action buttons</li>   <li><strong>Clear Selection</strong> - Button to deselect all selected rows</li> </ul> <p>Visual feedback includes highlighted background for selected rows and checkbox state indicators (checked, unchecked, indeterminate for header when some rows selected).</p> <h2>Responsive Design</h2> <p>The table adapts to different screen sizes with two distinct layouts:</p> <p><strong>Desktop (â‰¥1024px)</strong>:</p> <ul>   <li>Standard table layout with all columns visible</li>   <li>Horizontal scroll for wide tables if needed</li>   <li>Sticky header option for long tables</li> </ul> <p><strong>Tablet (768px - 1023px)</strong>:</p> <ul>   <li>Simplified table layout with fewer columns</li>   <li>Non-essential columns hidden via column config</li> </ul> <p><strong>Mobile (&#x3C;768px)</strong>:</p> <ul>   <li>Card-based layout replacing table rows</li>   <li>Each card displays key data fields vertically</li>   <li>Selection checkboxes maintained in card headers</li>   <li>Sorting and filtering preserved via dropdown controls</li>   <li>Pagination simplified to Previous/Next only</li> </ul> <h2>Loading, Empty, and Error States</h2> <p>The table handles data loading states gracefully:</p> <p><strong>Loading State</strong>:</p> <ul>   <li>Skeleton rows with animated placeholders</li>   <li>Maintains table structure for smooth transition</li>   <li>Number of skeleton rows matches page size</li>   <li>Loading message for screen readers</li> </ul> <p><strong>Empty State</strong>:</p> <ul>   <li>Centered message with optional icon</li>   <li>Helpful text (\"No data available\" or \"No results match your filters\")</li>   <li>Optional call-to-action button</li>   <li>Maintains table header for context</li> </ul> <p><strong>Error State</strong>:</p> <ul>   <li>Error message with icon</li>   <li>Retry button to attempt data reload</li>   <li>Error details (optional, for debugging)</li>   <li>Maintains table structure</li> </ul> <h2>Accessibility</h2> <p>The data table is fully accessible with comprehensive keyboard support:</p> <p><strong>Keyboard Navigation</strong>:</p> <ul>   <li><strong>Tab</strong> - Navigate between interactive elements (headers, checkboxes, pagination)</li>   <li><strong>Space</strong> - Toggle row selection when row is focused</li>   <li><strong>Enter</strong> - Activate sort on column header, activate buttons</li>   <li><strong>Arrow Keys</strong> - Navigate between cells (optional advanced navigation)</li>   <li><strong>Shift+Click</strong> - Range selection</li> </ul> <p><strong>ARIA Attributes</strong>:</p> <ul>   <li><code>role=\"table\"</code> on table container (or semantic <code>&#x3C;table></code>)</li>   <li><code>role=\"columnheader\"</code> with <code>aria-sort=\"ascending|descending|none\"</code></li>   <li><code>aria-label</code> on interactive elements (sort buttons, checkboxes)</li>   <li><code>aria-selected=\"true\"</code> on selected rows</li>   <li><code>aria-live=\"polite\"</code> region for pagination updates</li>   <li><code>aria-busy=\"true\"</code> during loading state</li> </ul> <p><strong>Screen Reader Support</strong>:</p> <ul>   <li>Announces sort state changes</li>   <li>Announces pagination info updates</li>   <li>Announces selection count changes</li>   <li>Provides context for each table cell</li> </ul> <p><strong>Focus Management</strong>:</p> <ul>   <li>Clear focus indicators on all interactive elements</li>   <li>Focus preserved on current element during data updates</li>   <li>Focus moves logically through table structure</li> </ul> <h2>Framework Patterns</h2> <p>The data table can be implemented across different frameworks using appropriate patterns:</p> <p><strong>React</strong>: Use <code>useState</code> for sort/page/selection state, <code>useMemo</code> for filtered/sorted data, custom hooks for table logic (<code>useTableSort</code>, <code>useTablePagination</code>, <code>useTableSelection</code>)</p> <p><strong>Vue</strong>: Use <code>ref()</code> or <code>reactive()</code> for state, <code>computed()</code> for derived data (sorted/paginated), composables for reusable logic</p> <p><strong>Angular</strong>: Component properties for state, getter methods or pipes for transformations, RxJS for async data loading</p> <p><strong>Svelte</strong>: Reactive statements for derived data, stores for shared table state, actions for enhanced DOM interactions</p> <h2>Testing Checklist</h2> <ul>   <li>[ ] Columns render with correct headers and data</li>   <li>[ ] Sorting works for all sortable columns (ascending, descending, clear)</li>   <li>[ ] Only one column sorted at a time</li>   <li>[ ] Pagination controls navigate correctly</li>   <li>[ ] Page size changes update results correctly</li>   <li>[ ] Row selection works (single, multiple, all)</li>   <li>[ ] Shift+click range selection works</li>   <li>[ ] Header checkbox has correct state (checked/unchecked/indeterminate)</li>   <li>[ ] Selected row count displays correctly</li>   <li>[ ] Bulk actions appear when rows selected</li>   <li>[ ] Clear selection works</li>   <li>[ ] Loading state displays skeleton rows</li>   <li>[ ] Empty state displays when no data</li>   <li>[ ] Error state displays with retry button</li>   <li>[ ] Mobile card layout renders correctly</li>   <li>[ ] Responsive breakpoints work correctly</li>   <li>[ ] Keyboard navigation works (Tab, Space, Enter)</li>   <li>[ ] Screen reader announces state changes</li>   <li>[ ] Focus indicators visible on all interactive elements</li>   <li>[ ] ARIA attributes present and correct</li>   <li>[ ] Color contrast meets WCAG AA (4.5:1)</li>   <li>[ ] Sort animations smooth (if implemented)</li>   <li>[ ] No layout shift during data updates</li>   <li>[ ] Table accessible via screen reader</li>   <li>[ ] All interactive elements keyboard accessible</li> </ul>","excerpt":"A comprehensive data table component with sorting, pagination, filtering, row selection, and responsive behavior. Includes loading, empty, and error states with full keyboard navigation support.","publicationDate":"2026-01-18","tags":["components","data-table","table","sortable","pagination","filtering","selection","responsive","a11y","wcag","admin","dashboard"],"coverImage":""}]