[{"fileName":"layouts/dashboard.html","title":"Dashboard Layout with Collapsible Sidebar","body":"<h1>Dashboard Layout</h1> <p>A responsive admin dashboard layout with collapsible sidebar navigation and a fixed header. Perfect for admin panels, SaaS applications, and data-driven interfaces.</p> <h2>Structure Specification</h2> <h3>Layout Hierarchy</h3> <p>The layout consists of an AppContainer that holds a Sidebar component and a Main Content Wrapper. The Sidebar contains a Logo/Brand Section, Navigation Menu with multiple Nav Items (including active state support), and a Collapse Toggle Button. The Main Content Wrapper includes a fixed Header (with Menu Toggle Button for mobile, Title/Breadcrumbs, and User Actions including Notifications Button and User Menu Dropdown) and a scrollable Content Area for page content.</p> <h2>Detailed Component Specifications</h2> <h3>1. Sidebar Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Desktop (expanded): 240-280px width</li>   <li>Desktop (collapsed): 64-80px width</li>   <li>Mobile: Full screen overlay or hidden</li> </ul> <p><strong>States:</strong></p> <ul>   <li><code>expanded</code> (default on desktop)</li>   <li><code>collapsed</code> (icon-only mode)</li>   <li><code>hidden</code> (mobile default)</li>   <li><code>overlay</code> (mobile when open)</li> </ul> <p><strong>Elements:</strong></p> <h4>Logo/Brand Section</h4> <ul>   <li>Height: 64px (matches header height)</li>   <li>Contains: Logo image/text + app name</li>   <li>Collapsed state: Shows only logo icon</li>   <li>Alignment: Center or left-aligned with padding</li> </ul> <h4>Navigation Items</h4> <ul>   <li>Height: 44-48px each</li>   <li>Padding: 12-16px horizontal, 12px vertical</li>   <li>Icon: 20-24px, positioned left</li>   <li>Text: 14-16px font size</li>   <li>Gap between icon and text: 12-16px</li>   <li>Active state indicator: Background color or left border (3-4px)</li>   <li>Hover state: Subtle background color change</li>   <li>Collapsed state: Center icon only, show tooltip on hover     <ul>       <li>Tooltip trigger: hover</li>       <li>Tooltip position: right</li>       <li>Tooltip delay: 200ms</li>       <li>Fallback: Use <code>aria-label</code> or <code>sr-only</code> text if tooltip library not available</li>     </ul>   </li>   <li>Scrollbar: Custom thin scrollbar (6px width) when many items     <ul>       <li>Dark sidebar: <code>rgba(255, 255, 255, 0.2)</code></li>       <li>Light sidebar: <code>rgba(0, 0, 0, 0.2)</code></li>     </ul>   </li> </ul> <h4>Collapse Toggle</h4> <ul>   <li>Position: Bottom of sidebar or after nav items</li>   <li>Button: Icon button, 40px x 40px</li>   <li>Icon: Chevron or arrows indicating direction</li>   <li>Behavior: Rotates/changes on state</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Persists state in localStorage/session</li>   <li>Smooth transition animation (200-300ms ease-in-out)</li>   <li>On mobile: Overlay with backdrop, dismissible     <ul>       <li>Backdrop click closes sidebar (prevent event bubbling)</li>       <li>Body scroll is locked when sidebar is open (<code>document.body.style.overflow = 'hidden'</code>)</li>       <li>Focus is trapped within sidebar when open</li>       <li>Focus is restored to menu toggle when sidebar closes</li>     </ul>   </li>   <li>Keyboard accessible (Tab navigation, Enter/Space to activate)</li>   <li>Custom scrollbar styling for navigation menu (6px width, subtle color)</li> </ul> <h3>2. Header Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Height: 64px (fixed)</li>   <li>Width: 100% of content area</li>   <li>Width calculation: <code>calc(100% - sidebar-width)</code> or use CSS Grid/Flexbox approach</li>   <li>Position: Fixed or sticky</li> </ul> <p><strong>Layout:</strong></p> <p>The header contains a Menu Toggle button (visible on mobile only, left-aligned), Title/Breadcrumbs section (left-aligned), and User Actions including Notifications button and User Menu (right-aligned).</p> <p><strong>Elements:</strong></p> <h4>Menu Toggle Button (Mobile Only)</h4> <ul>   <li>Size: 40px x 40px</li>   <li>Icon: Hamburger (â˜°) or close (Ã—) icon</li>   <li>Visibility: Hidden on desktop (â‰¥1024px)</li>   <li>Position: Left-most</li> </ul> <h4>Title/Breadcrumbs Section</h4> <ul>   <li>Font size: 20-24px (title) or 14-16px (breadcrumbs)</li>   <li>Color: Primary text color</li>   <li>Truncate with ellipsis if too long</li> </ul> <h4>Notifications Button</h4> <ul>   <li>Size: 40px x 40px</li>   <li>Icon: Bell</li>   <li>Badge: Red dot or count for unread</li>   <li>Opens dropdown/modal on click</li> </ul> <h4>User Menu</h4> <ul>   <li>Avatar: 36px circle</li>   <li>Username: 14px, optional (can hide on small screens)</li>   <li>Dropdown indicator: Small chevron</li>   <li>Dropdown opens below with:     <ul>       <li>Profile link</li>       <li>Settings link</li>       <li>Logout button</li>     </ul>   </li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Shadow or border-bottom for depth</li>   <li>Remains fixed at top during scroll</li>   <li>Dropdowns close on outside click or escape key</li>   <li>Accessible via keyboard</li> </ul> <h3>3. Main Content Area</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Padding: 24-32px on all sides</li>   <li>Max-width: Optional (e.g., 1400px for better readability)</li>   <li>Min-height: Fill available viewport</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Scrollable (overflow-y: auto)</li>   <li>Margin-top: Header height (64px)</li>   <li>Margin-bottom: Footer height (60px)</li>   <li>Margin-left: Sidebar width (dynamic)</li>   <li>Smooth transition when sidebar toggles</li>   <li>Responsive padding (reduces on mobile to 16px)</li> </ul> <h3>4. Footer Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Height: 60px (fixed)</li>   <li>Width: 100% of content area</li>   <li>Width calculation: <code>calc(100% - sidebar-width)</code> or use CSS Grid/Flexbox approach</li>   <li>Position: Fixed at bottom</li> </ul> <p><strong>Layout:</strong></p> <p>The footer contains a Copyright section on the left and Footer Navigation Links on the right.</p> <p><strong>Elements:</strong></p> <ul>   <li>Copyright: 14px font size</li>   <li>Footer Navigation: Links (Privacy, Terms, Support), 14px, 24px gap between links</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Fixed at bottom, always visible even with minimal content</li>   <li>Adjusts left position based on sidebar state (280px expanded, 80px collapsed on desktop)</li>   <li>Full width (left: 0) on mobile/tablet</li>   <li>Shadow or border-top for depth</li>   <li>Smooth 300ms transition when sidebar toggles</li> </ul> <h2>Responsive Breakpoints</h2> <h3>Desktop (â‰¥1024px)</h3> <ul>   <li>Sidebar: Visible, expanded by default</li>   <li>Header: Full width minus sidebar, left: 280px (80px when collapsed)</li>   <li>Footer: Full width minus sidebar, left: 280px (80px when collapsed)</li>   <li>Content: Fills remaining space between header and footer</li>   <li>Menu toggle: Hidden</li> </ul> <h3>Tablet (768px - 1023px)</h3> <ul>   <li>Sidebar: Collapsed by default or overlay mode</li>   <li>Header: Full width (left: 0)</li>   <li>Footer: Full width (left: 0)</li>   <li>Content: Full width</li>   <li>Menu toggle: Visible</li> </ul> <h3>Mobile (&#x3C;767px)</h3> <ul>   <li>Sidebar: Hidden by default, fullscreen overlay when open</li>   <li>Header: Full width, compact mode (left: 0)</li>   <li>Footer: Full width, compact mode (left: 0)</li>   <li>Content: Full width, reduced padding (16px)</li>   <li>Menu toggle: Visible</li>   <li>User menu: Simplified (avatar only)</li> </ul> <h3>Window Resize Handling</h3> <ul>   <li><strong>Debounce</strong>: 300ms recommended to avoid excessive re-evaluations</li>   <li><strong>Behavior</strong>: Re-evaluate breakpoint on resize, close mobile sidebar if switching to desktop</li>   <li><strong>Implementation</strong>: Add window resize listener with debounce, update breakpoint state, handle sidebar state transitions</li>   <li><strong>Edge case</strong>: Complete current animation before re-evaluating breakpoint on resize</li> </ul> <h2>Interaction Patterns</h2> <h3>Sidebar Toggle</h3> <ol>   <li>User clicks toggle button or menu icon</li>   <li>Sidebar transitions to collapsed/expanded state</li>   <li>Content area adjusts width with smooth animation</li>   <li>State persists across page loads</li>   <li>On mobile: Backdrop appears/disappears</li> </ol> <h3>Active Navigation</h3> <ol>   <li>Current page is highlighted in sidebar</li>   <li>Visual indicator: Background color, border, or icon color</li>   <li>Persist active state on page reload</li>   <li>Support for nested navigation (expandable sections)</li> </ol> <h3>User Dropdown</h3> <ol>   <li>Click avatar/username to open</li>   <li>Dropdown appears below with fade/slide animation</li>   <li>Click outside or press Escape to close</li>   <li>Click item to navigate</li>   <li>Maintain dropdown state during navigation if SPA</li> </ol> <h2>Accessibility Requirements</h2> <h3>WCAG 2.1 Compliance (Level AA Target)</h3> <p>This dashboard layout should meet WCAG 2.1 Level AA standards. Key requirements:</p> <ul>   <li><strong>1.1.1 Non-text Content</strong>: All images have descriptive alt text</li>   <li><strong>1.3.1 Info and Relationships</strong>: Semantic HTML structure with proper roles</li>   <li><strong>1.4.3 Contrast Minimum</strong>: 4.5:1 for normal text, 3:1 for large text (verify with contrast checker)</li>   <li><strong>2.1.1 Keyboard</strong>: All interactive elements keyboard accessible</li>   <li><strong>2.1.2 No Keyboard Trap</strong>: Focus trapping only in mobile sidebar overlay</li>   <li><strong>2.4.1 Bypass Blocks</strong>: <strong>Skip link to main content (REQUIRED)</strong></li>   <li><strong>2.4.2 Page Titled</strong>: Descriptive page title</li>   <li><strong>2.4.3 Focus Order</strong>: Logical tab order throughout</li>   <li><strong>2.4.4 Link Purpose</strong>: Clear link labels, icons have text or aria-label</li>   <li><strong>2.4.7 Focus Visible</strong>: Clear focus indicators on all interactive elements</li>   <li><strong>4.1.2 Name, Role, Value</strong>: All elements have accessible names and roles</li>   <li><strong>4.1.3 Status Messages</strong>: Use aria-live for dynamic content updates (recommended)</li> </ul> <h3>Keyboard Navigation</h3> <p><strong>Tab Order:</strong></p> <ul>   <li>Skip link (if visible) â†’ Header â†’ Sidebar â†’ Content â†’ Footer</li> </ul> <p><strong>Implementation:</strong></p> <ul>   <li>Sidebar items: Tab to focus, Enter/Space to activate</li>   <li>Escape key: Close dropdowns and mobile sidebar, restore focus to trigger</li>   <li><strong>Skip Link (REQUIRED)</strong>: First focusable element, hidden by default, visible on focus     <pre><code class=\"language-html\">&#x3C;a href=\"#contentArea\" class=\"skip-link\">Skip to main content&#x3C;/a> </code></pre>     <pre><code class=\"language-css\">.skip-link {   position: absolute;   top: -40px;   left: 0;   background: var(--primary-color);   color: white;   padding: 12px 16px;   z-index: 1000; } .skip-link:focus {   top: 0; } </code></pre>   </li> </ul> <p><strong>Focus Management:</strong></p> <ul>   <li><strong>Focus trap</strong>: Trap focus within sidebar when open on mobile (use focus-trap library or manual implementation)</li>   <li><strong>Focus restoration</strong>: Restore focus to menu toggle button when sidebar closes</li>   <li><strong>Focus visible</strong>: Clear focus indicators (2px solid outline, 2px offset) on all interactive elements</li>   <li><strong>Focus order</strong>: Logical reading order maintained throughout</li> </ul> <h3>ARIA Attributes</h3> <p><strong>Required ARIA Attributes:</strong></p> <ol>   <li>     <p><strong>Sidebar:</strong></p>     <pre><code class=\"language-html\">&#x3C;aside role=\"navigation\" aria-label=\"Main navigation\" aria-hidden=\"false\"> </code></pre>   </li>   <li>     <p><strong>Menu Toggle:</strong></p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Toggle menu\" aria-expanded=\"false\" aria-controls=\"sidebar\"> </code></pre>   </li>   <li>     <p><strong>Sidebar Toggle:</strong></p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Toggle sidebar\" aria-expanded=\"true\"> </code></pre>   </li>   <li>     <p><strong>Active Navigation Item:</strong></p>     <pre><code class=\"language-html\">&#x3C;a href=\"/dashboard\" aria-current=\"page\">Dashboard&#x3C;/a> </code></pre>   </li>   <li>     <p><strong>Notifications Button:</strong></p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Notifications: 3 unread\" aria-haspopup=\"true\" aria-expanded=\"false\">   &#x3C;span class=\"notifications-icon\" aria-hidden=\"true\">ðŸ””&#x3C;/span>   &#x3C;span class=\"notifications-badge\" aria-label=\"3 unread notifications\">3&#x3C;/span> &#x3C;/button> </code></pre>   </li>   <li>     <p><strong>User Menu:</strong></p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"User menu\" aria-haspopup=\"true\" aria-expanded=\"false\" aria-controls=\"userDropdown\"> &#x3C;div class=\"user-dropdown\" id=\"userDropdown\" role=\"menu\">   &#x3C;a href=\"#\" class=\"dropdown-item\" role=\"menuitem\">Profile&#x3C;/a>   &#x3C;a href=\"#\" class=\"dropdown-item\" role=\"menuitem\">Settings&#x3C;/a>   &#x3C;a href=\"#\" class=\"dropdown-item\" role=\"menuitem\">Logout&#x3C;/a> &#x3C;/div> </code></pre>   </li>   <li>     <p><strong>Backdrop:</strong></p>     <pre><code class=\"language-html\">&#x3C;div class=\"backdrop\" aria-hidden=\"true\" role=\"presentation\">&#x3C;/div> </code></pre>   </li>   <li>     <p><strong>Main Content:</strong></p>     <pre><code class=\"language-html\">&#x3C;main id=\"contentArea\" role=\"main\"> </code></pre>   </li> </ol> <p><strong>Dynamic ARIA Updates:</strong></p> <ul>   <li>Update <code>aria-expanded</code> when dropdowns/sidebar open/close</li>   <li>Update <code>aria-hidden</code> for backdrop and mobile sidebar</li>   <li>Update <code>aria-current=\"page\"</code> on active navigation item</li>   <li>Update <code>aria-label</code> on notifications button to include count</li> </ul> <h3>Screen Reader Support</h3> <p><strong>Announcements:</strong></p> <ul>   <li>Announce sidebar state changes (use aria-live region or visually hidden text)</li>   <li>Example: <code>&#x3C;span role=\"status\" class=\"sr-only\">Sidebar opened&#x3C;/span></code></li> </ul> <p><strong>Labels:</strong></p> <ul>   <li>All icon-only buttons must have descriptive <code>aria-label</code></li>   <li>In collapsed state, nav items should have <code>aria-label</code> or sr-only text</li>   <li>Example: <code>&#x3C;span class=\"sr-only\">Dashboard&#x3C;/span></code> or <code>aria-label=\"Dashboard\"</code></li> </ul> <p><strong>Screen Reader Only Text (sr-only class):</strong></p> <pre><code class=\"language-css\">.sr-only {   position: absolute;   width: 1px;   height: 1px;   padding: 0;   margin: -1px;   overflow: hidden;   clip: rect(0, 0, 0, 0);   white-space: nowrap;   border-width: 0; } </code></pre> <p><strong>Badges:</strong></p> <ul>   <li>Notification badge count must be announced</li>   <li>Include count in button <code>aria-label</code>: <code>\"Notifications: 3 unread\"</code></li>   <li>Alternative: Use <code>aria-describedby</code> pointing to badge element</li> </ul> <p><strong>Landmarks:</strong></p> <ul>   <li>Use semantic HTML: <code>&#x3C;nav></code>, <code>&#x3C;main></code>, <code>&#x3C;header></code>, <code>&#x3C;footer></code></li>   <li>Or use ARIA roles: <code>role=\"navigation\"</code>, <code>role=\"main\"</code>, <code>role=\"banner\"</code>, <code>role=\"contentinfo\"</code></li> </ul> <h3>Color Contrast</h3> <p><strong>Requirements:</strong></p> <ul>   <li><strong>WCAG AA</strong>: 4.5:1 for normal text, 3:1 for large text (18pt+ or 14pt+ bold)</li>   <li><strong>WCAG AAA (Recommended)</strong>: 7:1 for important text</li> </ul> <p><strong>Verification:</strong></p> <ul>   <li>Use WebAIM Contrast Checker or similar tool</li>   <li>Test all text/background combinations:     <ul>       <li>Sidebar text on background</li>       <li>Header text on background</li>       <li>Footer text on background</li>       <li>Content text on background</li>       <li>Link text on background</li>       <li>Button text on background</li>       <li>Active nav item text</li>       <li>Focus indicators</li>     </ul>   </li> </ul> <h3>Focus Visible Styles</h3> <p><strong>Implementation:</strong></p> <pre><code class=\"language-css\">button:focus-visible, a:focus-visible, [tabindex]:focus-visible {   outline: 2px solid var(--primary-color);   outline-offset: 2px; }  /* Fallback for older browsers */ button:focus, a:focus, [tabindex]:focus {   outline: 2px solid var(--primary-color);   outline-offset: 2px; } </code></pre> <h3>Accessibility Implementation Checklist</h3> <p>When implementing this dashboard, ensure:</p> <ul>   <li>[ ] Skip link added as first focusable element</li>   <li>[ ] All buttons have <code>aria-label</code> or visible text</li>   <li>[ ] All icons have <code>aria-label</code> or sr-only text</li>   <li>[ ] Navigation items have <code>aria-current=\"page\"</code> when active</li>   <li>[ ] Dropdowns have <code>role=\"menu\"</code> and items have <code>role=\"menuitem\"</code></li>   <li>[ ] All interactive elements have <code>aria-expanded</code> when applicable</li>   <li>[ ] Notifications badge count included in button <code>aria-label</code></li>   <li>[ ] Focus visible on all interactive elements</li>   <li>[ ] Focus trapped in mobile sidebar</li>   <li>[ ] Focus restored when sidebar closes</li>   <li>[ ] <code>aria-hidden</code> managed correctly for backdrop and mobile sidebar</li>   <li>[ ] <code>aria-live</code> regions for dynamic content (optional but recommended)</li>   <li>[ ] Color contrast verified with contrast checker tool</li>   <li>[ ] Keyboard navigation works throughout</li>   <li>[ ] Screen reader tested with NVDA, VoiceOver, or JAWS</li> </ul> <h2>Design System Specifications</h2> <p><strong>Important</strong>: The design specifications below are tool-agnostic and should be implemented using your project's chosen styling approach (Tailwind, CSS Modules, styled-components, Chakra UI, Material-UI, SCSS, etc.). The styling examples in the \"Code Implementation Patterns\" section show how to apply these design values, but these specifications are the source of truth for the design.</p> <h3>Color Guidelines</h3> <h4>Sidebar</h4> <ul>   <li><strong>Background (Light)</strong>: Dark neutral (e.g., #1f2937, #111827) or white (#ffffff) with subtle border</li>   <li><strong>Background (Dark)</strong>: #1a1a1a or #0f172a</li>   <li><strong>Text (Light)</strong>: High contrast white (#ffffff) or light gray (#f3f4f6) on dark background</li>   <li><strong>Text (Dark)</strong>: #e0e0e0 or #f1f5f9</li>   <li><strong>Active Item</strong>: Primary color at 10-20% opacity overlay, or solid primary color. Text in primary color or white if using solid background</li>   <li><strong>Hover</strong>: Subtle background change (5-10% opacity overlay of primary or neutral) with smooth 150ms transition</li>   <li><strong>Icons</strong>: Match text color by default, primary color or white when active</li>   <li><strong>Contrast</strong>: Minimum 4.5:1 contrast ratio (WCAG AA)</li> </ul> <h4>Header</h4> <ul>   <li><strong>Background (Light)</strong>: White (#ffffff) or very light gray (#f9fafb)</li>   <li><strong>Background (Dark)</strong>: #1a1a1a or #0f172a</li>   <li><strong>Border/Shadow</strong>: 1px solid border-bottom or subtle box-shadow (rgba(0, 0, 0, 0.05) to rgba(0, 0, 0, 0.1) for light, rgba(255, 255, 255, 0.1) for dark)</li>   <li><strong>Text (Light)</strong>: Dark gray (#111827, #1f2937) or black (#000000)</li>   <li><strong>Text (Dark)</strong>: #e0e0e0 or #f1f5f9</li>   <li><strong>Icons</strong>: Medium gray (#6b7280, #9ca3af) by default, darker gray (#374151) or primary color on hover</li> </ul> <h4>Footer</h4> <ul>   <li><strong>Background</strong>: Match header (white or light gray for light mode, #1a1a1a for dark mode)</li>   <li><strong>Border</strong>: 1px solid border-top or subtle box-shadow on top (same colors as header)</li>   <li><strong>Text</strong>: Muted dark gray (rgba(0, 0, 0, 0.6) or #6b7280) for light, muted light gray (rgba(255, 255, 255, 0.6) or #9ca3af) for dark</li>   <li><strong>Links</strong>: Match footer text color by default, primary color or darker/lighter variant on hover</li> </ul> <h4>Content Area</h4> <ul>   <li><strong>Background (Light)</strong>: Light gray (#f5f5f5, #f9fafb) or white (#ffffff)</li>   <li><strong>Background (Dark)</strong>: #121212 or #0f172a</li>   <li><strong>Text (Light)</strong>: Dark gray (#111827, #1f2937, #1a1a1a)</li>   <li><strong>Text (Dark)</strong>: #e0e0e0 or #f1f5f9</li>   <li><strong>Contrast</strong>: Ensure 4.5:1 contrast ratio minimum (WCAG AA), 7:1 recommended for important text (WCAG AAA)</li> </ul> <h4>Mobile Backdrop</h4> <ul>   <li><strong>Background</strong>: rgba(0, 0, 0, 0.5) to rgba(0, 0, 0, 0.75)</li>   <li><strong>Optional</strong>: backdrop-filter: blur(4px) for modern browsers</li> </ul> <h3>Typography</h3> <ul>   <li><strong>Font Family</strong>: Use project's font stack (typically: system-ui, -apple-system, sans-serif or custom font)</li>   <li><strong>Sidebar Nav Items</strong>: 14-16px, medium weight (500-600)</li>   <li><strong>Sidebar Logo</strong>: 18-24px, bold (700)</li>   <li><strong>Header Title</strong>: 20-24px, semibold (600) or bold (700)</li>   <li><strong>Header Breadcrumbs</strong>: 14-16px, regular (400) or medium (500)</li>   <li><strong>Footer Text</strong>: 14px, regular (400)</li>   <li><strong>Content Body</strong>: 16px, regular (400)</li>   <li><strong>Content Headings</strong>: Use semantic heading sizes (h1: 32-36px, h2: 24-28px, etc.)</li>   <li><strong>Line Height</strong>: 1.25 for headings, 1.5 for body text, 1.75 for long-form content</li> </ul> <h3>Spacing System</h3> <p>Use consistent spacing scale (4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px) or your project's spacing system:</p> <ul>   <li><strong>Sidebar</strong>: 16px horizontal padding, 12px vertical padding for nav items, 12-16px gap between icon and text, 24-32px gap between sections</li>   <li><strong>Header</strong>: 16-24px horizontal padding, 16-24px gap between elements</li>   <li><strong>Footer</strong>: 16-24px horizontal padding, 24px gap between links</li>   <li><strong>Content</strong>: 24-32px padding on all sides (desktop), 16px (mobile), optional max-width 1400px for better readability</li> </ul> <h3>Shadows &#x26; Elevation</h3> <p>Use subtle shadows for depth and separation:</p> <ul>   <li><strong>Header Shadow (Light)</strong>: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)</li>   <li><strong>Header Shadow (Dark)</strong>: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2)</li>   <li><strong>Footer Shadow (Light)</strong>: 0 -1px 3px rgba(0, 0, 0, 0.1), 0 -1px 2px rgba(0, 0, 0, 0.06)</li>   <li><strong>Footer Shadow (Dark)</strong>: 0 -1px 3px rgba(0, 0, 0, 0.3), 0 -1px 2px rgba(0, 0, 0, 0.2)</li>   <li><strong>Dropdowns (Light)</strong>: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)</li>   <li><strong>Dropdowns (Dark)</strong>: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2)</li> </ul> <h3>Border Radius</h3> <ul>   <li><strong>Buttons</strong>: 6-8px</li>   <li><strong>Dropdowns</strong>: 8-12px</li>   <li><strong>Avatars</strong>: 50% (circle)</li>   <li><strong>Badges</strong>: 12-16px (pill shape) or 4-6px (rounded square)</li>   <li><strong>Cards</strong>: 8-12px (if used in content)</li> </ul> <h3>Visual Hierarchy Principles</h3> <ol>   <li>Sidebar should be visually distinct from content (different background or border)</li>   <li>Header and footer should have subtle elevation (shadow or border) to separate from content</li>   <li>Active navigation items should be clearly highlighted</li>   <li>Hover states should provide clear feedback</li>   <li>Icons and text should maintain proper visual balance</li>   <li>Spacing should create clear grouping and hierarchy</li>   <li>Interactive elements should have clear visual feedback on hover/focus states</li> </ol> <h2>State Management Considerations</h2> <h3>For AI Agents to Implement</h3> <p><strong>State to Track:</strong></p> <ol>   <li><code>sidebarOpen: boolean</code> - Whether sidebar is visible (mobile)</li>   <li><code>sidebarCollapsed: boolean</code> - Whether sidebar is in icon-only mode (desktop)</li>   <li><code>activeNavItem: string</code> - Current active navigation item ID     <ul>       <li><strong>Determination</strong>: Sync with router current route or URL hash, update on navigation</li>     </ul>   </li>   <li><code>userMenuOpen: boolean</code> - User dropdown state</li>   <li><code>notificationsOpen: boolean</code> - Notifications dropdown state</li>   <li><code>notifications: array</code> - List of notifications with unread count</li> </ol> <p><strong>State Persistence:</strong></p> <ul>   <li><code>sidebarCollapsed</code> â†’ localStorage</li>   <li><code>activeNavItem</code> â†’ Sync with router/URL</li>   <li>Other dropdown states â†’ Component state only (don't persist)</li> </ul> <h3>SSR/Hydration Considerations</h3> <ul>   <li><strong>localStorage access</strong>: Only access localStorage in <code>onMounted</code>/<code>useEffect</code>, check for <code>window</code> object existence</li>   <li><strong>Default state</strong>: Use <code>false</code> as default for <code>sidebarCollapsed</code>, update after mount to prevent hydration mismatches</li>   <li><strong>Implementation</strong>: Check <code>typeof window !== 'undefined'</code> before accessing localStorage, initialize state after component mount</li> </ul> <h2>Code Implementation Patterns</h2> <h3>React Example Pattern</h3> <pre><code class=\"language-jsx\">// Suggested component structure &#x3C;DashboardLayout>   &#x3C;Sidebar      collapsed={collapsed}     onToggle={handleToggle}     activeItem={activeRoute}     navItems={navigationConfig}   />   &#x3C;MainContent>     &#x3C;Header        onMenuToggle={handleMobileMenuToggle}       user={currentUser}       notifications={notifications}     />     &#x3C;ContentArea>       {children}     &#x3C;/ContentArea>   &#x3C;/MainContent> &#x3C;/DashboardLayout> </code></pre> <h3>Angular Example Pattern</h3> <pre><code class=\"language-html\">&#x3C;!-- Suggested template structure --> &#x3C;app-dashboard-layout>   &#x3C;app-sidebar     [collapsed]=\"isCollapsed\"     [activeItem]=\"activeRoute\"     (toggle)=\"onSidebarToggle()\"   />   &#x3C;div class=\"main-content\">     &#x3C;app-header       [user]=\"currentUser\"       (menuToggle)=\"onMobileMenuToggle()\"     />     &#x3C;main class=\"content-area\">       &#x3C;router-outlet>&#x3C;/router-outlet>     &#x3C;/main>   &#x3C;/div> &#x3C;/app-dashboard-layout> </code></pre> <h3>Vue Example Pattern</h3> <pre><code class=\"language-vue\">&#x3C;!-- Suggested component structure --> &#x3C;template>   &#x3C;DashboardLayout>     &#x3C;Sidebar       :collapsed=\"isCollapsed\"       :active-item=\"activeRoute\"       @toggle=\"handleToggle\"     />     &#x3C;MainContent>       &#x3C;HeaderBar         :user=\"currentUser\"         @menu-toggle=\"handleMobileMenuToggle\"       />       &#x3C;ContentArea>         &#x3C;slot />       &#x3C;/ContentArea>     &#x3C;/MainContent>   &#x3C;/DashboardLayout> &#x3C;/template> </code></pre> <h3>CSS/Styling Approaches</h3> <p><strong>Note</strong>: The examples below show how to implement the design specifications using different styling tools. Always refer to the \"Design System Specifications\" section above for the authoritative design values, then adapt them to your project's styling approach.</p> <h4>Tailwind CSS Pattern</h4> <pre><code class=\"language-html\">&#x3C;!-- Sidebar --> &#x3C;aside class=\"fixed left-0 top-0 h-full w-[280px] bg-gray-900 text-white transition-all duration-300 ease-in-out md:translate-x-0\"         :class=\"{'w-20': collapsed, '-translate-x-full': !mobileOpen}\">   &#x3C;!-- Content --> &#x3C;/aside>  &#x3C;!-- Header --> &#x3C;header class=\"fixed top-0 h-16 bg-white shadow-sm transition-all duration-300\"         :class=\"{'left-[280px]': !collapsed, 'left-20': collapsed}\">   &#x3C;!-- Content --> &#x3C;/header>  &#x3C;!-- Footer --> &#x3C;footer class=\"fixed bottom-0 h-[60px] bg-white shadow-sm transition-all duration-300\"         :class=\"{'left-[280px]': !collapsed, 'left-20': collapsed}\">   &#x3C;!-- Content --> &#x3C;/footer>  &#x3C;!-- Main Content --> &#x3C;main class=\"transition-all duration-300 pt-16 pb-[60px]\"       :class=\"{'ml-[280px]': !collapsed, 'ml-20': collapsed}\">   &#x3C;!-- Content --> &#x3C;/main> </code></pre> <p><strong>Note</strong>: Use arbitrary values like <code>w-[280px]</code> instead of <code>w-64</code> (256px) to match exact design specifications. Use <code>pb-[60px]</code> instead of <code>pb-15</code> (which doesn't exist in Tailwind). Map design system color values to Tailwind color palette or use arbitrary values like <code>bg-[#1f2937]</code>.</p> <h4>CSS Modules Pattern</h4> <pre><code class=\"language-css\">/* Apply design system values directly */ .sidebar {   position: fixed;   left: 0;   top: 0;   height: 100vh;   width: 280px;   background: #1f2937; /* From design system */   color: #ffffff; /* From design system */   transition: width 300ms cubic-bezier(0.4, 0, 0.2, 1);   box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05); /* From design system */ }  .sidebar.collapsed {   width: 80px; }  .header {   position: fixed;   top: 0;   left: 280px;   right: 0;   height: 64px;   background: #ffffff; /* From design system */   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06); /* From design system */   transition: left 300ms cubic-bezier(0.4, 0, 0.2, 1); }  .header.sidebarCollapsed {   left: 80px; }  .content {   margin-top: 64px;   margin-bottom: 60px;   margin-left: 280px;   padding: 24px; /* From design system spacing */   background: #f5f5f5; /* From design system */   transition: margin-left 300ms cubic-bezier(0.4, 0, 0.2, 1); }  .content.sidebarCollapsed {   margin-left: 80px; } </code></pre> <h4>Material-UI/Chakra Pattern</h4> <ul>   <li>Use Drawer component for sidebar (persistent variant on desktop, temporary on mobile)</li>   <li>Use AppBar for header with elevation</li>   <li>Use Box/Container for main content with appropriate margins</li>   <li><strong>Extend theme</strong> with design system color values, spacing scale, and typography settings</li>   <li>Use theme.transitions for consistent animations matching design system specifications</li>   <li>Leverage theme breakpoints for responsive behavior</li>   <li><strong>Customize colors, spacing, and typography</strong> to match design system specifications</li> </ul> <h2>Animation Specifications</h2> <h3>Sidebar Toggle Animation</h3> <ul>   <li>Duration: 300ms</li>   <li>Easing: cubic-bezier(0.4, 0, 0.2, 1)</li>   <li>Properties:     <ul>       <li>Sidebar: <code>width</code>, <code>transform</code></li>       <li>Header: <code>left</code></li>       <li>Footer: <code>left</code></li>       <li>Content: <code>margin-left</code></li>     </ul>   </li>   <li>Performance:     <ul>       <li>Prefer <code>transform</code> over <code>width</code>/<code>left</code> for better performance when possible</li>       <li>Set <code>will-change: transform</code> on animating elements</li>       <li>Use <code>transform3d(0,0,0)</code> to trigger GPU acceleration if needed</li>     </ul>   </li> </ul> <h3>Mobile Overlay</h3> <ul>   <li>Backdrop fade: 200ms</li>   <li>Sidebar slide: 300ms from left</li>   <li>Stagger: Backdrop starts first, sidebar follows</li> </ul> <h3>Dropdown Animations</h3> <ul>   <li>Duration: 150-200ms</li>   <li>Easing: ease-out</li>   <li>Transform: translateY(-8px) â†’ translateY(0)</li>   <li>Opacity: 0 â†’ 1</li> </ul> <h2>Z-Index Layer System</h2> <p>To ensure proper layering of elements:</p> <ul>   <li><strong>Backdrop</strong>: 40</li>   <li><strong>Sidebar</strong>: 50</li>   <li><strong>Header</strong>: 40</li>   <li><strong>Footer</strong>: 40</li>   <li><strong>Dropdowns</strong>: 50</li>   <li><strong>Tooltips</strong>: 60</li> </ul> <h2>Implementation Details</h2> <h3>Body Scroll Lock (Mobile)</h3> <ul>   <li><strong>When</strong>: Mobile sidebar is open</li>   <li><strong>How</strong>: Set <code>document.body.style.overflow = 'hidden'</code></li>   <li><strong>Cleanup</strong>: Restore on close (<code>document.body.style.overflow = ''</code>)</li> </ul> <h3>Focus Management</h3> <ul>   <li><strong>Focus trap</strong>: Trap focus within sidebar when open on mobile (use focus-trap library or manual implementation)</li>   <li><strong>Focus restoration</strong>: Return focus to trigger button (menu toggle) when sidebar closes</li> </ul> <h3>Backdrop Click</h3> <ul>   <li>Close sidebar when backdrop is clicked</li>   <li>Prevent event bubbling to avoid closing immediately after opening</li> </ul> <h2>Edge Cases</h2> <h3>Long Navigation Labels</h3> <ul>   <li>Truncate with ellipsis, show tooltip on hover</li>   <li>Maintain min-width for icons</li> </ul> <h3>Many Navigation Items</h3> <ul>   <li>Sidebar should scroll, maintain scroll position when toggling collapsed state</li>   <li>Use custom scrollbar styling (6px width, subtle color)</li> </ul> <h3>Rapid Toggling</h3> <ul>   <li>Debounce or disable toggle during transition to prevent animation conflicts</li> </ul> <h3>Window Resize During Animation</h3> <ul>   <li>Complete current animation before re-evaluating breakpoint</li> </ul> <h3>Very Small Screens</h3> <ul>   <li>Consider further reducing padding/spacing on screens &#x3C; 320px</li> </ul> <h3>Content Overflow</h3> <ul>   <li>Ensure content doesn't overflow horizontally when sidebar collapses</li> </ul> <h2>Common Variations</h2> <h3>With Top Navigation</h3> <ul>   <li>Add secondary horizontal navigation below header</li>   <li>Sticky behavior on scroll</li>   <li>Breadcrumbs integration</li> </ul> <h3>With Footer</h3> <ul>   <li>Footer inside content area or fixed at bottom</li>   <li>Adjust content area min-height to push footer down</li> </ul> <h3>With Multiple Sidebars</h3> <ul>   <li>Right sidebar for contextual actions/filters</li>   <li>Coordinate toggle states</li>   <li>Consider collapsing both on smaller screens</li> </ul> <h3>Dark Mode</h3> <ul>   <li>Darker sidebar background (#1a1a1a)</li>   <li>Dark content background (#121212)</li>   <li>Lighter text colors (#e0e0e0)</li>   <li>Adjust shadows to lighter colors</li>   <li>Reduce color saturation slightly</li> </ul> <h2>Testing Checklist</h2> <p>When implementing this layout, test:</p> <ul>   <li>[ ] Sidebar toggles smoothly on desktop</li>   <li>[ ] Sidebar opens as overlay on mobile</li>   <li>[ ] Mobile backdrop dismisses sidebar</li>   <li>[ ] Body scroll is locked when mobile sidebar is open</li>   <li>[ ] Focus is trapped within mobile sidebar</li>   <li>[ ] Focus is restored to menu toggle when sidebar closes</li>   <li>[ ] Content area adjusts to sidebar state</li>   <li>[ ] Header stays fixed on scroll and adjusts to sidebar state</li>   <li>[ ] Footer stays fixed at bottom and adjusts to sidebar state</li>   <li>[ ] Footer is always visible even with minimal content</li>   <li>[ ] Content area has proper spacing for header (margin-top: 64px) and footer (margin-bottom: 60px)</li>   <li>[ ] Active navigation item is highlighted</li>   <li>[ ] User dropdown opens and closes correctly</li>   <li>[ ] Keyboard navigation works throughout</li>   <li>[ ] Screen reader announces state changes</li>   <li>[ ] Sidebar state persists on reload</li>   <li>[ ] No horizontal scroll when sidebar collapses</li>   <li>[ ] Responsive at all breakpoints (mobile, tablet, desktop)</li>   <li>[ ] Window resize handling works correctly (debounced, closes mobile sidebar on desktop switch)</li>   <li>[ ] Touch interactions work on mobile</li>   <li>[ ] Animations are smooth (60fps)</li>   <li>[ ] No layout shift or flicker on load</li>   <li>[ ] SSR/hydration safe (localStorage accessed after mount)</li>   <li>[ ] Long navigation labels are truncated properly</li>   <li>[ ] Many navigation items scroll correctly in sidebar</li> </ul> <h2>AI Agent Implementation Prompt Template</h2> <p>Use this template when asking an AI agent to implement this dashboard:</p> <pre><code>Create a responsive dashboard layout with the following specifications:  1. Sidebar:     - Fixed position, 280px wide when expanded, 80px when collapsed    - Collapsible with toggle button    - Contains logo and navigation menu with icons    - Overlay mode on mobile (&#x3C;768px)    - Persist collapsed state in localStorage  2. Header:    - Fixed at top, 64px height    - Contains mobile menu toggle, title, notifications button, and user dropdown    - Adjusts left margin based on sidebar state  3. Content Area:    - Scrollable main content    - 24px padding    - Adjusts margin based on sidebar state    - Smooth transitions (300ms)  4. Use [Framework: React/Angular/Vue] with [Styling: Tailwind/Chakra/CSS Modules]  5. Include:    - Smooth animations    - Keyboard accessibility    - ARIA labels    - Mobile-responsive behavior    - Active state for current page  Reference: UI Potion Dashboard Layout </code></pre> <h2>Additional Resources</h2> <h3>Navigation Configuration Example</h3> <pre><code class=\"language-javascript\">const navigationItems = [   { id: 'dashboard', label: 'Dashboard', icon: 'ChartIcon', href: '/' },   { id: 'analytics', label: 'Analytics', icon: 'TrendingUpIcon', href: '/analytics' },   { id: 'users', label: 'Users', icon: 'UsersIcon', href: '/users' },   { id: 'settings', label: 'Settings', icon: 'SettingsIcon', href: '/settings' }, ]; </code></pre> <h3>Notification Data Structure</h3> <pre><code class=\"language-javascript\">const notifications = [   { id: 1, title: 'New user registered', time: '5 min ago', unread: true },   { id: 2, title: 'Report generated', time: '1 hour ago', unread: false }, ]; </code></pre> <hr> <h2>Summary for AI Agents</h2> <p>This dashboard layout is a standard three-section layout (sidebar, header, content) with collapsible sidebar functionality. Key implementation points:</p> <ol>   <li><strong>Layout</strong>: CSS Grid or Flexbox with fixed positioning for sidebar and header</li>   <li><strong>State</strong>: Track sidebar collapse state, persist in localStorage</li>   <li><strong>Responsive</strong>: Sidebar becomes overlay on mobile, header spans full width</li>   <li><strong>Animations</strong>: 300ms transitions on width/margin changes</li>   <li><strong>Accessibility</strong>: ARIA labels, keyboard navigation, focus management</li>   <li><strong>Framework-agnostic</strong>: Adapt patterns to any framework's component model</li> </ol> <p>Generate clean, semantic HTML with proper component separation. Use framework-specific state management patterns and CSS methodology as specified by the user.</p>","excerpt":"A responsive admin dashboard layout with collapsible sidebar navigation and fixed header. Perfect for admin panels, SaaS applications, and data-driven interfaces.","publicationDate":"2026-01-10","tags":["dashboard","sidebar","responsive","admin"],"coverImage":""},{"fileName":"components/dialog.html","title":"Modal Dialog (Accessible) with Focus Trap and Actions","body":"<h1>Modal Dialog (Accessible) with Focus Trap and Actions</h1> <p>An accessible modal dialog component with focus trapping, Escape/backdrop dismissal rules, scroll locking, and action footer. Includes confirm/alert variants and responsive fullscreen behavior on small screens.</p> <h2>Structure Specification</h2> <h3>Component Hierarchy</h3> <p>The dialog consists of a Trigger element, a Backdrop overlay, and a Dialog container. The Dialog contains a Header (with Title and optional Close Button), a Body section for content, and an optional Footer with action buttons (Primary and Secondary).</p> <pre><code>Trigger â†’ Backdrop â†’ Dialog( Header(Title, Close), Body, Footer(Actions) ) </code></pre> <h2>Detailed Component Specifications</h2> <h3>1. Dialog Component</h3> <p><strong>Goal</strong>: Provide a safe, accessible modal dialog for confirmations, forms, and focused tasks without leaving the current page context.</p> <p><strong>Anatomy Slots</strong>:</p> <ul>   <li><code>trigger</code> - Element that opens the dialog (button, link, etc.)</li>   <li><code>backdrop</code> - Overlay behind the dialog</li>   <li><code>dialog</code> - Main dialog container</li>   <li><code>title</code> - Dialog title/heading</li>   <li><code>description</code> - Optional description text</li>   <li><code>body</code> - Main content area</li>   <li><code>footer</code> - Action buttons container</li>   <li><code>closeButton</code> - Optional close button in header</li> </ul> <p><strong>Dimensions</strong>:</p> <ul>   <li>Desktop: Max width 640px, centered horizontally and vertically</li>   <li>Mobile: Fullscreen when <code>fullscreenOnMobile=true</code>, otherwise near-full width with 16px margins</li>   <li>Body max height: <code>calc(100vh - 200px)</code> on desktop</li>   <li>Body overflow: <code>auto</code> when content exceeds max height</li> </ul> <p><strong>States</strong>:</p> <ul>   <li><code>open</code> (boolean, default: false) - Whether the dialog is visible</li>   <li><code>loading</code> (boolean, default: false) - Whether primary action is processing</li>   <li><code>variant</code> (enum: \"dialog\" | \"alertdialog\", default: \"dialog\") - Dialog semantics variant</li>   <li><code>dismissible</code> (boolean, default: true) - Whether Escape/backdrop can close</li>   <li><code>closeOnBackdropClick</code> (boolean, default: true) - Whether backdrop click closes</li>   <li><code>fullscreenOnMobile</code> (boolean, default: true) - Fullscreen on small screens</li> </ul> <p><strong>Elements</strong>:</p> <h4>Trigger</h4> <ul>   <li>Any interactive element (button, link, etc.)</li>   <li>Should have <code>aria-haspopup=\"dialog\"</code> and <code>aria-expanded=\"true/false\"</code></li>   <li>Focus is captured and restored on close</li> </ul> <h4>Backdrop</h4> <ul>   <li>Full viewport overlay</li>   <li>Background: <code>rgba(0, 0, 0, 0.5)</code> to <code>rgba(0, 0, 0, 0.75)</code></li>   <li>Optional: <code>backdrop-filter: blur(4px)</code> for modern browsers</li>   <li>Z-index: 40 (from tokens)</li>   <li>Clickable when <code>dismissible &#x26;&#x26; closeOnBackdropClick</code></li> </ul> <h4>Dialog Container</h4> <ul>   <li>Z-index: 50 (from tokens)</li>   <li>Centered on desktop</li>   <li>Rounded corners: 8-12px border-radius</li>   <li>Shadow: Elevated shadow for depth</li>   <li>Background: White (light) or dark neutral (dark mode)</li>   <li>Padding: 24px (desktop), 16px (mobile)</li> </ul> <h4>Header</h4> <ul>   <li>Contains title and optional close button</li>   <li>Title: 20-24px font size, semibold (600)</li>   <li>Close button: 40px Ã— 40px icon button, positioned top-right</li>   <li>Padding: 24px horizontal, 20px vertical</li> </ul> <h4>Body</h4> <ul>   <li>Scrollable content area</li>   <li>Padding: 24px (desktop), 16px (mobile)</li>   <li>Max height with overflow handling</li>   <li>Text: 16px font size, regular weight</li> </ul> <h4>Footer</h4> <ul>   <li>Action buttons container</li>   <li>Padding: 16-24px</li>   <li>Gap between buttons: 12-16px</li>   <li>Primary button: Prominent, left-aligned or right-aligned</li>   <li>Secondary button: Less prominent, next to primary</li>   <li>Loading state: Disable all actions, show spinner on primary</li> </ul> <p><strong>Behavior</strong>:</p> <ul>   <li>Focus trap: All keyboard focus trapped within dialog when open</li>   <li>Focus restoration: Returns focus to trigger element on close</li>   <li>Scroll lock: Body scroll locked while dialog is open</li>   <li>Escape key: Closes dialog when <code>dismissible=true</code></li>   <li>Backdrop click: Closes dialog when <code>dismissible &#x26;&#x26; closeOnBackdropClick</code></li>   <li>Animation: Smooth open/close transitions with prefers-reduced-motion support</li> </ul> <h2>Responsive Breakpoints</h2> <h3>Mobile (&#x3C; 768px)</h3> <ul>   <li><strong>Fullscreen Mode</strong> (when <code>fullscreenOnMobile=true</code>):     <ul>       <li>Dialog uses full viewport width and height</li>       <li>No margins or rounded corners</li>       <li>Header, body, footer stack vertically</li>       <li>Padding: 16px on all sides</li>     </ul>   </li>   <li><strong>Centered Mode</strong> (when <code>fullscreenOnMobile=false</code>):     <ul>       <li>Near-full width with 16px margins</li>       <li>Maintains rounded corners and shadow</li>       <li>Max width: <code>calc(100vw - 32px)</code></li>     </ul>   </li> </ul> <h3>Desktop (â‰¥ 1024px)</h3> <ul>   <li><strong>Centered Dialog</strong>:     <ul>       <li>Max width: 640px</li>       <li>Centered horizontally and vertically</li>       <li>Body max height: <code>calc(100vh - 200px)</code></li>       <li>Body overflow: <code>auto</code> when content exceeds max height</li>       <li>Padding: 24px on all sides</li>     </ul>   </li> </ul> <h2>Interaction Patterns</h2> <h3>Opening Dialog</h3> <ol>   <li>User clicks trigger element</li>   <li>Dialog opens with animation</li>   <li>Focus moves to first focusable element in dialog (or close button, or primary action)</li>   <li>Body scroll is locked</li>   <li>Trigger element reference is stored for focus restoration</li> </ol> <h3>Closing Dialog</h3> <h4>Escape Key</h4> <ol>   <li>User presses Escape key</li>   <li>If <code>dismissible=true</code>, dialog closes</li>   <li>Focus returns to trigger element</li>   <li>Body scroll is unlocked</li>   <li>Event is prevented and stopped from propagating</li> </ol> <h4>Backdrop Click</h4> <ol>   <li>User clicks backdrop</li>   <li>If <code>dismissible &#x26;&#x26; closeOnBackdropClick</code>, dialog closes</li>   <li>Focus returns to trigger element</li>   <li>Body scroll is unlocked</li>   <li>Event propagation is stopped</li> </ol> <h4>Close Button</h4> <ol>   <li>User clicks close button</li>   <li>Dialog closes</li>   <li>Focus returns to trigger element</li>   <li>Body scroll is unlocked</li> </ol> <h4>Primary Action</h4> <ol>   <li>User clicks primary action button</li>   <li>If <code>!loading</code>, action is invoked</li>   <li><code>loading</code> state is set to <code>true</code></li>   <li>Actions are disabled</li>   <li>On success: Dialog closes, focus restored, scroll unlocked</li>   <li>On error: Dialog stays open, <code>loading</code> set to <code>false</code>, error announced (optional)</li> </ol> <h3>Focus Management</h3> <ul>   <li><strong>Initial Focus</strong>: First focusable element in body, else close button, else primary action button</li>   <li><strong>Focus Trap</strong>: Tab and Shift+Tab cycle only within dialog</li>   <li><strong>Focus Restoration</strong>: Always return to trigger element on close (all close paths)</li>   <li><strong>Focus Visible</strong>: Clear focus indicators (2px solid outline, 2px offset)</li> </ul> <h2>Accessibility Requirements</h2> <h3>WCAG 2.1 Compliance (Level AA Target)</h3> <p>This dialog component should meet WCAG 2.1 Level AA standards. Key requirements:</p> <ul>   <li><strong>2.1.1 Keyboard</strong>: All dialog controls operable via keyboard; focus is trapped within dialog while open.</li>   <li><strong>2.1.2 No Keyboard Trap</strong>: No keyboard trap beyond intended focus trap; Escape exits when dismissible.</li>   <li><strong>2.4.3 Focus Order</strong>: Logical focus order; initial focus placed inside dialog; focus returns to trigger on close.</li>   <li><strong>2.4.7 Focus Visible</strong>: Visible focus indicators for all interactive elements.</li>   <li><strong>4.1.2 Name, Role, Value</strong>: Correct ARIA roles, names, and relationships.</li> </ul> <h3>Keyboard Navigation</h3> <p><strong>Tab Order</strong>:</p> <ul>   <li>Focus trapped within dialog when open</li>   <li>Tabbing cycles through focusable elements</li>   <li>Shift+Tab cycles backwards</li>   <li>Escape closes when <code>dismissible=true</code> and restores focus to trigger</li> </ul> <p><strong>Initial Focus</strong>:</p> <ul>   <li>Prefer first focusable element in body</li>   <li>Else close button</li>   <li>Else primary action button</li> </ul> <p><strong>Implementation</strong>:</p> <ul>   <li>Use focus-trap library or manual implementation</li>   <li>Track focusable elements within dialog</li>   <li>Prevent tabbing outside dialog boundaries</li>   <li>Handle Escape key globally when dialog is open</li> </ul> <h3>ARIA Attributes</h3> <p><strong>Required ARIA Attributes</strong>:</p> <ol>   <li>     <p><strong>Dialog Element</strong>:</p>     <pre><code class=\"language-html\">&#x3C;div role=\"dialog\"       aria-modal=\"true\"      aria-labelledby=\"dialog-title\"      aria-describedby=\"dialog-description\"> </code></pre>     <ul>       <li>Use <code>role=\"alertdialog\"</code> for alert variant</li>       <li><code>aria-labelledby</code> points to title element ID</li>       <li><code>aria-describedby</code> points to description/body element ID (when present)</li>     </ul>   </li>   <li>     <p><strong>Close Button</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Close dialog\"> </code></pre>   </li>   <li>     <p><strong>Trigger</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button aria-haspopup=\"dialog\"          aria-expanded=\"true/false\"> </code></pre>   </li> </ol> <p><strong>Optional ARIA Attributes</strong>:</p> <ol start=\"4\">   <li><strong>Status Region</strong> (for loading/error announcements):     <pre><code class=\"language-html\">&#x3C;div role=\"status\" aria-live=\"polite\">   &#x3C;!-- Loading or error messages --> &#x3C;/div> </code></pre>   </li> </ol> <p><strong>Dynamic ARIA Updates</strong>:</p> <ul>   <li>Update <code>aria-expanded</code> on trigger when dialog opens/closes</li>   <li>Update <code>aria-hidden</code> on backdrop (set to <code>true</code> when dialog closed)</li>   <li>Ensure <code>aria-labelledby</code> and <code>aria-describedby</code> point to existing elements</li> </ul> <h3>Screen Reader Support</h3> <p><strong>Announcements</strong>:</p> <ul>   <li>Dialog open/close state changes (via <code>aria-modal</code> and focus management)</li>   <li>Loading state changes (via status region with <code>aria-live=\"polite\"</code>)</li>   <li>Error messages (via status region)</li> </ul> <p><strong>Labels</strong>:</p> <ul>   <li>All icon-only buttons must have descriptive <code>aria-label</code></li>   <li>Title element must have unique ID for <code>aria-labelledby</code></li>   <li>Description/body element should have unique ID for <code>aria-describedby</code> (when present)</li> </ul> <p><strong>Screen Reader Only Text (sr-only class)</strong>:</p> <pre><code class=\"language-css\">.sr-only {   position: absolute;   width: 1px;   height: 1px;   padding: 0;   margin: -1px;   overflow: hidden;   clip: rect(0, 0, 0, 0);   white-space: nowrap;   border-width: 0; } </code></pre> <h3>Focus Visible Styles</h3> <p><strong>Implementation</strong>:</p> <pre><code class=\"language-css\">button:focus-visible, a:focus-visible, [tabindex]:focus-visible {   outline: 2px solid var(--primary-color);   outline-offset: 2px; }  /* Fallback for older browsers */ button:focus, a:focus, [tabindex]:focus {   outline: 2px solid var(--primary-color);   outline-offset: 2px; } </code></pre> <h3>Accessibility Implementation Checklist</h3> <p>When implementing this dialog, ensure:</p> <ul>   <li>[ ] Focus trap implemented and tested</li>   <li>[ ] Focus restored to trigger on close (all close paths)</li>   <li>[ ] Escape closes dialog only if <code>dismissible=true</code></li>   <li>[ ] Backdrop click closes only if <code>closeOnBackdropClick=true</code></li>   <li>[ ] <code>role</code> and <code>aria-*</code> attributes present and correctly wired</li>   <li>[ ] Body scroll lock applied and cleaned up</li>   <li>[ ] <code>prefers-reduced-motion</code> reduces or removes transforms</li>   <li>[ ] All interactive elements have visible focus indicators</li>   <li>[ ] <code>aria-labelledby</code> and <code>aria-describedby</code> point to existing elements</li>   <li>[ ] Screen reader tested with NVDA, VoiceOver, or JAWS</li> </ul> <h2>Design System Specifications</h2> <p><strong>Important</strong>: The design specifications below are tool-agnostic and should be implemented using your project's chosen styling approach (Tailwind, CSS Modules, styled-components, Chakra UI, Material-UI, SCSS, etc.). The styling examples in the \"Code Implementation Patterns\" section show how to apply these design values, but these specifications are the source of truth for the design.</p> <h3>Color Guidelines</h3> <h4>Backdrop</h4> <ul>   <li><strong>Background</strong>: <code>rgba(0, 0, 0, 0.5)</code> to <code>rgba(0, 0, 0, 0.75)</code></li>   <li><strong>Optional</strong>: <code>backdrop-filter: blur(4px)</code> for modern browsers</li> </ul> <h4>Dialog Container</h4> <ul>   <li><strong>Background (Light)</strong>: White (<code>#ffffff</code>) or very light gray (<code>#f9fafb</code>)</li>   <li><strong>Background (Dark)</strong>: <code>#1a1a1a</code> or <code>#0f172a</code></li>   <li><strong>Border</strong>: Optional 1px solid border (subtle)</li>   <li><strong>Shadow</strong>: Elevated shadow for depth     <ul>       <li>Light: <code>0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)</code></li>       <li>Dark: <code>0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2)</code></li>     </ul>   </li> </ul> <h4>Header</h4> <ul>   <li><strong>Background</strong>: Match dialog container</li>   <li><strong>Text (Light)</strong>: Dark gray (<code>#111827</code>, <code>#1f2937</code>) or black (<code>#000000</code>)</li>   <li><strong>Text (Dark)</strong>: <code>#e0e0e0</code> or <code>#f1f5f9</code></li>   <li><strong>Border</strong>: Optional 1px solid border-bottom (subtle)</li> </ul> <h4>Body</h4> <ul>   <li><strong>Background</strong>: Match dialog container</li>   <li><strong>Text (Light)</strong>: Dark gray (<code>#111827</code>, <code>#1f2937</code>)</li>   <li><strong>Text (Dark)</strong>: <code>#e0e0e0</code> or <code>#f1f5f9</code></li>   <li><strong>Contrast</strong>: Ensure 4.5:1 contrast ratio minimum (WCAG AA)</li> </ul> <h4>Footer</h4> <ul>   <li><strong>Background</strong>: Match dialog container</li>   <li><strong>Border</strong>: Optional 1px solid border-top (subtle)</li>   <li><strong>Button Colors</strong>: Follow your design system's button styles</li> </ul> <h3>Typography</h3> <ul>   <li><strong>Font Family</strong>: Use project's font stack (typically: system-ui, -apple-system, sans-serif or custom font)</li>   <li><strong>Title</strong>: 20-24px, semibold (600) or bold (700)</li>   <li><strong>Description</strong>: 14-16px, regular (400) or medium (500)</li>   <li><strong>Body Text</strong>: 16px, regular (400)</li>   <li><strong>Button Text</strong>: 14-16px, medium (500) or semibold (600)</li>   <li><strong>Line Height</strong>: 1.25 for headings, 1.5 for body text</li> </ul> <h3>Spacing System</h3> <p>Use consistent spacing scale (4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px) or your project's spacing system:</p> <ul>   <li><strong>Dialog Padding</strong>: 24px (desktop), 16px (mobile)</li>   <li><strong>Header Padding</strong>: 24px horizontal, 20px vertical</li>   <li><strong>Body Padding</strong>: 24px (desktop), 16px (mobile)</li>   <li><strong>Footer Padding</strong>: 16-24px</li>   <li><strong>Button Gap</strong>: 12-16px between primary and secondary buttons</li>   <li><strong>Content Gap</strong>: 16-24px between sections</li> </ul> <h3>Shadows &#x26; Elevation</h3> <p>Use subtle shadows for depth and separation:</p> <ul>   <li><strong>Dialog Shadow (Light)</strong>: <code>0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)</code></li>   <li><strong>Dialog Shadow (Dark)</strong>: <code>0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2)</code></li> </ul> <h3>Border Radius</h3> <ul>   <li><strong>Dialog Container</strong>: 8-12px</li>   <li><strong>Buttons</strong>: 6-8px</li> </ul> <h3>Visual Hierarchy Principles</h3> <ol>   <li>Dialog should be clearly elevated above backdrop</li>   <li>Header should be visually distinct from body</li>   <li>Footer should be visually distinct from body</li>   <li>Primary action should be more prominent than secondary</li>   <li>Focus indicators should be clearly visible</li>   <li>Loading state should provide clear feedback</li> </ol> <h2>State Management Considerations</h2> <h3>For AI Agents to Implement</h3> <p><strong>State to Track</strong>:</p> <ol>   <li><code>open: boolean</code> - Whether dialog is visible (default: false)</li>   <li><code>loading: boolean</code> - Whether primary action is processing (default: false)</li>   <li><code>variant: \"dialog\" | \"alertdialog\"</code> - Dialog semantics variant (default: \"dialog\")</li>   <li><code>dismissible: boolean</code> - Whether Escape/backdrop can close (default: true)</li>   <li><code>closeOnBackdropClick: boolean</code> - Whether backdrop click closes (default: true)</li>   <li><code>fullscreenOnMobile: boolean</code> - Fullscreen on small screens (default: true)</li>   <li><code>triggerElement: HTMLElement | null</code> - Reference to trigger for focus restoration</li> </ol> <p><strong>State Persistence</strong>:</p> <ul>   <li>All state is component-level only (no persistence needed)</li>   <li><code>triggerElement</code> should be captured when dialog opens and cleared on close</li> </ul> <h3>SSR/Hydration Considerations</h3> <ul>   <li><strong>Dialog state</strong>: Initialize <code>open</code> as <code>false</code> to prevent hydration mismatches</li>   <li><strong>Focus management</strong>: Only access DOM elements after component mount</li>   <li><strong>Body scroll lock</strong>: Only apply after component mount, check for <code>window</code> object existence</li> </ul> <h2>Code Implementation Patterns</h2> <h3>React Example Pattern</h3> <pre><code class=\"language-jsx\">// Suggested component structure &#x3C;Dialog   open={isOpen}   onClose={handleClose}   variant=\"dialog\"   dismissible={true}   closeOnBackdropClick={true}   fullscreenOnMobile={true} >   &#x3C;DialogTrigger onClick={handleOpen}>     Open Dialog   &#x3C;/DialogTrigger>   &#x3C;DialogBackdrop />   &#x3C;DialogContainer>     &#x3C;DialogHeader>       &#x3C;DialogTitle id=\"dialog-title\">Dialog Title&#x3C;/DialogTitle>       &#x3C;DialogCloseButton />     &#x3C;/DialogHeader>     &#x3C;DialogBody id=\"dialog-description\">       Dialog content goes here     &#x3C;/DialogBody>     &#x3C;DialogFooter>       &#x3C;Button variant=\"secondary\" onClick={handleClose}>         Cancel       &#x3C;/Button>       &#x3C;Button variant=\"primary\" onClick={handlePrimaryAction} loading={isLoading}>         Confirm       &#x3C;/Button>     &#x3C;/DialogFooter>   &#x3C;/DialogContainer> &#x3C;/Dialog> </code></pre> <h3>Angular Example Pattern</h3> <pre><code class=\"language-html\">&#x3C;!-- Suggested template structure --> &#x3C;button (click)=\"openDialog()\"          [attr.aria-haspopup]=\"'dialog'\"         [attr.aria-expanded]=\"isOpen\">   Open Dialog &#x3C;/button>  &#x3C;div *ngIf=\"isOpen\"       class=\"backdrop\"       (click)=\"onBackdropClick()\"      [attr.aria-hidden]=\"!isOpen\">   &#x3C;div role=\"dialog\"        [attr.aria-modal]=\"'true'\"        [attr.aria-labelledby]=\"'dialog-title'\"        [attr.aria-describedby]=\"'dialog-description'\"        class=\"dialog\">     &#x3C;header class=\"dialog-header\">       &#x3C;h2 id=\"dialog-title\">Dialog Title&#x3C;/h2>       &#x3C;button (click)=\"closeDialog()\" aria-label=\"Close dialog\">Ã—&#x3C;/button>     &#x3C;/header>     &#x3C;div id=\"dialog-description\" class=\"dialog-body\">       Dialog content     &#x3C;/div>     &#x3C;footer class=\"dialog-footer\">       &#x3C;button (click)=\"closeDialog()\">Cancel&#x3C;/button>       &#x3C;button (click)=\"handlePrimaryAction()\" [disabled]=\"isLoading\">         Confirm       &#x3C;/button>     &#x3C;/footer>   &#x3C;/div> &#x3C;/div> </code></pre> <h3>Vue Example Pattern</h3> <pre><code class=\"language-vue\">&#x3C;!-- Suggested component structure --> &#x3C;template>   &#x3C;div>     &#x3C;button @click=\"openDialog\"             :aria-haspopup=\"'dialog'\"             :aria-expanded=\"isOpen\">       Open Dialog     &#x3C;/button>          &#x3C;Teleport to=\"body\">       &#x3C;div v-if=\"isOpen\" class=\"backdrop\" @click=\"onBackdropClick\">         &#x3C;div role=\"dialog\"              :aria-modal=\"true\"              :aria-labelledby=\"'dialog-title'\"              :aria-describedby=\"'dialog-description'\"              class=\"dialog\">           &#x3C;header class=\"dialog-header\">             &#x3C;h2 id=\"dialog-title\">Dialog Title&#x3C;/h2>             &#x3C;button @click=\"closeDialog\" aria-label=\"Close dialog\">Ã—&#x3C;/button>           &#x3C;/header>           &#x3C;div id=\"dialog-description\" class=\"dialog-body\">             Dialog content           &#x3C;/div>           &#x3C;footer class=\"dialog-footer\">             &#x3C;button @click=\"closeDialog\">Cancel&#x3C;/button>             &#x3C;button @click=\"handlePrimaryAction\" :disabled=\"isLoading\">               Confirm             &#x3C;/button>           &#x3C;/footer>         &#x3C;/div>       &#x3C;/div>     &#x3C;/Teleport>   &#x3C;/div> &#x3C;/template> </code></pre> <h3>CSS/Styling Approaches</h3> <p><strong>Note</strong>: The examples below show how to implement the design specifications using different styling tools. Always refer to the \"Design System Specifications\" section above for the authoritative design values, then adapt them to your project's styling approach.</p> <h4>Tailwind CSS Pattern</h4> <pre><code class=\"language-html\">&#x3C;!-- Backdrop --> &#x3C;div class=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-40\"      @click=\"onBackdropClick\">   &#x3C;!-- Dialog -->   &#x3C;div class=\"fixed inset-0 flex items-center justify-center z-50 p-4\">     &#x3C;div class=\"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-2xl w-full max-h-[calc(100vh-200px)] flex flex-col\">       &#x3C;!-- Header -->       &#x3C;header class=\"flex items-center justify-between p-6 border-b\">         &#x3C;h2 id=\"dialog-title\" class=\"text-xl font-semibold\">Dialog Title&#x3C;/h2>         &#x3C;button class=\"w-10 h-10 flex items-center justify-center\" aria-label=\"Close dialog\">Ã—&#x3C;/button>       &#x3C;/header>       &#x3C;!-- Body -->       &#x3C;div id=\"dialog-description\" class=\"flex-1 overflow-auto p-6\">         Dialog content       &#x3C;/div>       &#x3C;!-- Footer -->       &#x3C;footer class=\"flex items-center justify-end gap-3 p-6 border-t\">         &#x3C;button class=\"px-4 py-2\">Cancel&#x3C;/button>         &#x3C;button class=\"px-4 py-2 bg-primary text-white\">Confirm&#x3C;/button>       &#x3C;/footer>     &#x3C;/div>   &#x3C;/div> &#x3C;/div> </code></pre> <h4>CSS Modules Pattern</h4> <pre><code class=\"language-css\">/* Apply design system values directly */ .backdrop {   position: fixed;   inset: 0;   background: rgba(0, 0, 0, 0.5);   backdrop-filter: blur(4px);   z-index: 40; }  .dialog {   position: fixed;   inset: 0;   display: flex;   align-items: center;   justify-content: center;   z-index: 50;   padding: 16px; }  .dialogContainer {   background: #ffffff;   border-radius: 12px;   box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);   max-width: 640px;   width: 100%;   max-height: calc(100vh - 200px);   display: flex;   flex-direction: column; }  .dialogHeader {   display: flex;   align-items: center;   justify-content: space-between;   padding: 24px;   border-bottom: 1px solid rgba(0, 0, 0, 0.1); }  .dialogBody {   flex: 1;   overflow: auto;   padding: 24px; }  .dialogFooter {   display: flex;   align-items: center;   justify-content: flex-end;   gap: 12px;   padding: 24px;   border-top: 1px solid rgba(0, 0, 0, 0.1); } </code></pre> <h4>Material-UI/Chakra Pattern</h4> <ul>   <li>Use Dialog/Modal component from library</li>   <li><strong>Extend theme</strong> with design system color values, spacing scale, and typography settings</li>   <li>Use theme.transitions for consistent animations matching design system specifications</li>   <li>Leverage theme breakpoints for responsive behavior</li>   <li><strong>Customize colors, spacing, and typography</strong> to match design system specifications</li>   <li>Ensure focus trap and scroll lock are properly configured</li> </ul> <h2>Animation Specifications</h2> <h3>Open Animation</h3> <ul>   <li><strong>Duration</strong>: 180ms (from tokens)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.2, 0, 0, 1)</code> (from tokens)</li>   <li><strong>Backdrop</strong>: Opacity <code>0 â†’ 1</code></li>   <li><strong>Dialog</strong>:     <ul>       <li>Opacity <code>0 â†’ 1</code></li>       <li>Transform: <code>translateY(8px) scale(0.98) â†’ translateY(0) scale(1)</code></li>     </ul>   </li> </ul> <h3>Close Animation</h3> <ul>   <li><strong>Duration</strong>: 140ms (from tokens)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.2, 0, 0, 1)</code> (from tokens)</li>   <li><strong>Backdrop</strong>: Opacity <code>1 â†’ 0</code></li>   <li><strong>Dialog</strong>:     <ul>       <li>Opacity <code>1 â†’ 0</code></li>       <li>Transform: <code>translateY(0) scale(1) â†’ translateY(8px) scale(0.98)</code></li>     </ul>   </li> </ul> <h3>Prefers-Reduced-Motion Support</h3> <p><strong>Implementation</strong>:</p> <pre><code class=\"language-css\">@media (prefers-reduced-motion: reduce) {   .dialog,   .backdrop {     animation: none;     transition: opacity 0.1s ease;   }      .dialog {     transform: none;   } } </code></pre> <p><strong>Performance</strong>:</p> <ul>   <li>Prefer <code>transform</code> and <code>opacity</code> for animations (GPU-accelerated)</li>   <li>Set <code>will-change: transform, opacity</code> on animating elements</li>   <li>Use <code>transform3d(0,0,0)</code> to trigger GPU acceleration if needed</li> </ul> <h2>Z-Index Layer System</h2> <p>To ensure proper layering of elements:</p> <ul>   <li><strong>Backdrop</strong>: 40 (from tokens)</li>   <li><strong>Dialog</strong>: 50 (from tokens)</li>   <li><strong>Tooltips</strong>: 60 (from tokens)</li> </ul> <h2>Implementation Details</h2> <h3>Focus Trap</h3> <p><strong>When</strong>: Dialog is open</p> <p><strong>How</strong>:</p> <ul>   <li>Use focus-trap library (e.g., <code>focus-trap</code> for React, <code>focus-trap-vue</code> for Vue) or manual implementation</li>   <li>Identify all focusable elements within dialog</li>   <li>Prevent tabbing outside dialog boundaries</li>   <li>Cycle focus within dialog on Tab/Shift+Tab</li> </ul> <p><strong>Cleanup</strong>: Remove focus trap on close</p> <h3>Focus Restoration</h3> <p><strong>When</strong>: Dialog closes (all close paths)</p> <p><strong>How</strong>:</p> <ul>   <li>Store reference to trigger element when dialog opens</li>   <li>Restore focus to trigger element on close</li>   <li>Handle cases where trigger element no longer exists (fallback to body or first focusable element)</li> </ul> <h3>Body Scroll Lock</h3> <p><strong>When</strong>: Dialog is open</p> <p><strong>How</strong>:</p> <ul>   <li>Set <code>document.body.style.overflow = 'hidden'</code></li>   <li>Optionally preserve scroll position: <code>document.body.style.position = 'fixed'</code> and <code>document.body.style.top = '-${window.scrollY}px'</code></li> </ul> <p><strong>Cleanup</strong>:</p> <ul>   <li>Restore on close: <code>document.body.style.overflow = ''</code></li>   <li>Restore scroll position if preserved</li> </ul> <h3>Escape Key Handling</h3> <p><strong>When</strong>: Dialog is open and <code>dismissible=true</code></p> <p><strong>How</strong>:</p> <ul>   <li>Add global keydown listener for Escape key</li>   <li>Prevent default and stop propagation</li>   <li>Close dialog and restore focus</li> </ul> <p><strong>Cleanup</strong>: Remove listener on close</p> <h3>Backdrop Click Handling</h3> <p><strong>When</strong>: Dialog is open and <code>dismissible &#x26;&#x26; closeOnBackdropClick</code></p> <p><strong>How</strong>:</p> <ul>   <li>Add click listener to backdrop</li>   <li>Check if click target is backdrop (not dialog content)</li>   <li>Stop event propagation</li>   <li>Close dialog and restore focus</li> </ul> <h2>Edge Cases</h2> <h3>Very Long Content</h3> <ul>   <li>Body should scroll independently</li>   <li>Header and footer remain visible</li>   <li>Max height prevents dialog from exceeding viewport</li> </ul> <h3>Multiple Dialogs</h3> <ul>   <li>Stack dialogs with increasing z-index</li>   <li>Focus trap applies to topmost dialog</li>   <li>Escape closes topmost dialog first</li> </ul> <h3>Rapid Opening/Closing</h3> <ul>   <li>Debounce or disable interactions during animation</li>   <li>Prevent multiple simultaneous open/close operations</li> </ul> <h3>Trigger Element Removed</h3> <ul>   <li>If trigger element is removed from DOM before close, fallback to body or first focusable element for focus restoration</li> </ul> <h3>Very Small Screens</h3> <ul>   <li>Fullscreen mode recommended for screens &#x3C; 320px</li>   <li>Consider further reducing padding/spacing</li> </ul> <h3>Content Overflow</h3> <ul>   <li>Ensure dialog doesn't overflow viewport horizontally</li>   <li>Body scroll handles vertical overflow</li> </ul> <h2>Common Variations</h2> <h3>Confirm Dialog</h3> <ul>   <li>Shows primary and secondary buttons</li>   <li>Backdrop click allowed if <code>dismissible=true</code></li>   <li>Typically uses <code>variant=\"dialog\"</code></li> </ul> <h3>Alert Dialog</h3> <ul>   <li>Uses <code>role=\"alertdialog\"</code></li>   <li>Prefer <code>closeOnBackdropClick=false</code> to avoid accidental dismissal</li>   <li>Typically for urgent confirmations</li>   <li>May only have primary action button</li> </ul> <h3>Form Dialog</h3> <ul>   <li>Contains form inputs in body</li>   <li>Primary action submits form</li>   <li>Secondary action cancels and closes</li>   <li>Validation errors shown in body</li> </ul> <h3>Loading Dialog</h3> <ul>   <li>Shows loading spinner in body</li>   <li>No footer actions</li>   <li>Typically not dismissible</li>   <li>Used for async operations</li> </ul> <h3>Fullscreen Dialog</h3> <ul>   <li><code>fullscreenOnMobile=true</code> by default</li>   <li>Can be forced fullscreen on all screen sizes</li>   <li>Useful for complex forms or content</li> </ul> <h2>Testing Checklist</h2> <p>When implementing this dialog, test:</p> <ul>   <li>[ ] Dialog opens from trigger and focus moves inside dialog</li>   <li>[ ] Tab and Shift+Tab cycle within dialog only</li>   <li>[ ] Escape closes when <code>dismissible=true</code> and restores focus to trigger</li>   <li>[ ] Backdrop click closes only when enabled; does not close when disabled</li>   <li>[ ] Close button always closes and restores focus</li>   <li>[ ] <code>role='dialog'/'alertdialog'</code> correctly applied based on variant</li>   <li>[ ] <code>aria-labelledby</code> and <code>aria-describedby</code> point to existing elements</li>   <li>[ ] Body scroll is locked while open and restored on close</li>   <li>[ ] On mobile, fullscreen variant renders correctly when enabled</li>   <li>[ ] <code>prefers-reduced-motion</code> removes heavy transforms/animations</li>   <li>[ ] Focus trap works correctly (cannot tab outside dialog)</li>   <li>[ ] Focus restoration works on all close paths</li>   <li>[ ] Loading state disables actions and shows feedback</li>   <li>[ ] Primary action success closes dialog</li>   <li>[ ] Primary action error keeps dialog open</li>   <li>[ ] Animations are smooth (60fps)</li>   <li>[ ] No layout shift or flicker on open/close</li>   <li>[ ] SSR/hydration safe (no DOM access before mount)</li>   <li>[ ] Long content scrolls correctly in body</li>   <li>[ ] Multiple dialogs stack correctly</li>   <li>[ ] Screen reader announces dialog state changes</li> </ul> <h2>AI Agent Implementation Prompt Template</h2> <p>Use this template when asking an AI agent to implement this dialog:</p> <pre><code>Implement an accessible Modal Dialog component with overlay backdrop, focus trap, focus restoration to trigger, Escape/backdrop dismissal (configurable), and scroll lock. Support role='dialog' and role='alertdialog' variants, with aria-modal, aria-labelledby, aria-describedby, and aria-expanded on the trigger. Provide header (title + close), body, footer (primary/secondary actions) and loading state for primary action. Add open/close animations with prefers-reduced-motion support. Adapt to {{USER_FRAMEWORK}} and {{USER_STYLING_LIBRARY}}.  Key requirements: 1. Focus trap: All keyboard focus trapped within dialog when open 2. Focus restoration: Returns focus to trigger element on close (all close paths) 3. Escape key: Closes dialog when dismissible=true 4. Backdrop click: Closes dialog when dismissible &#x26;&#x26; closeOnBackdropClick 5. Scroll lock: Body scroll locked while dialog is open 6. ARIA: role, aria-modal, aria-labelledby, aria-describedby, aria-expanded 7. Animations: 180ms open, 140ms close with cubic-bezier(0.2, 0, 0, 1) easing 8. Responsive: Fullscreen on mobile when fullscreenOnMobile=true 9. Loading state: Disable actions and show spinner on primary action 10. Prefers-reduced-motion: Reduce or remove transforms  Reference: UI Potion Modal Dialog Component </code></pre> <h2>Additional Resources</h2> <h3>Focus Trap Library Examples</h3> <p><strong>React</strong>:</p> <pre><code class=\"language-javascript\">import { createFocusTrap } from 'focus-trap';  const trap = createFocusTrap(dialogRef.current, {   escapeDeactivates: dismissible,   clickOutsideDeactivates: dismissible &#x26;&#x26; closeOnBackdropClick,   returnFocusOnDeactivate: true,   initialFocus: dialogRef.current.querySelector('[data-initial-focus]') || dialogRef.current, }); trap.activate(); </code></pre> <p><strong>Vue</strong>:</p> <pre><code class=\"language-javascript\">import { createFocusTrap } from 'focus-trap';  const trap = createFocusTrap(dialogRef.value, {   escapeDeactivates: dismissible,   clickOutsideDeactivates: dismissible &#x26;&#x26; closeOnBackdropClick,   returnFocusOnDeactivate: true, }); trap.activate(); </code></pre> <h3>Body Scroll Lock Library Examples</h3> <p><strong>React</strong>:</p> <pre><code class=\"language-javascript\">import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';  disableBodyScroll(dialogRef.current); // On close: enableBodyScroll(dialogRef.current); </code></pre> <p><strong>Vue</strong>:</p> <pre><code class=\"language-javascript\">import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';  disableBodyScroll(dialogRef.value); // On close: enableBodyScroll(dialogRef.value); </code></pre> <hr> <h2>Summary for AI Agents</h2> <p>This modal dialog is a standard accessible dialog component with focus trap, focus restoration, scroll lock, and keyboard accessibility. Key implementation points:</p> <ol>   <li><strong>Structure</strong>: Trigger, Backdrop, Dialog container with Header, Body, Footer</li>   <li><strong>State</strong>: Track open, loading, variant, dismissible, closeOnBackdropClick, fullscreenOnMobile</li>   <li><strong>Focus Management</strong>: Trap focus within dialog, restore to trigger on close</li>   <li><strong>Keyboard</strong>: Escape closes when dismissible, Tab cycles within dialog</li>   <li><strong>Scroll Lock</strong>: Lock body scroll while dialog is open</li>   <li><strong>Animations</strong>: 180ms open, 140ms close with prefers-reduced-motion support</li>   <li><strong>Accessibility</strong>: WCAG AA compliance with proper ARIA attributes</li>   <li><strong>Framework-agnostic</strong>: Adapt patterns to any framework's component model</li> </ol> <p>Generate clean, semantic HTML with proper component separation. Use framework-specific state management patterns and CSS methodology as specified by the user.</p>","excerpt":"An accessible modal dialog component with focus trapping, Escape/backdrop dismissal rules, scroll locking, and action footer. Includes confirm/alert variants and responsive fullscreen behavior on small screens.","publicationDate":"2026-01-11","tags":["modal","dialog","overlay","focus-trap","a11y","wcag","aria"],"coverImage":""}]