[{"fileName":"tooling/eslint-config.html","title":"ESLint Config Generator for UI Projects","body":"<h1>ESLint Config Generator for UI Projects</h1> <p>A comprehensive ESLint configuration generator for modern UI projects. Supports React, Vue, Angular, and Svelte with accessibility linting, TypeScript support, and Prettier integration.</p> <h2>CRITICAL: ESLint Version and Config Format</h2> <p><strong>Before implementing, you MUST detect the ESLint version to use the correct configuration format:</strong></p> <h3>ESLint v9.0.0+ (Current)</h3> <ul>   <li><strong>Config file</strong>: <code>eslint.config.js</code> (flat config format) - <strong>REQUIRED</strong></li>   <li><strong>Ignore patterns</strong>: Integrated into <code>eslint.config.js</code> using <code>ignores</code> array</li>   <li><strong>Legacy files</strong>: <code>.eslintrc.*</code> and <code>.eslintignore</code> <strong>will NOT work</strong></li>   <li><strong>Format</strong>: ES Module with <code>export default [...]</code></li> </ul> <h3>ESLint v8.x.x and Earlier (Legacy)</h3> <ul>   <li><strong>Config file</strong>: <code>.eslintrc.js</code> (or <code>.eslintrc.json</code>)</li>   <li><strong>Ignore patterns</strong>: Separate <code>.eslintignore</code> file required</li>   <li><strong>Format</strong>: CommonJS with <code>module.exports = {...}</code></li>   <li><strong>Status</strong>: Deprecated - consider upgrading to v9+</li> </ul> <h3>How to Detect ESLint Version</h3> <pre><code class=\"language-bash\"># Check installed version npx eslint --version  # Or check package.json cat package.json | grep '\"eslint\"' </code></pre> <p><strong>Detection steps for AI agents:</strong></p> <ol>   <li>Check <code>package.json</code> devDependencies for eslint version</li>   <li>If no ESLint installed, install latest (will be v9+)</li>   <li>Generate config in the appropriate format based on detected version</li> </ol> <hr> <h2>Overview</h2> <p>This tooling potion provides ESLint configurations tailored to different JavaScript frameworks and TypeScript usage. It includes accessibility linting rules, import/export management, and best practices for code quality.</p> <h2>Supported Frameworks</h2> <ul>   <li><strong>React</strong> (with React Hooks and JSX-A11y)</li>   <li><strong>Vue 3</strong> (with Vue.js Accessibility)</li>   <li><strong>Angular</strong> (with Angular ESLint)</li>   <li><strong>Svelte</strong></li>   <li><strong>Vanilla JavaScript</strong></li> </ul> <h2>Key Features</h2> <ul>   <li>Framework-specific ESLint configurations</li>   <li>TypeScript support with <code>@typescript-eslint</code></li>   <li>Accessibility linting rules (jsx-a11y, vuejs-accessibility)</li>   <li>Prettier integration to avoid conflicts</li>   <li>Import/export linting with eslint-plugin-import</li>   <li>Best practices and code quality rules</li>   <li>Configurable rule severity levels</li>   <li>Support for multiple config formats (JS, JSON, YAML)</li>   <li>Auto-detection of project framework and TypeScript usage</li> </ul> <h2>What This Provides</h2> <p>When an AI agent implements this configuration generator, it will:</p> <ol>   <li><strong>Detect your project setup</strong> - Framework, TypeScript, Prettier</li>   <li><strong>Generate appropriate ESLint config</strong> - Tailored to your stack</li>   <li><strong>Provide installation commands</strong> - For all required dependencies</li>   <li><strong>Create .eslintignore file</strong> - With common ignore patterns</li>   <li><strong>Add npm scripts</strong> - For easy linting (lint, lint:fix)</li>   <li><strong>Include VS Code integration</strong> - For auto-fix on save</li> </ol> <h2>Configuration Examples</h2> <h3>ESLint v9+ Flat Config (REQUIRED for v9+)</h3> <h4>Vanilla JavaScript</h4> <p><strong>File</strong>: <code>eslint.config.js</code></p> <pre><code class=\"language-javascript\">import js from '@eslint/js'; import importPlugin from 'eslint-plugin-import';  export default [   // Ignore patterns (replaces .eslintignore)   {     ignores: [       'node_modules/',       'dist/',       'build/',       '.cache/',       '*.min.js',       '*.bundle.js',       'coverage/',     ],   },      // Main configuration   {     files: ['**/*.js'],     languageOptions: {       ecmaVersion: 'latest',       sourceType: 'module',       globals: {         console: 'readonly',         document: 'readonly',         window: 'readonly',         navigator: 'readonly',         setTimeout: 'readonly',         fetch: 'readonly',       },     },     plugins: {       import: importPlugin,     },     rules: {       ...js.configs.recommended.rules,       'no-unused-vars': ['warn', { argsIgnorePattern: '^_' }],       'no-console': 'warn',       'no-debugger': 'error',       'prefer-const': 'error',       'no-var': 'error',       'eqeqeq': ['error', 'always'],       'curly': ['error', 'all'],       'import/order': [         'warn',         {           groups: ['builtin', 'external', 'internal', 'parent', 'sibling', 'index'],           'newlines-between': 'always',           alphabetize: { order: 'asc', caseInsensitive: true },         },       ],     },   }, ]; </code></pre> <h4>React with Flat Config</h4> <p><strong>File</strong>: <code>eslint.config.js</code></p> <pre><code class=\"language-javascript\">import js from '@eslint/js'; import react from 'eslint-plugin-react'; import reactHooks from 'eslint-plugin-react-hooks'; import jsxA11y from 'eslint-plugin-jsx-a11y'; import importPlugin from 'eslint-plugin-import';  export default [   {     ignores: ['node_modules/', 'dist/', 'build/', '.next/', 'coverage/'],   },   {     files: ['**/*.{js,jsx}'],     languageOptions: {       ecmaVersion: 'latest',       sourceType: 'module',       parserOptions: {         ecmaFeatures: { jsx: true },       },     },     plugins: {       react,       'react-hooks': reactHooks,       'jsx-a11y': jsxA11y,       import: importPlugin,     },     rules: {       ...js.configs.recommended.rules,       ...react.configs.recommended.rules,       ...react.configs['jsx-runtime'].rules,       ...reactHooks.configs.recommended.rules,       ...jsxA11y.configs.recommended.rules,       'react/prop-types': 'off',       'react/react-in-jsx-scope': 'off',       'jsx-a11y/anchor-is-valid': 'warn',       'jsx-a11y/alt-text': 'error',       'no-console': 'warn',       'import/order': [         'warn',         {           groups: ['builtin', 'external', 'internal', 'parent', 'sibling', 'index'],           'newlines-between': 'always',           alphabetize: { order: 'asc', caseInsensitive: true },         },       ],     },     settings: {       react: { version: 'detect' },     },   }, ]; </code></pre> <hr> <h2>Legacy Config Examples (ESLint v8 and Earlier)</h2> <h3>React with TypeScript</h3> <p><strong>Installation:</strong></p> <pre><code class=\"language-bash\">npm install --save-dev eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-plugin-react eslint-plugin-react-hooks eslint-plugin-jsx-a11y eslint-plugin-import eslint-import-resolver-typescript </code></pre> <p><strong>Configuration (.eslintrc.js):</strong></p> <pre><code class=\"language-javascript\">module.exports = {   root: true,   env: {     browser: true,     es2022: true,     node: true,   },   extends: [     'eslint:recommended',     'plugin:react/recommended',     'plugin:react/jsx-runtime',     'plugin:react-hooks/recommended',     'plugin:jsx-a11y/recommended',     'plugin:@typescript-eslint/recommended',     'plugin:import/recommended',     'plugin:import/typescript',   ],   parser: '@typescript-eslint/parser',   plugins: ['react', 'react-hooks', 'jsx-a11y', '@typescript-eslint', 'import'],   parserOptions: {     ecmaVersion: 'latest',     sourceType: 'module',     project: './tsconfig.json',     ecmaFeatures: {       jsx: true,     },   },   settings: {     react: {       version: 'detect',     },     'import/resolver': {       typescript: {},       node: {         extensions: ['.js', '.jsx', '.ts', '.tsx'],       },     },   },   rules: {     'react/prop-types': 'off',     'react/react-in-jsx-scope': 'off',     'react-hooks/rules-of-hooks': 'error',     'react-hooks/exhaustive-deps': 'warn',     'jsx-a11y/anchor-is-valid': 'warn',     'jsx-a11y/alt-text': 'error',     '@typescript-eslint/no-unused-vars': ['warn', { argsIgnorePattern: '^_' }],     '@typescript-eslint/no-explicit-any': 'warn',     'no-console': 'warn',     'import/order': [       'warn',       {         groups: ['builtin', 'external', 'internal', 'parent', 'sibling', 'index'],         'newlines-between': 'always',         alphabetize: { order: 'asc', caseInsensitive: true },       },     ],   }, }; </code></pre> <h3>Vue 3 with TypeScript</h3> <p><strong>Installation:</strong></p> <pre><code class=\"language-bash\">npm install --save-dev eslint @typescript-eslint/parser @typescript-eslint/eslint-plugin eslint-plugin-vue vue-eslint-parser eslint-plugin-vuejs-accessibility eslint-plugin-import </code></pre> <p><strong>Configuration (.eslintrc.js):</strong></p> <pre><code class=\"language-javascript\">module.exports = {   root: true,   env: {     browser: true,     es2022: true,     node: true,   },   extends: [     'eslint:recommended',     'plugin:vue/vue3-recommended',     'plugin:vuejs-accessibility/recommended',     'plugin:@typescript-eslint/recommended',     'plugin:import/recommended',   ],   parser: 'vue-eslint-parser',   plugins: ['vue', 'vuejs-accessibility', '@typescript-eslint', 'import'],   parserOptions: {     parser: '@typescript-eslint/parser',     ecmaVersion: 'latest',     sourceType: 'module',     project: './tsconfig.json',   },   settings: {     'import/resolver': {       typescript: {},       node: {         extensions: ['.js', '.vue', '.ts'],       },     },   },   rules: {     'vue/multi-word-component-names': 'warn',     'vue/no-unused-vars': 'warn',     'vuejs-accessibility/alt-text': 'error',     'vuejs-accessibility/form-control-has-label': 'error',     '@typescript-eslint/no-unused-vars': ['warn', { argsIgnorePattern: '^_' }],     'no-console': 'warn',     'import/order': [       'warn',       {         groups: ['builtin', 'external', 'internal', 'parent', 'sibling', 'index'],         'newlines-between': 'always',         alphabetize: { order: 'asc', caseInsensitive: true },       },     ],   }, }; </code></pre> <h3>Svelte</h3> <p><strong>Installation:</strong></p> <pre><code class=\"language-bash\">npm install --save-dev eslint eslint-plugin-svelte svelte-eslint-parser eslint-plugin-import </code></pre> <p><strong>Configuration (.eslintrc.js):</strong></p> <pre><code class=\"language-javascript\">module.exports = {   root: true,   env: {     browser: true,     es2022: true,     node: true,   },   extends: [     'eslint:recommended',     'plugin:svelte/recommended',     'plugin:import/recommended',   ],   parser: 'svelte-eslint-parser',   plugins: ['svelte', 'import'],   parserOptions: {     ecmaVersion: 'latest',     sourceType: 'module',   },   settings: {     'import/resolver': {       node: {         extensions: ['.js', '.svelte'],       },     },   },   rules: {     'svelte/no-at-html-tags': 'error',     'svelte/valid-compile': 'error',     'no-unused-vars': 'warn',     'no-console': 'warn',     'import/order': [       'warn',       {         groups: ['builtin', 'external', 'internal', 'parent', 'sibling', 'index'],         'newlines-between': 'always',         alphabetize: { order: 'asc', caseInsensitive: true },       },     ],   }, }; </code></pre> <h2>.eslintignore File</h2> <p>Create a <code>.eslintignore</code> file in your project root with common ignore patterns:</p> <pre><code>node_modules/ dist/ build/ .next/ .nuxt/ coverage/ .cache/ *.min.js *.bundle.js public/ .env .env.local .DS_Store </code></pre> <h2>npm Scripts</h2> <p>Add these scripts to your <code>package.json</code>:</p> <pre><code class=\"language-json\">{   \"scripts\": {     \"lint\": \"eslint . --ext .js,.jsx,.ts,.tsx\",     \"lint:fix\": \"eslint . --ext .js,.jsx,.ts,.tsx --fix\"   } } </code></pre> <p>For Vue:</p> <pre><code class=\"language-json\">{   \"scripts\": {     \"lint\": \"eslint . --ext .js,.vue,.ts\",     \"lint:fix\": \"eslint . --ext .js,.vue,.ts --fix\"   } } </code></pre> <p>For Svelte:</p> <pre><code class=\"language-json\">{   \"scripts\": {     \"lint\": \"eslint . --ext .js,.svelte,.ts\",     \"lint:fix\": \"eslint . --ext .js,.svelte,.ts --fix\"   } } </code></pre> <h2>Prettier Integration</h2> <p>If you're using Prettier, add these dependencies to avoid conflicts:</p> <pre><code class=\"language-bash\">npm install --save-dev prettier eslint-config-prettier eslint-plugin-prettier </code></pre> <p>Then add <code>'prettier'</code> as the <strong>LAST</strong> item in your <code>extends</code> array:</p> <pre><code class=\"language-javascript\">extends: [   'eslint:recommended',   'plugin:react/recommended',   // ... other configs   'prettier', // MUST be last ], </code></pre> <h2>Accessibility Rules</h2> <h3>React (jsx-a11y)</h3> <p>The configuration includes essential accessibility rules:</p> <ul>   <li><code>jsx-a11y/alt-text</code> - Enforce alt text on images</li>   <li><code>jsx-a11y/aria-props</code> - Validate ARIA props</li>   <li><code>jsx-a11y/aria-proptypes</code> - Validate ARIA prop types</li>   <li><code>jsx-a11y/aria-unsupported-elements</code> - Disallow ARIA on unsupported elements</li>   <li><code>jsx-a11y/role-has-required-aria-props</code> - Enforce required ARIA props for roles</li>   <li><code>jsx-a11y/role-supports-aria-props</code> - Enforce supported ARIA props for roles</li> </ul> <h3>Vue (vuejs-accessibility)</h3> <ul>   <li><code>vuejs-accessibility/alt-text</code> - Enforce alt text on images</li>   <li><code>vuejs-accessibility/anchor-has-content</code> - Enforce anchor elements have content</li>   <li><code>vuejs-accessibility/aria-props</code> - Validate ARIA props</li>   <li><code>vuejs-accessibility/click-events-have-key-events</code> - Enforce keyboard events with click</li>   <li><code>vuejs-accessibility/form-control-has-label</code> - Enforce form controls have labels</li>   <li><code>vuejs-accessibility/heading-has-content</code> - Enforce headings have content</li>   <li><code>vuejs-accessibility/label-has-for</code> - Enforce labels have associated controls</li> </ul> <h2>TypeScript Rules</h2> <p>When TypeScript is detected, the configuration includes:</p> <ul>   <li><code>@typescript-eslint/no-unused-vars</code> - Warn on unused variables (with <code>_</code> prefix exception)</li>   <li><code>@typescript-eslint/no-explicit-any</code> - Warn on explicit any types</li>   <li><code>@typescript-eslint/no-floating-promises</code> - Error on unhandled promises</li>   <li><code>@typescript-eslint/await-thenable</code> - Enforce await on promises</li>   <li><code>@typescript-eslint/no-misused-promises</code> - Prevent promise misuse</li> </ul> <h2>Import/Export Rules</h2> <p>The configuration enforces organized imports:</p> <pre><code class=\"language-javascript\">'import/order': [   'warn',   {     groups: ['builtin', 'external', 'internal', 'parent', 'sibling', 'index'],     'newlines-between': 'always',     alphabetize: { order: 'asc', caseInsensitive: true },   }, ], </code></pre> <p>This ensures:</p> <ul>   <li>Imports are grouped by type (builtin, external, internal, etc.)</li>   <li>Blank lines separate import groups</li>   <li>Imports are alphabetically sorted</li> </ul> <p>Example result:</p> <pre><code class=\"language-javascript\">// Built-in modules import fs from 'fs'; import path from 'path';  // External dependencies import React from 'react'; import { useEffect, useState } from 'react';  // Internal modules import { Button } from '@/components/Button'; import { useAuth } from '@/hooks/useAuth';  // Relative imports import { helper } from './utils'; import styles from './styles.module.css'; </code></pre> <h2>Best Practices Rules</h2> <p>The configuration includes code quality rules:</p> <ul>   <li><code>no-unused-vars</code> - Warn on unused variables</li>   <li><code>no-console</code> - Warn on console statements</li>   <li><code>no-debugger</code> - Error on debugger statements</li>   <li><code>prefer-const</code> - Prefer const over let</li>   <li><code>no-var</code> - Disallow var (use let/const)</li>   <li><code>eqeqeq</code> - Enforce strict equality (=== instead of ==)</li>   <li><code>curly</code> - Enforce curly braces for all control statements</li> </ul> <h2>VS Code Integration</h2> <p>For automatic linting and fixing in VS Code:</p> <ol>   <li>     <p>Install the ESLint extension: <code>dbaeumer.vscode-eslint</code></p>   </li>   <li>     <p>Add to your <code>.vscode/settings.json</code>:</p>   </li> </ol> <pre><code class=\"language-json\">{   \"editor.codeActionsOnSave\": {     \"source.fixAll.eslint\": true   },   \"eslint.validate\": [     \"javascript\",     \"javascriptreact\",     \"typescript\",     \"typescriptreact\",     \"vue\",     \"svelte\"   ] } </code></pre> <p>This will automatically fix ESLint issues on file save.</p> <h2>CI/CD Integration</h2> <p>Add ESLint to your CI/CD pipeline to catch issues early.</p> <h3>GitHub Actions</h3> <p>Create <code>.github/workflows/lint.yml</code>:</p> <pre><code class=\"language-yaml\">name: Lint  on:   push:     branches: [main, develop]   pull_request:     branches: [main, develop]  jobs:   lint:     runs-on: ubuntu-latest     steps:       - uses: actions/checkout@v3       - uses: actions/setup-node@v3         with:           node-version: '18'       - run: npm ci       - run: npm run lint </code></pre> <h2>Troubleshooting</h2> <h3>Wrong Config Format Error (ESLint v9+)</h3> <p><strong>Problem</strong>: Error message: <code>ESLint couldn't find an eslint.config.(js|mjs|cjs) file</code></p> <p><strong>Solution</strong>: You're using ESLint v9+ which requires flat config format. Delete all <code>.eslintrc.*</code> files and create <code>eslint.config.js</code> instead:</p> <pre><code class=\"language-bash\"># Remove legacy files rm .eslintrc.js .eslintrc.json .eslintignore  # Create flat config touch eslint.config.js </code></pre> <h3>.eslintignore Deprecation Warning</h3> <p><strong>Problem</strong>: Warning: <code>The \".eslintignore\" file is no longer supported</code></p> <p><strong>Solution</strong>: ESLint v9+ integrates ignore patterns into the config file:</p> <pre><code class=\"language-javascript\">// eslint.config.js export default [   {     ignores: ['node_modules/', 'dist/', 'build/', 'coverage/'],   },   // ... rest of config ]; </code></pre> <h3>Parser Conflicts</h3> <p><strong>Problem</strong>: Multiple parsers conflicting (e.g., <code>@typescript-eslint/parser</code> and <code>vue-eslint-parser</code>)</p> <p><strong>Solution</strong>: Use <code>vue-eslint-parser</code> as the main parser and specify <code>@typescript-eslint/parser</code> in <code>parserOptions</code>:</p> <pre><code class=\"language-javascript\">parser: 'vue-eslint-parser', parserOptions: {   parser: '@typescript-eslint/parser',   project: './tsconfig.json' } </code></pre> <h3>Import Resolution Issues</h3> <p><strong>Problem</strong>: ESLint can't resolve imports (<code>import/no-unresolved</code> errors)</p> <p><strong>Solution</strong>: Configure import resolver in settings section:</p> <pre><code class=\"language-javascript\">settings: {   'import/resolver': {     typescript: {},     node: {       extensions: ['.js', '.jsx', '.ts', '.tsx']     }   } } </code></pre> <h3>Prettier Conflicts</h3> <p><strong>Problem</strong>: ESLint formatting rules conflict with Prettier</p> <p><strong>Solution</strong>: Add <code>eslint-config-prettier</code> as LAST item in extends array:</p> <pre><code class=\"language-javascript\">extends: [   'eslint:recommended',   'plugin:react/recommended',   'prettier' // MUST be last ] </code></pre> <h2>Usage Instructions</h2> <p><strong>STEP 0 (CRITICAL)</strong>: Check ESLint version to determine correct config format</p> <pre><code class=\"language-bash\">npx eslint --version # v9.x.x = use eslint.config.js (flat config) # v8.x.x or lower = use .eslintrc.js (legacy config) </code></pre> <p><strong>STEP 1</strong>: Install ESLint and plugins using the appropriate command for your framework</p> <p><strong>STEP 2</strong>: Create config file in correct format based on version:</p> <ul>   <li><strong>ESLint v9+</strong>: Create <code>eslint.config.js</code> with flat config format (see examples above)</li>   <li><strong>ESLint v8 or earlier</strong>: Create <code>.eslintrc.js</code> with legacy format (see legacy examples above)</li> </ul> <p><strong>STEP 3</strong>: Handle ignore patterns:</p> <ul>   <li><strong>ESLint v9+</strong>: Add <code>ignores</code> array to <code>eslint.config.js</code></li>   <li><strong>ESLint v8 or earlier</strong>: Create separate <code>.eslintignore</code> file</li> </ul> <p><strong>STEP 4</strong>: Add lint scripts to package.json</p> <p><strong>STEP 5</strong>: Run linting: <code>npm run lint</code></p> <p><strong>STEP 6</strong>: Auto-fix issues: <code>npm run lint:fix</code></p> <p><strong>STEP 7</strong> (Optional): Install ESLint VS Code extension for auto-fix on save</p> <p><strong>STEP 8</strong> (Optional): Add ESLint check to CI/CD pipeline</p> <h2>Common Rule Severity Levels</h2> <ul>   <li><strong>error</strong> (2) - Violation will cause build to fail</li>   <li><strong>warn</strong> (1) - Violation will show warning but won't fail build</li>   <li><strong>off</strong> (0) - Rule is disabled</li> </ul> <p>You can customize any rule in your configuration:</p> <pre><code class=\"language-javascript\">rules: {   'no-console': 'warn',           // Warn on console.log   'no-debugger': 'error',         // Error on debugger statements   'react/prop-types': 'off',      // Disable prop-types rule   '@typescript-eslint/no-explicit-any': 'warn', // Warn on any type } </code></pre> <h2>Framework-Specific Notes</h2> <h3>React</h3> <ul>   <li>JSX runtime support (<code>plugin:react/jsx-runtime</code>) removes need for <code>import React</code></li>   <li>React Hooks rules enforce hooks best practices</li>   <li>JSX-A11y provides accessibility linting</li> </ul> <h3>Vue</h3> <ul>   <li>Vue 3 recommended rules included</li>   <li>Vue.js Accessibility plugin for a11y checking</li>   <li>Single File Component (SFC) support</li> </ul> <h3>Angular</h3> <ul>   <li>Angular ESLint replaces deprecated TSLint</li>   <li>Component and directive selector rules included</li>   <li>Template linting support</li> </ul> <h3>Svelte</h3> <ul>   <li>Svelte-specific compilation checks</li>   <li>HTML validation in Svelte templates</li>   <li>Reactive statement linting</li> </ul> <h2>AI Agent Implementation Prompt</h2> <p>Use this template when asking an AI agent to set up ESLint:</p> <pre><code>Set up ESLint for my [Framework] project with TypeScript support and accessibility linting.  CRITICAL REQUIREMENTS: 1. FIRST: Detect installed ESLint version (check package.json or run npx eslint --version) 2. Use CORRECT config format:    - ESLint v9+ = eslint.config.js (flat config, REQUIRED)    - ESLint v8 or earlier = .eslintrc.js (legacy config) 3. Detect my project framework and TypeScript usage 4. Install all required ESLint dependencies 5. Generate configuration with:    - Framework-specific rules    - TypeScript support    - Accessibility linting (jsx-a11y or vuejs-accessibility)    - Import/export organization    - Best practices rules 6. Handle ignore patterns correctly for detected version 7. Add npm scripts for linting (lint, lint:fix) 8. Include Prettier integration if Prettier is detected 9. Provide VS Code settings for auto-fix on save  Reference: UI Potion ESLint Config Generator </code></pre> <h2>Additional Resources</h2> <ul>   <li><a href=\"https://eslint.org/docs/latest/\">ESLint Documentation</a></li>   <li><a href=\"https://github.com/jsx-eslint/eslint-plugin-react\">eslint-plugin-react</a></li>   <li><a href=\"https://github.com/jsx-eslint/eslint-plugin-jsx-a11y\">eslint-plugin-jsx-a11y</a></li>   <li><a href=\"https://eslint.vuejs.org/\">eslint-plugin-vue</a></li>   <li><a href=\"https://github.com/vue-a11y/eslint-plugin-vuejs-accessibility\">eslint-plugin-vuejs-accessibility</a></li>   <li><a href=\"https://typescript-eslint.io/\">@typescript-eslint</a></li>   <li><a href=\"https://github.com/import-js/eslint-plugin-import\">eslint-plugin-import</a></li> </ul> <hr> <h2>Summary for AI Agents</h2> <p>This ESLint configuration generator provides production-ready linting setups for React, Vue, Angular, Svelte, and vanilla JavaScript projects. Key implementation points:</p> <p><strong>CRITICAL FIRST STEP</strong>: Always detect ESLint version before generating config</p> <ul>   <li>ESLint v9.0.0+ requires flat config (<code>eslint.config.js</code>) - <strong>NOT OPTIONAL</strong></li>   <li>ESLint v8.x.x and earlier use legacy config (<code>.eslintrc.js</code>)</li>   <li>Check version with <code>npx eslint --version</code> or examine <code>package.json</code></li> </ul> <p><strong>Implementation Steps</strong>:</p> <ol>   <li><strong>Version Detection</strong>: Check ESLint version to determine config format</li>   <li><strong>Framework Detection</strong>: Examine package.json for framework and TypeScript</li>   <li><strong>Config Generation</strong>: Use appropriate format (flat or legacy) for detected version</li>   <li><strong>Ignore Patterns</strong>: Integrate into config (v9+) or separate file (v8 or earlier)</li>   <li><strong>Dependencies</strong>: Provide installation commands for all required packages</li>   <li><strong>Accessibility</strong>: Include a11y linting rules (jsx-a11y, vuejs-accessibility)</li>   <li><strong>Best Practices</strong>: Include code quality, import organization, and TypeScript rules</li>   <li><strong>Integration</strong>: Provide VS Code settings and CI/CD workflow examples</li>   <li><strong>Documentation</strong>: Note which ESLint version and format was used</li> </ol> <p><strong>Config Format Rules</strong>:</p> <ul>   <li><strong>v9+</strong>: Must use <code>eslint.config.js</code> with <code>export default [...]</code> format</li>   <li><strong>v9+</strong>: Ignores are array objects in config, not separate <code>.eslintignore</code> file</li>   <li><strong>v8 or earlier</strong>: Use <code>.eslintrc.js</code> with <code>module.exports = {}</code> format</li>   <li><strong>v8 or earlier</strong>: Require separate <code>.eslintignore</code> file</li> </ul> <p>Generate clean, well-organized ESLint configurations that match both the project's framework AND the installed ESLint version. Prioritize code quality, accessibility, and developer experience.</p>","excerpt":"A comprehensive ESLint configuration generator supporting React, Vue, Angular, and Svelte with accessibility linting, TypeScript support, and Prettier integration.","publicationDate":"2026-01-24","tags":["eslint","linting","config","code-quality","developer-experience","tooling","typescript","accessibility","formatting"],"coverImage":""},{"fileName":"patterns/form-validation.html","title":"Form Validation Pattern - UX and Timing Strategies","body":"<h1>Form Validation Pattern - UX and Timing Strategies</h1> <p>A comprehensive UX pattern for form validation covering timing strategies (when to show errors), error display patterns, async validation, accessibility, and integration with form libraries. Teaches principles that work with any framework or validation library.</p> <h2>The Problem</h2> <p>Form validation UX is difficult to get right:</p> <ul>   <li><strong>Show errors too early</strong> → Users feel frustrated before they finish typing</li>   <li><strong>Show errors too late</strong> → Users waste time filling invalid forms</li>   <li><strong>Generic error messages</strong> → Users don't know how to fix the problem</li>   <li><strong>Missing accessibility</strong> → Screen reader users can't understand validation state</li>   <li><strong>Inconsistent timing</strong> → Different fields validate at different times, confusing users</li> </ul> <p>Poor validation timing, unclear messaging, and lack of accessibility are common pain points that degrade user experience and form completion rates.</p> <h2>The Solution</h2> <p>Apply <strong>progressive validation strategies</strong> based on user interaction patterns:</p> <ol>   <li><strong>On-blur validation</strong> for most fields (wait until user finishes input)</li>   <li><strong>Real-time validation</strong> for dependent fields (password confirmation)</li>   <li><strong>On-submit validation</strong> as final check before submission</li>   <li><strong>Specific, actionable error messages</strong> that tell users how to fix issues</li>   <li><strong>ARIA live regions</strong> to announce errors to screen readers</li>   <li><strong>Success states</strong> to confirm valid input</li>   <li><strong>Framework detection</strong> to leverage existing form libraries or suggest appropriate tools</li> </ol> <p>This pattern works with any form library or vanilla approach while maintaining best UX practices.</p> <h2>Do</h2> <h3>Validation Timing</h3> <ul>   <li>Show errors <strong>after user leaves the field</strong> (on blur) - wait until they're done typing</li>   <li>Use <strong>real-time validation</strong> for password confirmation (updates as user types)</li>   <li>Allow users to <strong>attempt submission</strong>, then show all errors if any exist</li>   <li><strong>Debounce async validation</strong> (username availability) to avoid excessive server calls</li> </ul> <h3>Error Messages</h3> <ul>   <li>Provide <strong>specific, actionable messages</strong>: \"Email must include @\" instead of \"Invalid email\"</li>   <li><strong>Preserve user input</strong> when showing errors - don't clear the field</li>   <li><strong>Keep errors visible</strong> until field passes validation</li>   <li>Mark required fields with <strong>'Required' label or asterisk</strong> before any interaction</li> </ul> <h3>Visual Feedback</h3> <ul>   <li>Show <strong>success states</strong> (checkmarks, green borders) for validated fields</li>   <li>Use <strong>icons, text, and borders</strong> - not just color</li>   <li><strong>Scroll to first error</strong> on submit if validation fails</li> </ul> <h3>Accessibility</h3> <ul>   <li>Use <strong>aria-live='polite'</strong> for error announcements to screen readers</li>   <li>Associate errors with fields using <strong>aria-describedby</strong></li>   <li>Mark invalid fields with <strong>aria-invalid='true'</strong></li>   <li>Use <strong>aria-required='true'</strong> for required fields</li> </ul> <h3>Submit Button</h3> <ul>   <li><strong>Enable submit button</strong> before validation (let users discover errors)</li>   <li><strong>Disable only while submitting</strong> (loading state), not before validation</li> </ul> <h3>Library Detection</h3> <ul>   <li><strong>Detect existing form libraries</strong> (React Hook Form, Formik, VeeValidate, etc.)</li>   <li><strong>Detect schema validation</strong> (Zod, Yup, Joi) and integrate with it</li>   <li><strong>Suggest framework-appropriate tools</strong> if none exist</li> </ul> <h2>Don't</h2> <ul>   <li>Show errors <strong>while user is actively typing</strong> (too aggressive and frustrating)</li>   <li>Use <strong>generic error messages</strong> like \"Invalid\" or \"Error\" without explanation</li>   <li><strong>Disable submit button</strong> before user attempts to submit (blocks error discovery)</li>   <li><strong>Rely only on color</strong> to indicate errors</li>   <li><strong>Hide error messages</strong> when user refocuses the field</li>   <li><strong>Clear field value</strong> when showing an error</li>   <li><strong>Show all errors immediately on page load</strong> before user interaction</li>   <li>Use <strong>browser alert() dialogs</strong> for validation errors</li>   <li><strong>Validate on every keystroke</strong> for text fields (except password confirmation)</li>   <li>Use <strong>technical error messages</strong> from validation libraries without making them user-friendly</li> </ul> <h2>Examples</h2> <h3>Email Field Validation</h3> <pre><code>User types: \"john@\" User leaves field (blur) → Show: \"Please enter a valid email address (e.g., name@example.com)\" → Red border, X icon  User corrects to: \"john@example.com\" User leaves field (blur) → Show: Green border, checkmark icon → Error message disappears </code></pre> <h3>Password Confirmation</h3> <pre><code>User types password: \"SecurePass123\" User types confirmation: \"Sec\" → Show immediately: \"Passwords must match\" → Red border  User continues typing: \"SecurePass123\" → Error disappears immediately → Green border, checkmark </code></pre> <h3>Async Username Availability</h3> <pre><code>User types: \"john\" → Wait 500ms after user stops typing → Show loading spinner → Check server  If taken: → Show: \"This username is already taken. Try john_smith or john2024\" → Red border, X icon  If available: → Show: Green border, checkmark icon </code></pre> <h3>Multi-Step Form</h3> <pre><code>Step 1: User fills name, email (both validated on blur) User clicks \"Next\" → Validate entire Step 1 → If errors: Show all errors, don't advance → If valid: Advance to Step 2 </code></pre> <h3>Form Submission</h3> <pre><code>User clicks Submit → Run final validation on all fields → If errors exist:   - Show all error messages   - Focus first invalid field   - Scroll to it   - Keep submit button enabled → If valid:   - Disable submit button   - Show loading spinner   - Submit form </code></pre> <h2>Anti-Patterns to Avoid</h2> <ol>   <li>     <p><strong>Aggressive Real-Time Validation</strong></p>     <ul>       <li>Bad: Showing \"Email is invalid\" as soon as user types first character</li>       <li>Good: Wait for blur</li>     </ul>   </li>   <li>     <p><strong>Hidden Submit Button</strong></p>     <ul>       <li>Bad: Disabling submit until all fields are valid</li>       <li>Good: Allow submission attempt to discover errors</li>     </ul>   </li>   <li>     <p><strong>Error on Focus</strong></p>     <ul>       <li>Bad: Showing error immediately when user clicks into field</li>       <li>Good: Wait for blur</li>     </ul>   </li>   <li>     <p><strong>No Error Recovery</strong></p>     <ul>       <li>Bad: User fixes error but message stays visible</li>       <li>Good: Clear error when field becomes valid</li>     </ul>   </li>   <li>     <p><strong>Validation on Page Load</strong></p>     <ul>       <li>Bad: Form appears with red error messages before user interaction</li>       <li>Good: No errors until user interacts</li>     </ul>   </li>   <li>     <p><strong>Auto-Clearing Fields</strong></p>     <ul>       <li>Bad: Field clears when error appears</li>       <li>Good: Preserve user input</li>     </ul>   </li>   <li>     <p><strong>Cryptic Errors</strong></p>     <ul>       <li>Bad: \"Validation failed on field_email_address\"</li>       <li>Good: \"Please enter a valid email address\"</li>     </ul>   </li>   <li>     <p><strong>Accessibility Failure</strong></p>     <ul>       <li>Bad: Error messages not associated with fields, no ARIA</li>       <li>Good: Proper aria-invalid, aria-describedby, aria-live</li>     </ul>   </li> </ol> <h2>Framework &#x26; Library Integration</h2> <h3>Detect Existing Tools</h3> <p><strong>First, check what's already in the project:</strong></p> <ol>   <li>Check <code>package.json</code> for form libraries</li>   <li>Check for schema validation libraries (Zod, Yup, Joi)</li>   <li>Use existing tools if found</li>   <li>Suggest appropriate tools if none exist</li> </ol> <h3>React</h3> <p><strong>Form Libraries:</strong></p> <ul>   <li><strong>React Hook Form</strong> (recommended) - Performant, minimal re-renders, great DX     <ul>       <li>Use <code>mode: 'onBlur'</code> for validation timing</li>       <li>Integrate with Zod/Yup via <code>@hookform/resolvers</code></li>     </ul>   </li>   <li><strong>Formik</strong> - Popular, mature, extensive ecosystem     <ul>       <li>Set <code>validateOnBlur={true}</code> and <code>validateOnChange={false}</code></li>     </ul>   </li>   <li><strong>TanStack Form</strong> - Framework-agnostic core, excellent TypeScript support</li> </ul> <p><strong>Schema Validation:</strong></p> <ul>   <li><strong>Zod</strong> (recommended) - TypeScript-first, runtime safety</li>   <li><strong>Yup</strong> - Mature, works well with Formik</li> </ul> <p><strong>Vanilla React:</strong></p> <ul>   <li>Use <code>useState</code> for form state</li>   <li>Implement validation with validation functions</li>   <li>Listen to blur events</li> </ul> <h3>Vue</h3> <p><strong>Form Libraries:</strong></p> <ul>   <li><strong>VeeValidate</strong> (recommended) - Vue-native, composition API support     <ul>       <li>Use <code>mode: 'lazy'</code> for on-blur validation</li>       <li>Integrate with Zod/Yup via <code>toTypedSchema()</code></li>     </ul>   </li>   <li><strong>Vuelidate</strong> - Lightweight, functional validators</li> </ul> <p><strong>Schema Validation:</strong></p> <ul>   <li><strong>Zod</strong> - Works with VeeValidate</li>   <li><strong>Yup</strong> - Works with VeeValidate</li> </ul> <p><strong>Vanilla Vue:</strong></p> <ul>   <li>Use <code>ref</code>/<code>reactive</code> for form state</li>   <li>Use <code>computed</code> for validation</li>   <li>Use <code>watch</code> for real-time validation</li> </ul> <h3>Angular</h3> <p><strong>Form Libraries:</strong></p> <ul>   <li><strong>Reactive Forms</strong> (built-in) - Use <code>updateOn: 'blur'</code> in FormControl</li>   <li><strong>ngx-sub-form</strong> - Better TypeScript support for nested forms</li> </ul> <p><strong>Schema Validation:</strong></p> <ul>   <li><strong>class-validator</strong> - Decorator-based, works well with Angular classes</li> </ul> <h3>Svelte</h3> <p><strong>Form Libraries:</strong></p> <ul>   <li><strong>svelte-forms-lib</strong> (recommended) - Svelte-native, Yup integration</li>   <li><strong>Felte</strong> - Extensible, Zod/Yup integration</li> </ul> <p><strong>Schema Validation:</strong></p> <ul>   <li><strong>Zod</strong> - Works with Felte</li>   <li><strong>Yup</strong> - Works with svelte-forms-lib</li> </ul> <p><strong>Vanilla Svelte:</strong></p> <ul>   <li>Use Svelte stores for form state</li>   <li>Implement validation in stores or components</li> </ul> <h2>Accessibility Requirements</h2> <h3>ARIA Attributes</h3> <pre><code class=\"language-html\">&#x3C;!-- Invalid field --> &#x3C;label for=\"email\">Email (Required)&#x3C;/label> &#x3C;input   type=\"email\"   id=\"email\"   aria-invalid=\"true\"   aria-required=\"true\"   aria-describedby=\"email-error\" /> &#x3C;span id=\"email-error\" role=\"alert\">   Please enter a valid email address &#x3C;/span>  &#x3C;!-- Valid field --> &#x3C;input   type=\"email\"   id=\"email\"   aria-invalid=\"false\"   aria-required=\"true\" /> </code></pre> <h3>Live Regions for Dynamic Errors</h3> <pre><code class=\"language-html\">&#x3C;!-- Error container with live region --> &#x3C;div aria-live=\"polite\" aria-atomic=\"true\">   &#x3C;span id=\"email-error\" class=\"error-message\">     Please enter a valid email address   &#x3C;/span> &#x3C;/div> </code></pre> <h3>Keyboard Navigation</h3> <ul>   <li>Tab key moves through all form fields logically</li>   <li>Shift+Tab moves backward</li>   <li>Enter key submits form when appropriate</li>   <li>First invalid field receives focus after submit failure</li>   <li>Focus ring visible on all interactive elements</li> </ul> <h3>Screen Reader Requirements</h3> <ul>   <li>Use <code>aria-invalid='true'</code> on fields with errors</li>   <li>Associate error messages with fields via <code>aria-describedby='error-id'</code></li>   <li>Use <code>aria-required='true'</code> on required fields</li>   <li>Use <code>aria-live='polite'</code> on error containers for announcements</li>   <li>Use <code>role='alert'</code> for critical errors</li>   <li>Field labels properly associated with inputs via <code>for</code>/<code>id</code></li> </ul> <h2>Implementation Checklist</h2> <h3>Validation Timing</h3> <ul>   <li>[ ] Required fields marked clearly before interaction</li>   <li>[ ] Most fields validate on blur (user has finished input)</li>   <li>[ ] Password confirmation validates in real-time while typing</li>   <li>[ ] Async validation is debounced and shows loading state</li>   <li>[ ] Submit validates all fields</li> </ul> <h3>Error Messages</h3> <ul>   <li>[ ] Error messages are specific and actionable</li>   <li>[ ] Errors persist until field passes validation</li>   <li>[ ] Errors don't disappear on refocus</li>   <li>[ ] User input preserved when showing errors</li> </ul> <h3>Visual Feedback</h3> <ul>   <li>[ ] Success states shown for valid fields</li>   <li>[ ] Color is not the only indicator (icons, text, borders)</li>   <li>[ ] First error receives focus on submit failure</li>   <li>[ ] All errors visible on screen (no scrolling needed)</li> </ul> <h3>Submit Button</h3> <ul>   <li>[ ] Enabled before validation</li>   <li>[ ] Only disables while actually submitting</li>   <li>[ ] Shows loading state while submitting</li> </ul> <h3>Accessibility</h3> <ul>   <li>[ ] <code>aria-invalid</code> on invalid fields</li>   <li>[ ] <code>aria-describedby</code> links fields to errors</li>   <li>[ ] <code>aria-required</code> on required fields</li>   <li>[ ] <code>aria-live</code> regions for dynamic errors</li>   <li>[ ] Keyboard navigation works correctly</li>   <li>[ ] Screen readers announce errors and state changes</li> </ul> <h3>Form Library Integration</h3> <ul>   <li>[ ] Existing form library detected and used</li>   <li>[ ] Schema validation integrated if present</li>   <li>[ ] Framework-appropriate library suggested if none exist</li>   <li>[ ] Validation timing patterns applied correctly</li> </ul> <h3>Testing</h3> <ul>   <li>[ ] Required validation works</li>   <li>[ ] Format validation works (email, phone, URL)</li>   <li>[ ] Range validation works (min/max length)</li>   <li>[ ] Async validation works with debouncing</li>   <li>[ ] Multi-step validation works</li>   <li>[ ] Error recovery works (errors clear when fixed)</li>   <li>[ ] Keyboard navigation works</li>   <li>[ ] Screen reader testing passed</li> </ul> <h2>Additional Resources</h2> <ul>   <li><a href=\"https://www.w3.org/WAI/WCAG21/Understanding/error-identification.html\">WCAG 2.1: Error Identification</a></li>   <li><a href=\"https://www.w3.org/WAI/WCAG21/Understanding/error-suggestion.html\">WCAG 2.1: Error Suggestion</a></li>   <li><a href=\"https://react-hook-form.com/\">React Hook Form Documentation</a></li>   <li><a href=\"https://vee-validate.logaretm.com/\">VeeValidate Documentation</a></li>   <li><a href=\"https://zod.dev/\">Zod Documentation</a></li>   <li><a href=\"https://angular.io/guide/reactive-forms\">Angular Forms Guide</a></li> </ul> <hr> <h2>See Also</h2> <p>This pattern complements these potions:</p> <ul>   <li><strong><a href=\"/potions/components/text-input\">Text Input Component</a></strong> - Foundation component for form inputs with built-in error/success states</li>   <li><strong><a href=\"/potions/components/dropdown-select\">Dropdown/Select Component</a></strong> - Form selection component that benefits from validation timing patterns</li>   <li><strong><a href=\"/potions/features/form-login-register\">Login &#x26; Registration Forms</a></strong> - Complete authentication forms that demonstrate this pattern in practice</li>   <li><strong><a href=\"/potions/components/dialog\">Dialog Component</a></strong> - For complex validation scenarios requiring modals</li> </ul> <p>These are suggestions to help you build complete forms. This pattern works with any form components you choose to use.</p> <hr> <h2>Summary for AI Agents</h2> <p>This pattern provides UX guidelines for form validation that work with any framework or form library. Key implementation points:</p> <p><strong>Detection First</strong>:</p> <ol>   <li>Detect framework (React, Vue, Angular, Svelte)</li>   <li>Check for existing form libraries (React Hook Form, Formik, VeeValidate, etc.)</li>   <li>Check for schema validation (Zod, Yup, Joi, etc.)</li>   <li>Use what exists, or suggest framework-appropriate tools</li> </ol> <p><strong>Validation Timing Principles</strong>:</p> <ul>   <li>On-blur for most fields (wait until user finishes)</li>   <li>Real-time for password confirmation</li>   <li>Debounced async for server checks</li>   <li>On-submit as final validation</li> </ul> <p><strong>UX Principles</strong>:</p> <ul>   <li>Specific, actionable error messages</li>   <li>Success states for valid fields</li>   <li>Don't block submission before validation</li>   <li>Preserve user input</li>   <li>Accessible error announcements</li> </ul> <p><strong>Accessibility</strong>:</p> <ul>   <li>aria-invalid, aria-describedby, aria-required</li>   <li>aria-live for error announcements</li>   <li>Proper focus management</li>   <li>Keyboard navigation</li> </ul> <p>Apply these principles regardless of whether you're using a form library or vanilla approach. The pattern guides timing and UX - the implementation adapts to the detected tech stack.</p>","excerpt":"A comprehensive UX pattern for form validation covering timing strategies, error display, async validation, accessibility, and integration with form libraries.","publicationDate":"2026-01-24","tags":["validation","forms","ux","accessibility","error-handling","progressive-disclosure","patterns","user-experience"],"coverImage":""},{"fileName":"layouts/landing-page.html","title":"Landing Page Layout (Marketing)","body":"<h1>Landing Page Layout (Marketing)</h1> <p>A conversion-optimized marketing landing page layout with hero section, feature highlights, social proof, and strategic CTAs. Perfect for product launches, SaaS marketing, and lead generation campaigns.</p> <h2>Structure Specification</h2> <h3>Layout Hierarchy</h3> <p>The layout consists of a sequential stack of sections: Navbar (fixed at top) → Hero Section (above the fold) → Features Section (3-4 grid cards) → Testimonials Section (social proof) → Final CTA Section → Footer. The entire page scrolls naturally with no nested scroll containers.</p> <h2>Detailed Component Specifications</h2> <h3>1. Navbar Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Height: 64px (fixed)</li>   <li>Padding: 24-32px horizontal</li>   <li>Position: Fixed at top</li> </ul> <p><strong>States:</strong></p> <ul>   <li><code>default</code> (initial state)</li>   <li><code>scrolled</code> (after scrolling past threshold)</li> </ul> <p><strong>Elements:</strong></p> <h4>Logo</h4> <ul>   <li>Height: 32-40px</li>   <li>Position: Left-aligned</li>   <li>Links to homepage</li> </ul> <h4>Navigation Links</h4> <ul>   <li>Display: Horizontal on desktop, hamburger menu on mobile</li>   <li>Font size: 14-16px</li>   <li>Gap: 24-32px between links</li> </ul> <h4>CTA Button</h4> <ul>   <li>Height: 40-44px</li>   <li>Padding: 12-16px horizontal</li>   <li>Position: Right-aligned</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li><strong>Optional Scroll Transition</strong>: Background changes from transparent to solid after scrolling 50px</li>   <li><strong>Duration</strong>: 300ms smooth transition</li>   <li><strong>Mobile Menu</strong>: Below 768px, navigation collapses to hamburger icon     <ul>       <li>Opens as fullscreen overlay or slide-in drawer</li>       <li>Dismissible via backdrop click or close button</li>     </ul>   </li> </ul> <p><strong>CRITICAL - Mobile Menu Reliability:</strong></p> <p>To ensure the mobile hamburger menu works consistently:</p> <ol>   <li><strong>DOM Ready</strong>: Attach event listeners only after DOM is fully loaded (<code>DOMContentLoaded</code> event or use <code>defer</code> on script tag)</li>   <li><strong>Z-Index Hierarchy</strong>:     <ul>       <li>Hamburger button: <code>z-index: 60</code> (higher than navbar)</li>       <li>Navbar: <code>z-index: 50</code></li>       <li>Mobile menu overlay: <code>z-index: 100</code></li>     </ul>   </li>   <li><strong>Touch Targets</strong>: Button must be minimum 44x44px (better: 48x48px) for reliable touch interaction</li>   <li><strong>Pointer Events</strong>: Button must have <code>pointer-events: auto</code> and <code>cursor: pointer</code></li>   <li><strong>Event Propagation</strong>: Use <code>event.stopPropagation()</code> on button click to prevent conflicts with document-level click handlers</li>   <li><strong>Click Events</strong>: Use <code>click</code> event (works for both touch and mouse) rather than separate touch event handlers</li>   <li><strong>State Management</strong>: Track menu state (boolean flag or CSS class) to prevent race conditions</li>   <li><strong>Visibility</strong>: Ensure button is <code>display: flex</code> on mobile and <code>display: none</code> on desktop (≥768px)</li> </ol> <p><strong>Common Issues &#x26; Fixes:</strong></p> <ul>   <li><strong>Button not clickable</strong>: Check z-index, pointer-events, ensure no transparent overlays</li>   <li><strong>Intermittent failure</strong>: Event listener attaching before DOM ready</li>   <li><strong>Works in DevTools but not on device</strong>: Touch target too small</li>   <li><strong>Menu closes immediately</strong>: Document click handler firing too soon, use stopPropagation</li>   <li><strong>Button disappears on scroll</strong>: Check navbar transition affecting button visibility</li> </ul> <p><strong>Testing Requirements:</strong></p> <ul>   <li>Test on actual iOS device (Safari)</li>   <li>Test on actual Android device (Chrome)</li>   <li>Test multiple rapid clicks</li>   <li>Test after scrolling page</li>   <li>Test after resizing window</li>   <li>Check browser console for errors</li> </ul> <h3>2. Hero Section</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Min-height: 600px (desktop), 500px (mobile)</li>   <li>Padding: 96-120px vertical (desktop), 60-80px (mobile)</li>   <li>Padding: 24-32px horizontal</li>   <li>Content max-width: 1200px (centered)</li> </ul> <p><strong>Layout:</strong></p> <ul>   <li>Mobile: Single column, stacked (headline → subheadline → CTAs → media)</li>   <li>Desktop: Two-column with 50/50 or 60/40 split (text left, media right)</li> </ul> <p><strong>Elements:</strong></p> <h4>Headline</h4> <ul>   <li>Font size: 48-64px (desktop), 32-40px (mobile)</li>   <li>Font weight: 700-900 (bold/black)</li>   <li>Line height: 1.1-1.2</li>   <li>Max-width: 800px</li>   <li>Margin-bottom: 24px</li>   <li>Color: High contrast (dark on light, light on dark)</li> </ul> <h4>Subheadline</h4> <ul>   <li>Font size: 18-24px (desktop), 16-20px (mobile)</li>   <li>Font weight: 400 (regular)</li>   <li>Line height: 1.5-1.6</li>   <li>Max-width: 700px</li>   <li>Margin-bottom: 32px</li>   <li>Color: Medium contrast (slightly muted)</li> </ul> <h4>CTA Group</h4> <ul>   <li>Layout: Horizontal (desktop), vertical (mobile)</li>   <li>Gap: 16px between buttons</li>   <li>Margin-bottom: 48px</li> </ul> <h4>Primary CTA Button</h4> <ul>   <li>Height: 48-56px</li>   <li>Padding: 16-24px horizontal</li>   <li>Font size: 16-18px</li>   <li>Font weight: 500-600</li>   <li>Border radius: 8-12px</li>   <li>Background: Brand primary color (high saturation)</li>   <li>Text: White or high contrast</li>   <li>Hover: Darken 10-15% or increase shadow</li> </ul> <h4>Secondary CTA Button</h4> <ul>   <li>Height: 48-56px</li>   <li>Padding: 16-24px horizontal</li>   <li>Font size: 16-18px</li>   <li>Font weight: 500</li>   <li>Style: Outlined or ghost button (lower visual weight)</li>   <li>Hover: Light background fill or darken border</li> </ul> <h4>Hero Media</h4> <ul>   <li>Type: Image, video, or illustration</li>   <li>Width: 100% (mobile), 50-60% (desktop)</li>   <li>Aspect ratio: 16:9 or 4:3</li>   <li>Position: Below CTAs (mobile), right side (desktop)</li>   <li>Loading: Eager (above fold, no lazy loading)</li> </ul> <p><strong>Background Options:</strong></p> <ul>   <li>Solid color (white, light gray, or brand color at 5-10% opacity)</li>   <li>Gradient (brand colors, subtle)</li>   <li>Image with overlay (40-60% dark overlay for text readability)</li>   <li>Video background with text overlay</li> </ul> <h3>3. Features Section</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Padding: 96-120px vertical (desktop), 60-80px (mobile)</li>   <li>Padding: 24-32px horizontal</li>   <li>Content max-width: 1200px (centered)</li> </ul> <p><strong>Elements:</strong></p> <h4>Section Heading</h4> <ul>   <li>Font size: 32-40px (desktop), 24-32px (mobile)</li>   <li>Font weight: 600-700</li>   <li>Text align: Center</li>   <li>Margin-bottom: 48px</li> </ul> <h4>Feature Grid</h4> <ul>   <li>Columns: 3-4 (desktop ≥1024px), 2 (tablet 768-1023px), 1 (mobile &#x3C;768px)</li>   <li>Gap: 32px (desktop), 24px (mobile)</li>   <li>Implementation: CSS Grid or Flexbox</li> </ul> <h4>Feature Card</h4> <ul>   <li>Padding: 32-40px</li>   <li>Border radius: 12-16px</li>   <li>Background: White or subtle card background</li>   <li>Shadow: Subtle (optional)</li>   <li>Border: Optional 1px subtle border</li> </ul> <h4>Feature Icon</h4> <ul>   <li>Size: 48-64px</li>   <li>Margin-bottom: 16px</li>   <li>Color: Primary or accent color</li> </ul> <h4>Feature Title</h4> <ul>   <li>Font size: 18-20px</li>   <li>Font weight: 600</li>   <li>Margin-bottom: 12px</li> </ul> <h4>Feature Description</h4> <ul>   <li>Font size: 14-16px</li>   <li>Line height: 1.5-1.6</li>   <li>Color: Muted text color (medium gray)</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Responsive grid auto-adjusts columns based on breakpoint</li>   <li>Optional: Subtle lift or shadow increase on card hover</li>   <li>Optional: Fade in + slide up animation when scrolling into viewport (staggered 100-150ms)</li> </ul> <h3>4. Testimonials Section</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Padding: 96-120px vertical (desktop), 60-80px (mobile)</li>   <li>Padding: 24-32px horizontal</li>   <li>Content max-width: 1200px (centered)</li> </ul> <p><strong>Variants:</strong></p> <ul>   <li><strong>Option A</strong>: Customer testimonials with quotes</li>   <li><strong>Option B</strong>: Client logo grid (social proof via brand recognition)</li> </ul> <p><strong>Elements (Testimonials Variant):</strong></p> <h4>Section Heading</h4> <ul>   <li>Font size: 32-40px (desktop), 24-32px (mobile)</li>   <li>Font weight: 600-700</li>   <li>Text align: Center</li>   <li>Margin-bottom: 48px</li> </ul> <h4>Testimonial Grid</h4> <ul>   <li>Columns: 3 (desktop ≥1024px), 2 (tablet 768-1023px), 1 (mobile &#x3C;768px)</li>   <li>Gap: 32px (desktop), 24px (mobile)</li> </ul> <h4>Testimonial Card</h4> <ul>   <li>Padding: 32-40px</li>   <li>Border radius: 12-16px</li>   <li>Background: White or subtle card background</li> </ul> <h4>Quote</h4> <ul>   <li>Font size: 16-18px</li>   <li>Line height: 1.6-1.7</li>   <li>Font style: Italic (optional)</li>   <li>Margin-bottom: 24px</li> </ul> <h4>Author Info</h4> <ul>   <li>Layout: Horizontal (avatar + name + title)</li> </ul> <h4>Avatar</h4> <ul>   <li>Size: 48-56px</li>   <li>Border radius: 50% (circle)</li>   <li>Margin-right: 16px</li> </ul> <h4>Author Name</h4> <ul>   <li>Font size: 14-16px</li>   <li>Font weight: 600</li> </ul> <h4>Author Title</h4> <ul>   <li>Font size: 14px</li>   <li>Color: Muted text color</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Optional: Fade in animation when entering viewport</li> </ul> <h3>5. Final CTA Section</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Padding: 96-120px vertical (desktop), 60-80px (mobile)</li>   <li>Padding: 24-32px horizontal</li>   <li>Content max-width: 800px (centered)</li> </ul> <p><strong>Elements:</strong></p> <h4>CTA Headline</h4> <ul>   <li>Font size: 32-48px (desktop), 24-32px (mobile)</li>   <li>Font weight: 700</li>   <li>Text align: Center</li>   <li>Margin-bottom: 16px</li> </ul> <h4>CTA Subtext</h4> <ul>   <li>Font size: 16-18px</li>   <li>Text align: Center</li>   <li>Margin-bottom: 32px</li> </ul> <h4>CTA Button</h4> <ul>   <li>Height: 48-56px</li>   <li>Padding: 20-28px horizontal</li>   <li>Font size: 16-18px</li>   <li>Font weight: 600</li>   <li>Display: Centered</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Background: Accent color or gradient for visual emphasis</li>   <li>Links to signup, demo, or pricing page</li> </ul> <h3>6. Footer Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Padding: 48-64px vertical</li>   <li>Padding: 24-32px horizontal</li>   <li>Content max-width: 1200px (centered)</li> </ul> <p><strong>Elements:</strong></p> <h4>Footer Links</h4> <ul>   <li>Layout: Grid or horizontal list</li>   <li>Columns: 4 (desktop), 2 (tablet), 1 (mobile)</li>   <li>Gap: 24-32px</li>   <li>Font size: 14-16px</li> </ul> <h4>Link Groups</h4> <ul>   <li>Structure: Category heading + list of links</li>   <li>Categories: Product, Company, Resources, Support (examples)</li> </ul> <h4>Social Links</h4> <ul>   <li>Layout: Horizontal row</li>   <li>Icon size: 20-24px</li>   <li>Gap: 16px between icons</li> </ul> <h4>Copyright</h4> <ul>   <li>Font size: 14px</li>   <li>Text align: Center or left</li>   <li>Color: Muted text color</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Border-top: 1px solid subtle divider</li>   <li>Background: Subtle (light gray) or match body background</li> </ul> <h2>Responsive Breakpoints</h2> <h3>Desktop (≥1024px)</h3> <ul>   <li>Hero: Two-column layout (text left, media right), 50/50 or 60/40 split</li>   <li>Features: 3-4 column grid</li>   <li>Testimonials: 3 column grid</li>   <li>Navbar: Full navigation links visible</li>   <li>Footer: 4 column grid</li>   <li>CTA Group: Horizontal buttons</li> </ul> <h3>Tablet (768px - 1023px)</h3> <ul>   <li>Hero: Two-column or stacked (depends on design preference)</li>   <li>Features: 2 column grid</li>   <li>Testimonials: 2 column grid</li>   <li>Navbar: Hamburger menu or condensed nav</li>   <li>Footer: 2 column grid</li> </ul> <h3>Mobile (&#x3C;768px)</h3> <ul>   <li>Hero: Single column, fully stacked</li>   <li>Features: 1 column stack</li>   <li>Testimonials: 1 column stack</li>   <li>Navbar: Hamburger menu</li>   <li>Footer: 1 column stack</li>   <li>CTA Group: Vertical stacking instead of horizontal</li> </ul> <h3>Window Resize Handling</h3> <ul>   <li><strong>Debounce</strong>: 200ms recommended</li>   <li><strong>Behavior</strong>: Re-evaluate grid columns on resize</li>   <li><strong>Implementation</strong>: CSS Grid auto-adjusts, no JavaScript needed unless dynamic state management required</li> </ul> <h2>Interaction Patterns</h2> <h3>Navbar Scroll Transition (Optional)</h3> <ol>   <li>User scrolls down the page</li>   <li>When <code>window.scrollY > 50px</code>, navbar transitions state</li>   <li>Background: transparent → solid (white or brand color)</li>   <li>Shadow: none → subtle shadow</li>   <li>Duration: 300ms smooth transition</li>   <li>On scroll back up, reverses transition</li> </ol> <h3>Hero CTA Actions</h3> <ol>   <li>Primary CTA: Links to signup, trial, or main conversion action</li>   <li>Secondary CTA: Links to demo, features, or learn more page</li>   <li>Both buttons keyboard accessible (Tab + Enter)</li> </ol> <h3>Mobile Menu</h3> <ol>   <li>User taps hamburger icon</li>   <li>Menu opens as fullscreen overlay or slide-in drawer</li>   <li>Backdrop appears with semi-transparent overlay</li>   <li>User can close via:     <ul>       <li>Close button (X icon)</li>       <li>Backdrop click</li>       <li>Escape key</li>     </ul>   </li>   <li>Menu closes with smooth animation</li> </ol> <h3>Scroll-Triggered Animations (Optional)</h3> <ol>   <li>Elements start invisible or translated down (off-screen)</li>   <li>Intersection Observer detects when element enters viewport</li>   <li>Animation triggers: fade in + slide up</li>   <li>Stagger delay: 100-150ms between cards in same section</li>   <li>Respects <code>prefers-reduced-motion</code> (disables animations)</li> </ol> <h2>Accessibility Requirements</h2> <h3>WCAG 2.1 Compliance (Level AA Target)</h3> <p>This landing page layout should meet WCAG 2.1 Level AA standards. Key requirements:</p> <ul>   <li><strong>1.1.1 Non-text Content</strong>: All images have descriptive alt text, decorative images have <code>alt=\"\"</code></li>   <li><strong>1.3.1 Info and Relationships</strong>: Use semantic HTML5 elements (<code>&#x3C;header></code>, <code>&#x3C;main></code>, <code>&#x3C;section></code>, <code>&#x3C;footer></code>)</li>   <li><strong>1.4.3 Contrast Minimum</strong>: 4.5:1 for normal text, 3:1 for large text and UI components (verify CTAs)</li>   <li><strong>2.1.1 Keyboard</strong>: All CTAs and links keyboard accessible (Tab, Enter/Space to activate)</li>   <li><strong>2.4.2 Page Titled</strong>: Descriptive page title in <code>&#x3C;title></code> tag</li>   <li><strong>2.4.4 Link Purpose</strong>: Descriptive CTA text (avoid generic \"Click Here\" or \"Learn More\" without context)</li>   <li><strong>2.4.7 Focus Visible</strong>: Clear focus indicators on all interactive elements</li>   <li><strong>4.1.2 Name, Role, Value</strong>: All buttons and links have accessible names</li> </ul> <h3>Keyboard Navigation</h3> <p><strong>Tab Order:</strong></p> <ul>   <li>Navbar links and CTA → Hero CTAs → Feature links (if any) → Testimonial links (if any) → Final CTA → Footer links</li> </ul> <p><strong>Implementation:</strong></p> <ul>   <li>All interactive elements: Tab to focus, Enter/Space to activate</li>   <li>Escape key: Close mobile menu</li> </ul> <h3>ARIA Attributes</h3> <p><strong>Required ARIA Attributes:</strong></p> <ol>   <li>     <p><strong>Main Content:</strong></p>     <pre><code class=\"language-html\">&#x3C;main id=\"main-content\" role=\"main\"> </code></pre>   </li>   <li>     <p><strong>Sections:</strong></p>     <pre><code class=\"language-html\">&#x3C;section aria-labelledby=\"features-heading\">   &#x3C;h2 id=\"features-heading\">Features&#x3C;/h2> &#x3C;/section> </code></pre>   </li>   <li>     <p><strong>CTA Buttons:</strong></p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Start your free 14-day trial\">Get Started Free&#x3C;/button> </code></pre>   </li>   <li>     <p><strong>Hero Media:</strong></p>     <pre><code class=\"language-html\">&#x3C;!-- Descriptive image --> &#x3C;img src=\"hero.jpg\" alt=\"Product dashboard showing real-time analytics, user management, and reporting features\" loading=\"eager\" />  &#x3C;!-- Decorative image --> &#x3C;img src=\"pattern.svg\" alt=\"\" role=\"presentation\" />  &#x3C;!-- Video --> &#x3C;video aria-label=\"Product demo video showing key features\" autoplay muted playsinline> </code></pre>   </li>   <li>     <p><strong>Mobile Menu:</strong></p>     <pre><code class=\"language-html\">&#x3C;button class=\"menu-toggle\" aria-label=\"Open menu\" aria-expanded=\"false\" aria-controls=\"mobile-nav\">   &#x3C;span class=\"sr-only\">Menu&#x3C;/span>   &#x3C;svg aria-hidden=\"true\">...&#x3C;/svg> &#x3C;/button>  &#x3C;nav id=\"mobile-nav\" class=\"mobile-menu\" aria-hidden=\"true\">   &#x3C;!-- Navigation links --> &#x3C;/nav> </code></pre>   </li>   <li>     <p><strong>Navbar:</strong></p>     <pre><code class=\"language-html\">&#x3C;header role=\"banner\">   &#x3C;nav role=\"navigation\" aria-label=\"Main navigation\"> </code></pre>   </li>   <li>     <p><strong>Footer:</strong></p>     <pre><code class=\"language-html\">&#x3C;footer role=\"contentinfo\"> </code></pre>   </li> </ol> <p><strong>Dynamic ARIA Updates:</strong></p> <ul>   <li>Update <code>aria-expanded</code> when mobile menu opens/closes</li>   <li>Update <code>aria-hidden</code> for mobile menu based on state</li> </ul> <h3>Screen Reader Support</h3> <p><strong>Heading Hierarchy:</strong></p> <ul>   <li>One <code>&#x3C;h1></code> per page (hero headline)</li>   <li><code>&#x3C;h2></code> for section headings (Features, Testimonials, etc.)</li>   <li><code>&#x3C;h3></code> for subsections (feature card titles, testimonial author names)</li>   <li>Never skip heading levels</li> </ul> <p><strong>Alt Text Guidelines:</strong></p> <ul>   <li><strong>Descriptive</strong>: Explain what the image shows and its purpose     <ul>       <li>Example: <code>alt=\"Product dashboard showing real-time analytics, user management, and reporting features\"</code></li>     </ul>   </li>   <li><strong>Decorative</strong>: Use <code>alt=\"\"</code> or <code>role=\"presentation\"</code> for purely decorative images     <ul>       <li>Example: <code>alt=\"\"</code> for background patterns</li>     </ul>   </li>   <li><strong>Complex</strong>: For charts or diagrams, provide longer description via <code>aria-describedby</code></li> </ul> <p><strong>Screen Reader Only Text (sr-only class):</strong></p> <pre><code class=\"language-css\">.sr-only {   position: absolute;   width: 1px;   height: 1px;   padding: 0;   margin: -1px;   overflow: hidden;   clip: rect(0, 0, 0, 0);   white-space: nowrap;   border-width: 0; } </code></pre> <p><strong>Landmarks:</strong></p> <ul>   <li>Use semantic HTML: <code>&#x3C;header></code>, <code>&#x3C;nav></code>, <code>&#x3C;main></code>, <code>&#x3C;section></code>, <code>&#x3C;footer></code></li>   <li>Or use ARIA roles: <code>role=\"banner\"</code>, <code>role=\"navigation\"</code>, <code>role=\"main\"</code>, <code>role=\"contentinfo\"</code></li> </ul> <h3>Color Contrast</h3> <p><strong>Requirements:</strong></p> <ul>   <li><strong>WCAG AA</strong>: 4.5:1 for normal text, 3:1 for large text (18pt+ or 14pt+ bold)</li>   <li><strong>WCAG AAA (Recommended)</strong>: 7:1 for important CTAs</li> </ul> <p><strong>Verification:</strong></p> <ul>   <li>Use WebAIM Contrast Checker or similar tool</li>   <li>Test all text/background combinations:     <ul>       <li>Hero headline and subheadline on background</li>       <li>CTA button text on button background</li>       <li>Body text on section backgrounds</li>       <li>Footer text on footer background</li>       <li>Link text on background (including hover state)</li>     </ul>   </li> </ul> <h3>Focus Visible Styles</h3> <p><strong>Implementation:</strong></p> <pre><code class=\"language-css\">button:focus-visible, a:focus-visible, [tabindex]:focus-visible {   outline: 2px solid var(--primary-color);   outline-offset: 2px; }  /* Fallback for older browsers */ button:focus, a:focus, [tabindex]:focus {   outline: 2px solid var(--primary-color);   outline-offset: 2px; } </code></pre> <h3>Accessibility Implementation Checklist</h3> <p>When implementing this landing page, ensure:</p> <ul>   <li>[ ] All images have descriptive alt text (or <code>alt=\"\"</code> if decorative)</li>   <li>[ ] Semantic HTML5 elements used (<code>&#x3C;header></code>, <code>&#x3C;main></code>, <code>&#x3C;section></code>, <code>&#x3C;footer></code>)</li>   <li>[ ] One <code>&#x3C;h1></code> per page, logical heading hierarchy</li>   <li>[ ] All CTAs keyboard accessible (Tab + Enter/Space)</li>   <li>[ ] Clear focus indicators on all interactive elements</li>   <li>[ ] Color contrast verified with contrast checker (4.5:1 minimum)</li>   <li>[ ] Mobile menu has <code>aria-expanded</code> and <code>aria-controls</code></li>   <li>[ ] Sections linked to headings with <code>aria-labelledby</code></li>   <li>[ ] No keyboard traps or inaccessible content</li>   <li>[ ] Screen reader tested with NVDA, VoiceOver, or JAWS</li> </ul> <h2>Design System Specifications</h2> <p><strong>Important</strong>: The design specifications below are tool-agnostic and should be implemented using your project's chosen styling approach (Tailwind, CSS Modules, styled-components, Chakra UI, Material-UI, SCSS, etc.). The styling examples in the \"Code Implementation Patterns\" section show how to apply these design values, but these specifications are the source of truth for the design.</p> <h3>Color Guidelines</h3> <h4>Hero Section</h4> <ul>   <li><strong>Background Options</strong>:     <ul>       <li>Solid color: White (#ffffff), light gray (#f9fafb), or brand color at 5-10% opacity</li>       <li>Gradient: Subtle brand color gradient (e.g., <code>linear-gradient(to bottom, #eff6ff, #ffffff)</code>)</li>       <li>Image: Background image with 40-60% dark overlay for text readability</li>       <li>Video: Muted, autoplay video with text overlay</li>     </ul>   </li>   <li><strong>Text</strong>:     <ul>       <li>Headline: High contrast (black #000000, dark gray #111827 on light bg; white #ffffff on dark bg)</li>       <li>Subheadline: Medium contrast (dark gray #374151 on light bg; light gray #e5e7eb on dark bg)</li>       <li>Minimum contrast: 4.5:1 (WCAG AA)</li>     </ul>   </li>   <li><strong>CTA Primary</strong>:     <ul>       <li>Background: Brand primary color (e.g., #3b82f6, #10b981, high saturation)</li>       <li>Text: White #ffffff (ensure 4.5:1 contrast)</li>       <li>Hover: Darken background 10-15% or increase shadow</li>     </ul>   </li>   <li><strong>CTA Secondary</strong>:     <ul>       <li>Background: Transparent or white</li>       <li>Border: 2px solid primary or neutral</li>       <li>Text: Primary color or dark gray</li>       <li>Hover: Light background fill or darken border</li>     </ul>   </li> </ul> <h4>Content Sections</h4> <ul>   <li><strong>Background</strong>: Alternate white (#ffffff) and light gray (#f9fafb or #f5f5f5) for visual separation</li>   <li><strong>Text</strong>:     <ul>       <li>Section headings: Dark gray #111827 or #1f2937</li>       <li>Body text: Medium gray #374151 or #6b7280</li>       <li>Muted text: Light gray #9ca3af (for author titles, captions)</li>     </ul>   </li> </ul> <h4>Feature/Testimonial Cards</h4> <ul>   <li><strong>Background</strong>: White #ffffff</li>   <li><strong>Border</strong>: Optional 1px solid #e5e7eb</li>   <li><strong>Shadow</strong>: Subtle: <code>0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)</code></li>   <li><strong>Hover</strong>: Increase shadow: <code>0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06)</code> (optional)</li> </ul> <h4>Navbar</h4> <ul>   <li><strong>Default</strong>: Transparent or white</li>   <li><strong>Scrolled</strong>: White with shadow (light mode) or dark with shadow (dark mode)</li>   <li><strong>Text</strong>: Dark gray #111827 (light bg) or white #ffffff (dark bg)</li>   <li><strong>Links</strong>:     <ul>       <li>Default: Medium gray #6b7280</li>       <li>Hover: Primary color or darker gray</li>       <li>Active: Primary color</li>     </ul>   </li> </ul> <h4>Footer</h4> <ul>   <li><strong>Background</strong>: Light gray #f9fafb or #f5f5f5</li>   <li><strong>Text</strong>: Medium gray #6b7280</li>   <li><strong>Links</strong>:     <ul>       <li>Default: Medium gray #6b7280</li>       <li>Hover: Primary color or darker gray</li>     </ul>   </li>   <li><strong>Border</strong>: Top border 1px solid #e5e7eb</li> </ul> <h4>Final CTA Section</h4> <ul>   <li><strong>Background</strong>: Brand color at 5-10% opacity or gradient for emphasis</li>   <li><strong>Text</strong>: High contrast to stand out</li> </ul> <h3>Typography</h3> <ul>   <li><strong>Font Family</strong>: Use project's font stack (typically: <code>system-ui, -apple-system, sans-serif</code> or custom brand font like Inter, Poppins, Roboto)</li> </ul> <h4>Hero</h4> <ul>   <li><strong>Headline</strong>: 48-64px (desktop), 32-40px (mobile), bold 700-900, line-height 1.1-1.2</li>   <li><strong>Subheadline</strong>: 18-24px (desktop), 16-20px (mobile), regular 400, line-height 1.5-1.6</li> </ul> <h4>Section Headings</h4> <ul>   <li><strong>Font size</strong>: 32-40px (desktop), 24-32px (mobile)</li>   <li><strong>Font weight</strong>: 600-700 (semibold/bold)</li> </ul> <h4>Body Text</h4> <ul>   <li><strong>Font size</strong>: 16-18px</li>   <li><strong>Font weight</strong>: 400 (regular)</li>   <li><strong>Line height</strong>: 1.5-1.6</li> </ul> <h4>Feature/Testimonial Cards</h4> <ul>   <li><strong>Title</strong>: 18-20px, semibold 600</li>   <li><strong>Description</strong>: 14-16px, regular 400, line-height 1.5</li> </ul> <h4>CTA Buttons</h4> <ul>   <li><strong>Font size</strong>: 16-18px</li>   <li><strong>Font weight</strong>: 500-600 (medium/semibold)</li> </ul> <h4>Footer</h4> <ul>   <li><strong>Links</strong>: 14-16px, regular 400</li>   <li><strong>Copyright</strong>: 14px, regular 400</li> </ul> <h3>Spacing System</h3> <p>Use consistent spacing scale: <strong>4, 8, 12, 16, 24, 32, 48, 64, 80, 96, 120px</strong> (or project's spacing system)</p> <h4>Sections</h4> <ul>   <li><strong>Padding vertical</strong>: 96-120px (desktop), 60-80px (mobile)</li>   <li><strong>Padding horizontal</strong>: 24-32px</li>   <li><strong>Margin-bottom</strong>: 48px between section heading and content</li> </ul> <h4>Hero</h4> <ul>   <li><strong>Padding vertical</strong>: 96-120px (desktop), 60-80px (mobile)</li>   <li><strong>Content spacing</strong>: 24px between headline and subheadline, 32px between subheadline and CTAs</li> </ul> <h4>Grids (Features, Testimonials)</h4> <ul>   <li><strong>Gap</strong>: 32px (desktop), 24px (mobile)</li> </ul> <h4>Cards</h4> <ul>   <li><strong>Padding</strong>: 32-40px</li>   <li><strong>Internal gap</strong>: 16px between card elements</li> </ul> <h4>Navbar</h4> <ul>   <li><strong>Height</strong>: 64px</li>   <li><strong>Padding</strong>: 24-32px horizontal</li> </ul> <h4>Footer</h4> <ul>   <li><strong>Padding</strong>: 48-64px vertical, 24-32px horizontal</li> </ul> <h3>Shadows &#x26; Elevation</h3> <h4>Cards</h4> <ul>   <li><strong>Default</strong>: <code>0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)</code></li>   <li><strong>Hover</strong>: <code>0 4px 6px rgba(0, 0, 0, 0.1), 0 2px 4px rgba(0, 0, 0, 0.06)</code> (optional)</li> </ul> <h4>Navbar (Scrolled)</h4> <ul>   <li><strong>Shadow</strong>: <code>0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)</code></li> </ul> <h4>CTA Buttons</h4> <ul>   <li><strong>Default</strong>: <code>0 2px 4px rgba(0, 0, 0, 0.1)</code></li>   <li><strong>Hover</strong>: <code>0 4px 8px rgba(0, 0, 0, 0.15)</code></li> </ul> <h3>Border Radius</h3> <ul>   <li><strong>Buttons</strong>: 8-12px</li>   <li><strong>Cards</strong>: 12-16px</li>   <li><strong>Images</strong>: 8-12px (optional, depends on design style)</li>   <li><strong>Inputs</strong>: 8px (if forms present)</li> </ul> <h3>Visual Hierarchy Principles</h3> <ol>   <li><strong>Hero headline</strong> is the largest, boldest element on the page</li>   <li><strong>Section headings</strong> clearly separate content areas</li>   <li><strong>Primary CTA</strong> stands out with high contrast brand color</li>   <li><strong>Secondary CTA</strong> has lower visual weight (outlined or ghost style)</li>   <li><strong>Alternating section backgrounds</strong> create visual rhythm</li>   <li><strong>White space</strong> creates breathing room and guides eye flow</li>   <li><strong>Feature/testimonial cards</strong> have consistent visual treatment</li> </ol> <h2>State Management Considerations</h2> <h3>For AI Agents to Implement</h3> <p><strong>State to Track:</strong></p> <ol>   <li><code>navbarScrolled: boolean</code> - Whether user has scrolled past threshold (for navbar transition)     <ul>       <li><strong>Determination</strong>: <code>window.scrollY > 50</code></li>       <li><strong>Persistence</strong>: Component state only (don't persist)</li>     </ul>   </li>   <li><code>mobileMenuOpen: boolean</code> - Whether mobile hamburger menu is open     <ul>       <li><strong>Default</strong>: <code>false</code></li>       <li><strong>Persistence</strong>: Component state only</li>     </ul>   </li>   <li><code>formState: object</code> (optional, if form included) - Email/newsletter form state     <ul>       <li><strong>Fields</strong>: <code>{ email: string, submitting: boolean, error: string | null, success: boolean }</code></li>       <li><strong>Persistence</strong>: Component state only</li>     </ul>   </li> </ol> <p><strong>No State Persistence:</strong></p> <ul>   <li>Landing pages are typically stateless</li>   <li>Optional: localStorage for form pre-fill (email) if user returns (rare)</li> </ul> <h3>SSR/Hydration Considerations</h3> <ul>   <li><strong>Scroll listener</strong>: Only add scroll listener in <code>onMounted</code>/<code>useEffect</code>, check for <code>window</code> object</li>   <li><strong>Default state</strong>: Use <code>false</code> as default for <code>navbarScrolled</code>, update after mount</li>   <li><strong>Implementation</strong>: Check <code>typeof window !== 'undefined'</code> before accessing window APIs</li> </ul> <h2>Critical Implementation Guidelines</h2> <h3>Vanilla CSS Detection</h3> <p><strong>CRITICAL</strong>: When detecting vanilla CSS in the project, ALWAYS create CSS classes in a stylesheet. NEVER use inline style attributes on HTML elements.</p> <ul>   <li>Define classes like <code>.hero</code>, <code>.features-grid</code>, <code>.cta-section</code> in your CSS file</li>   <li>Apply classes via <code>className</code>/<code>class</code> attributes: <code>&#x3C;section class=\"hero\"></code></li>   <li>Do NOT use: <code>&#x3C;section style=\"padding: 96px\"></code></li> </ul> <h3>React Hook Patterns</h3> <p><strong>CRITICAL</strong>: When detecting React, extract logic from <code>useEffect</code> hooks into separate custom hooks that do ONE thing each.</p> <ul>   <li>Instead of one <code>useEffect</code> handling scroll + animations + form state:     <ul>       <li><code>useScrollPosition()</code> - Detects scroll position only</li>       <li><code>useInView(ref)</code> - Intersection observer for element visibility</li>       <li><code>useFormState()</code> - Form state management only</li>     </ul>   </li>   <li>Each hook should have a single responsibility</li> </ul> <h2>Code Implementation Patterns</h2> <h3>React Example Pattern</h3> <pre><code class=\"language-jsx\">// Suggested component structure &#x3C;LandingPage>   &#x3C;Navbar transparent={!scrolled} />   &#x3C;HeroSection>     &#x3C;h1>Build amazing products&#x3C;/h1>     &#x3C;p>The fastest way to ship your ideas&#x3C;/p>     &#x3C;CTAGroup>       &#x3C;Button variant=\"primary\" href=\"/signup\">Get Started&#x3C;/Button>       &#x3C;Button variant=\"secondary\" href=\"/demo\">Watch Demo&#x3C;/Button>     &#x3C;/CTAGroup>     &#x3C;HeroImage src=\"/hero.jpg\" alt=\"Product screenshot\" />   &#x3C;/HeroSection>   &#x3C;FeaturesSection features={features} />   &#x3C;TestimonialsSection testimonials={testimonials} />   &#x3C;CTASection />   &#x3C;Footer /> &#x3C;/LandingPage> </code></pre> <h3>Vue Example Pattern</h3> <pre><code class=\"language-vue\">&#x3C;!-- Suggested component structure --> &#x3C;template>   &#x3C;LandingPage>     &#x3C;Navbar :transparent=\"!scrolled\" />     &#x3C;HeroSection>       &#x3C;h1>Build amazing products&#x3C;/h1>       &#x3C;p>The fastest way to ship your ideas&#x3C;/p>       &#x3C;div class=\"cta-group\">         &#x3C;Button variant=\"primary\" href=\"/signup\">Get Started&#x3C;/Button>         &#x3C;Button variant=\"secondary\" href=\"/demo\">Watch Demo&#x3C;/Button>       &#x3C;/div>       &#x3C;HeroImage src=\"/hero.jpg\" alt=\"Product screenshot\" />     &#x3C;/HeroSection>     &#x3C;FeaturesSection :features=\"features\" />     &#x3C;TestimonialsSection :testimonials=\"testimonials\" />     &#x3C;CTASection />     &#x3C;Footer />   &#x3C;/LandingPage> &#x3C;/template> </code></pre> <h3>Angular Example Pattern</h3> <pre><code class=\"language-html\">&#x3C;!-- Suggested template structure --> &#x3C;app-landing-page>   &#x3C;app-navbar [transparent]=\"!scrolled\">&#x3C;/app-navbar>   &#x3C;app-hero-section>     &#x3C;h1>Build amazing products&#x3C;/h1>     &#x3C;p>The fastest way to ship your ideas&#x3C;/p>     &#x3C;div class=\"cta-group\">       &#x3C;button class=\"btn-primary\" routerLink=\"/signup\">Get Started&#x3C;/button>       &#x3C;button class=\"btn-secondary\" routerLink=\"/demo\">Watch Demo&#x3C;/button>     &#x3C;/div>     &#x3C;img src=\"/hero.jpg\" alt=\"Product screenshot\" />   &#x3C;/app-hero-section>   &#x3C;app-features-section [features]=\"features\">&#x3C;/app-features-section>   &#x3C;app-testimonials-section [testimonials]=\"testimonials\">&#x3C;/app-testimonials-section>   &#x3C;app-cta-section>&#x3C;/app-cta-section>   &#x3C;app-footer>&#x3C;/app-footer> &#x3C;/app-landing-page> </code></pre> <h3>CSS/Styling Approaches</h3> <p><strong>Note</strong>: The examples below show how to implement the design specifications using different styling tools. Always refer to the \"Design System Specifications\" section above for the authoritative design values, then adapt them to your project's styling approach.</p> <h4>Tailwind CSS Pattern</h4> <pre><code class=\"language-html\">&#x3C;!-- Hero Section --> &#x3C;section class=\"min-h-[600px] py-24 lg:py-32 px-6 flex items-center bg-gradient-to-b from-blue-50 to-white\">   &#x3C;div class=\"max-w-6xl mx-auto grid lg:grid-cols-2 gap-12 items-center\">     &#x3C;div>       &#x3C;h1 class=\"text-4xl lg:text-6xl font-bold text-gray-900 mb-6\">         Build amazing products       &#x3C;/h1>       &#x3C;p class=\"text-lg lg:text-xl text-gray-600 mb-8\">         The fastest way to ship your ideas       &#x3C;/p>       &#x3C;div class=\"flex flex-col sm:flex-row gap-4\">         &#x3C;a href=\"/signup\" class=\"px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\">           Get Started         &#x3C;/a>         &#x3C;a href=\"/demo\" class=\"px-6 py-3 border-2 border-blue-600 text-blue-600 rounded-lg hover:bg-blue-50 transition\">           Watch Demo         &#x3C;/a>       &#x3C;/div>     &#x3C;/div>     &#x3C;div>       &#x3C;img src=\"/hero.jpg\" alt=\"Product screenshot\" class=\"rounded-lg shadow-lg\" />     &#x3C;/div>   &#x3C;/div> &#x3C;/section>  &#x3C;!-- Features Section --> &#x3C;section class=\"py-24 lg:py-32 px-6\">   &#x3C;div class=\"max-w-6xl mx-auto\">     &#x3C;h2 class=\"text-3xl lg:text-4xl font-bold text-center mb-12\">Features&#x3C;/h2>     &#x3C;div class=\"grid md:grid-cols-2 lg:grid-cols-3 gap-8\">       &#x3C;!-- Feature cards -->     &#x3C;/div>   &#x3C;/div> &#x3C;/section> </code></pre> <h4>Vanilla CSS Pattern</h4> <pre><code class=\"language-css\">/* CRITICAL: Always create CSS classes, never use inline styles */ .hero {   min-height: 600px;   padding: 96px 24px;   display: flex;   align-items: center;   background: linear-gradient(to bottom, #eff6ff, #ffffff); }  .hero-content {   max-width: 1200px;   margin: 0 auto;   display: grid;   grid-template-columns: 1fr;   gap: 48px;   align-items: center; }  .hero-headline {   font-size: 48px;   font-weight: 700;   color: #111827;   margin-bottom: 24px;   line-height: 1.2; }  .features-section {   padding: 96px 24px; }  .features-grid {   display: grid;   grid-template-columns: 1fr;   gap: 32px; }  @media (min-width: 768px) {   .features-grid {     grid-template-columns: repeat(2, 1fr);   } }  @media (min-width: 1024px) {   .hero-content {     grid-template-columns: 1fr 1fr;   }      .hero-headline {     font-size: 64px;   }      .features-grid {     grid-template-columns: repeat(3, 1fr);   } }  @media (max-width: 767px) {   .hero {     min-height: 500px;     padding: 60px 16px;   }      .hero-headline {     font-size: 32px;   } } </code></pre> <h2>Animation Specifications</h2> <h3>Hero Entrance Animation (Optional)</h3> <ul>   <li><strong>Headline</strong>: Fade in + slide up, 800ms, 0ms delay, ease-out</li>   <li><strong>Subheadline</strong>: Fade in + slide up, 800ms, 100ms delay, ease-out</li>   <li><strong>CTA Group</strong>: Fade in + slide up, 800ms, 200ms delay, ease-out</li>   <li><strong>Hero Media</strong>: Fade in + scale(0.95 → 1), 1000ms, 300ms delay, ease-out</li>   <li><strong>Trigger</strong>: Page load</li>   <li><strong>Implementation</strong>: CSS animations, GSAP, Framer Motion, or similar</li> </ul> <h3>Scroll Reveal Animation (Optional)</h3> <ul>   <li><strong>Elements</strong>: Feature cards, testimonial cards, CTA section</li>   <li><strong>Animation</strong>: Fade in + slide up, 600ms</li>   <li><strong>Threshold</strong>: 10% of element visible</li>   <li><strong>Stagger</strong>: 100-150ms between cards in same section</li>   <li><strong>Implementation</strong>: Intersection Observer API</li>   <li><strong>Example</strong>:     <pre><code class=\"language-javascript\">const observer = new IntersectionObserver((entries) => {   entries.forEach(entry => {     if (entry.isIntersecting) {       entry.target.classList.add('visible');     }   }); }, { threshold: 0.1 }); </code></pre>   </li> </ul> <h3>CTA Hover Animation</h3> <ul>   <li><strong>Transform</strong>: <code>scale(1.05)</code> or <code>translateY(-2px)</code></li>   <li><strong>Duration</strong>: 200ms</li>   <li><strong>Shadow</strong>: Increase elevation on hover</li>   <li><strong>Easing</strong>: ease-out</li> </ul> <h3>Navbar Transition (Optional)</h3> <ul>   <li><strong>Properties</strong>: <code>background-color</code>, <code>box-shadow</code></li>   <li><strong>Duration</strong>: 300ms</li>   <li><strong>Easing</strong>: ease-in-out</li>   <li><strong>Trigger</strong>: Scroll > 50px</li> </ul> <h3>Prefers-Reduced-Motion</h3> <p><strong>Implementation</strong>:</p> <pre><code class=\"language-css\">@media (prefers-reduced-motion: reduce) {   * {     animation: none !important;     transition-duration: 0.01ms !important;   } } </code></pre> <p><strong>Behavior</strong>:</p> <ul>   <li>Disable hero entrance animations</li>   <li>Disable scroll-reveal animations</li>   <li>Keep CTA hover (but subtle)</li>   <li>Keep navbar transition</li> </ul> <h2>Testing Checklist</h2> <p>When implementing this landing page, test:</p> <h3>Visual</h3> <ul>   <li>[ ] Hero section looks good on all breakpoints (desktop, tablet, mobile)</li>   <li>[ ] Feature cards aligned in grid (3-4 desktop, 2 tablet, 1 mobile)</li>   <li>[ ] Testimonial cards display correctly</li>   <li>[ ] All images load and scale properly</li>   <li>[ ] CTAs are prominent and stand out</li>   <li>[ ] Footer displays correctly with proper link groups</li> </ul> <h3>Functional</h3> <ul>   <li>[ ] All CTAs link to correct destinations and are clickable</li>   <li>[ ] Forms submit successfully (if present)</li>   <li>[ ] Navbar transitions on scroll (if implemented)</li>   <li>[ ] <strong>CRITICAL: Mobile menu hamburger button works on first click every time</strong></li>   <li>[ ] <strong>CRITICAL: Mobile menu hamburger button tested on real iOS device (Safari)</strong></li>   <li>[ ] <strong>CRITICAL: Mobile menu hamburger button tested on real Android device (Chrome)</strong></li>   <li>[ ] <strong>CRITICAL: Mobile menu button has minimum 44x44px touch target</strong></li>   <li>[ ] Mobile menu opens and closes correctly</li>   <li>[ ] Mobile menu closes when clicking outside (backdrop dismiss)</li>   <li>[ ] Mobile menu closes when pressing Escape key</li>   <li>[ ] Mobile menu works after scrolling the page</li>   <li>[ ] Mobile menu works after window resize</li>   <li>[ ] Mobile menu works with rapid repeated clicks</li>   <li>[ ] Scroll animations trigger at correct positions (if implemented)</li>   <li>[ ] No horizontal scroll on any breakpoint</li>   <li>[ ] No JavaScript errors in browser console</li> </ul> <h3>Accessibility</h3> <ul>   <li>[ ] Keyboard navigation works (Tab through all CTAs and links)</li>   <li>[ ] Focus indicators visible on all interactive elements</li>   <li>[ ] All images have appropriate alt text (descriptive or empty)</li>   <li>[ ] Color contrast verified (4.5:1 minimum)</li>   <li>[ ] One <code>&#x3C;h1></code> per page, logical heading hierarchy</li>   <li>[ ] Screen reader reads content in logical order</li>   <li>[ ] Semantic HTML used (<code>&#x3C;header></code>, <code>&#x3C;main></code>, <code>&#x3C;section></code>, <code>&#x3C;footer></code>)</li>   <li>[ ] Mobile menu has proper ARIA attributes</li> </ul> <h3>Performance</h3> <ul>   <li>[ ] Images optimized and lazy-loaded (except hero)</li>   <li>[ ] Hero image uses <code>loading=\"eager\"</code></li>   <li>[ ] No layout shift on load (CLS score good)</li>   <li>[ ] Fast page load (LCP &#x3C; 2.5s)</li>   <li>[ ] Smooth scroll animations (60fps)</li>   <li>[ ] Responsive images use <code>srcset</code> (optional)</li> </ul> <h3>Responsive</h3> <ul>   <li>[ ] Layout adapts correctly at all breakpoints</li>   <li>[ ] Text is readable on all screen sizes</li>   <li>[ ] Touch targets are at least 44x44px on mobile</li>   <li>[ ] Mobile safe-area respected on notched devices</li>   <li>[ ] No content cut off or overflowing</li> </ul> <h2>Edge Cases</h2> <h3>Mobile Menu Not Working (CRITICAL)</h3> <p>If the mobile hamburger menu works intermittently or not at all, check:</p> <p><strong>Debugging Steps:</strong></p> <ol>   <li>     <p><strong>Check DOM Ready</strong>:</p>     <pre><code class=\"language-javascript\">// Ensure event listener is added after DOM loads document.addEventListener('DOMContentLoaded', () => {   const button = document.querySelector('.mobile-menu-toggle');   if (button) {     button.addEventListener('click', handleMenuToggle);   } }); </code></pre>   </li>   <li>     <p><strong>Verify Z-Index</strong>:</p>     <pre><code class=\"language-css\">.navbar { z-index: 50; } .mobile-menu-toggle { z-index: 60; } /* MUST be higher than navbar */ .mobile-menu { z-index: 100; } /* MUST be higher than button */ </code></pre>   </li>   <li>     <p><strong>Check Touch Target Size</strong>:</p>     <pre><code class=\"language-css\">.mobile-menu-toggle {   min-width: 48px;   min-height: 48px;   /* NOT 44px - use 48px for better reliability */ } </code></pre>   </li>   <li>     <p><strong>Verify Pointer Events</strong>:</p>     <pre><code class=\"language-css\">.mobile-menu-toggle {   pointer-events: auto;   cursor: pointer;   display: flex; /* or block */ } </code></pre>   </li>   <li>     <p><strong>Use Event Propagation Correctly</strong>:</p>     <pre><code class=\"language-javascript\">button.addEventListener('click', (e) => {   e.stopPropagation(); // CRITICAL: prevents immediate close   toggleMenu(); }); </code></pre>   </li>   <li>     <p><strong>Check Browser Console</strong>:</p>     <ul>       <li>Open DevTools Console</li>       <li>Look for JavaScript errors</li>       <li>Add <code>console.log('Menu button clicked')</code> to verify event fires</li>     </ul>   </li>   <li>     <p><strong>Test on Real Devices</strong>:</p>     <ul>       <li>Browser DevTools responsive mode is NOT reliable</li>       <li>Test on actual iOS device (Safari)</li>       <li>Test on actual Android device (Chrome)</li>     </ul>   </li> </ol> <p><strong>Common Issues:</strong></p> <p>   | Issue | Cause | Fix |   |-------|-------|-----|   | Button not clickable | Covered by overlay | Check z-index, ensure <code>pointer-events: auto</code> |   | Works in DevTools, not on device | Touch target too small | Use 48x48px minimum |   | Intermittent failure | Event listener before DOM ready | Use <code>DOMContentLoaded</code> or <code>defer</code> script |   | Menu closes immediately | Document click fires too soon | Use <code>e.stopPropagation()</code> on button |   | Button disappears | Navbar transition affects button | Check CSS transitions on navbar | </p> <h3>Long Headlines</h3> <ul>   <li>Reduce font size on mobile if headline is very long</li>   <li>Ensure text doesn't overflow container</li>   <li>Use <code>word-wrap: break-word</code> if necessary</li> </ul> <h3>Many Features</h3> <ul>   <li>If more than 6 features, consider carousel or tabs</li>   <li>Or use two rows on desktop (6 features = 2 rows of 3)</li> </ul> <h3>No Testimonials</h3> <ul>   <li>Replace section with client logo grid</li>   <li>Or skip testimonials section entirely</li> </ul> <h3>Video Hero</h3> <ul>   <li>Provide fallback image for users who disable autoplay</li>   <li>Mute video by default</li>   <li>Add <code>autoplay muted playsinline</code> attributes</li>   <li>Ensure video doesn't impact page load performance</li> </ul> <h3>Slow Image Loading</h3> <ul>   <li>Show skeleton loaders or placeholders</li>   <li>Use blur-up technique (load tiny blurred image first)</li> </ul> <h3>Form Errors</h3> <ul>   <li>Display clear, accessible error messages</li>   <li>Maintain focus management</li>   <li>Use <code>aria-invalid</code> and <code>aria-describedby</code> for error messages</li> </ul> <h3>Very Small Screens</h3> <ul>   <li>Test on 320px width (iPhone SE, older devices)</li>   <li>Reduce padding if content feels cramped</li> </ul> <hr> <h2>See Also</h2> <p>This landing page layout commonly uses these components:</p> <ul>   <li><strong><a href=\"/potions/components/navbar\">Navbar Component</a></strong> - For the header navigation</li>   <li><strong><a href=\"/potions/features/pricing-table\">Pricing Table Feature</a></strong> - For the pricing section</li> </ul> <p>These are examples of components that work well with landing pages. The layout is flexible and works with any content sections you choose.</p> <hr> <h2>Summary for AI Agents</h2> <p>This landing page layout is a conversion-optimized marketing page with sequential stacked sections. Key implementation points:</p> <ol>   <li><strong>Layout</strong>: Sequential vertical stack (navbar → hero → features → testimonials → CTA → footer)</li>   <li><strong>Scroll Region</strong>: Entire page scrolls naturally (no nested scroll containers)</li>   <li><strong>State</strong>: Track navbar scroll position (optional), mobile menu state, form state (optional)</li>   <li><strong>Responsive</strong>: Mobile-first approach with grid layouts that adapt to breakpoints</li>   <li><strong>Animations</strong>: Optional entrance and scroll-reveal animations (respect prefers-reduced-motion)</li>   <li><strong>Accessibility</strong>: Semantic HTML, clear focus indicators, proper ARIA attributes, alt text on all images</li>   <li><strong>Framework-agnostic</strong>: Adapt patterns to any framework's component model</li> </ol> <p>Generate clean, semantic HTML with proper component separation. Use framework-specific state management patterns and CSS methodology as specified by the user. Ensure all CTAs are conversion-focused with clear, action-oriented text.</p>","excerpt":"A conversion-optimized marketing landing page layout with hero section, feature highlights, social proof, and multiple CTAs. Perfect for product launches, SaaS marketing, and lead generation campaigns.","publicationDate":"2026-01-24","tags":["layouts","landing-page","marketing","hero","feature-highlights","testimonials","cta","responsive","conversion"],"coverImage":""},{"fileName":"layouts/dashboard.html","title":"Dashboard Layout with Collapsible Sidebar","body":"<h1>Dashboard Layout</h1> <p>A responsive admin dashboard layout with collapsible sidebar navigation and a fixed header. Perfect for admin panels, SaaS applications, and data-driven interfaces.</p> <h2>Structure Specification</h2> <h3>Layout Hierarchy</h3> <p>The layout consists of an AppContainer that holds a Sidebar component and a Main Content Wrapper. The Sidebar contains a Logo/Brand Section, Navigation Menu with multiple Nav Items (including active state support), and a Collapse Toggle Button. The Main Content Wrapper includes a fixed Header (with Menu Toggle Button for mobile, Title/Breadcrumbs, and User Actions including Notifications Button and User Menu Dropdown) and a scrollable Content Area for page content.</p> <h2>Detailed Component Specifications</h2> <h3>1. Sidebar Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Desktop (expanded): 240-280px width</li>   <li>Desktop (collapsed): 64-80px width</li>   <li>Mobile: Full screen overlay or hidden</li> </ul> <p><strong>States:</strong></p> <ul>   <li><code>expanded</code> (default on desktop)</li>   <li><code>collapsed</code> (icon-only mode)</li>   <li><code>hidden</code> (mobile default)</li>   <li><code>overlay</code> (mobile when open)</li> </ul> <p><strong>Elements:</strong></p> <h4>Logo/Brand Section</h4> <ul>   <li>Height: 64px (matches header height)</li>   <li>Contains: Logo image/text + app name</li>   <li>Collapsed state: Shows only logo icon</li>   <li>Alignment: Center or left-aligned with padding</li> </ul> <h4>Navigation Items</h4> <ul>   <li>Height: 44-48px each</li>   <li>Padding: 12-16px horizontal, 12px vertical</li>   <li>Icon: 20-24px, positioned left</li>   <li>Text: 14-16px font size</li>   <li>Gap between icon and text: 12-16px</li>   <li>Active state indicator: Background color or left border (3-4px)</li>   <li>Hover state: Subtle background color change</li>   <li>Collapsed state: Center icon only, show tooltip on hover     <ul>       <li>Tooltip trigger: hover</li>       <li>Tooltip position: right</li>       <li>Tooltip delay: 200ms</li>       <li>Fallback: Use <code>aria-label</code> or <code>sr-only</code> text if tooltip library not available</li>     </ul>   </li>   <li>Scrollbar: Custom thin scrollbar (6px width) when many items     <ul>       <li>Dark sidebar: <code>rgba(255, 255, 255, 0.2)</code></li>       <li>Light sidebar: <code>rgba(0, 0, 0, 0.2)</code></li>     </ul>   </li> </ul> <h4>Collapse Toggle</h4> <ul>   <li>Position: Bottom of sidebar or after nav items</li>   <li>Button: Icon button, 40px x 40px</li>   <li>Icon: Chevron or arrows indicating direction</li>   <li>Behavior: Rotates/changes on state</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Persists state in localStorage/session</li>   <li>Smooth transition animation (200-300ms ease-in-out)</li>   <li>On mobile: Overlay with backdrop, dismissible     <ul>       <li>Backdrop click closes sidebar (prevent event bubbling)</li>       <li>Body scroll is locked when sidebar is open (<code>document.body.style.overflow = 'hidden'</code>)</li>       <li>Focus is trapped within sidebar when open</li>       <li>Focus is restored to menu toggle when sidebar closes</li>     </ul>   </li>   <li>Keyboard accessible (Tab navigation, Enter/Space to activate)</li>   <li>Custom scrollbar styling for navigation menu (6px width, subtle color)</li> </ul> <h3>2. Header Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Height: 64px (fixed)</li>   <li>Width: 100% of content area</li>   <li>Width calculation: <code>calc(100% - sidebar-width)</code> or use CSS Grid/Flexbox approach</li>   <li>Position: Fixed or sticky</li> </ul> <p><strong>Layout:</strong></p> <p>The header contains a Menu Toggle button (visible on mobile only, left-aligned), Title/Breadcrumbs section (left-aligned), and User Actions including Notifications button and User Menu (right-aligned).</p> <p><strong>Elements:</strong></p> <h4>Menu Toggle Button (Mobile Only)</h4> <ul>   <li>Size: 40px x 40px</li>   <li>Icon: Hamburger (☰) or close (×) icon</li>   <li>Visibility: Hidden on desktop (≥1024px)</li>   <li>Position: Left-most</li> </ul> <h4>Title/Breadcrumbs Section</h4> <ul>   <li>Font size: 20-24px (title) or 14-16px (breadcrumbs)</li>   <li>Color: Primary text color</li>   <li>Truncate with ellipsis if too long</li> </ul> <h4>Notifications Button</h4> <ul>   <li>Size: 40px x 40px</li>   <li>Icon: Bell</li>   <li>Badge: Red dot or count for unread</li>   <li>Opens dropdown/modal on click</li> </ul> <h4>User Menu</h4> <ul>   <li>Avatar: 36px circle</li>   <li>Username: 14px, optional (can hide on small screens)</li>   <li>Dropdown indicator: Small chevron</li>   <li>Dropdown opens below with:     <ul>       <li>Profile link</li>       <li>Settings link</li>       <li>Logout button</li>     </ul>   </li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Shadow or border-bottom for depth</li>   <li>Remains fixed at top during scroll</li>   <li>Dropdowns close on outside click or escape key</li>   <li>Accessible via keyboard</li> </ul> <h3>3. Main Content Area</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Padding: 24-32px on all sides</li>   <li>Max-width: Optional (e.g., 1400px for better readability)</li>   <li>Min-height: Fill available viewport</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Scrollable (overflow-y: auto)</li>   <li>Margin-top: Header height (64px)</li>   <li>Margin-bottom: Footer height (60px)</li>   <li>Margin-left: Sidebar width (dynamic)</li>   <li>Smooth transition when sidebar toggles</li>   <li>Responsive padding (reduces on mobile to 16px)</li> </ul> <h3>4. Footer Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Height: 60px (fixed)</li>   <li>Width: 100% of content area</li>   <li>Width calculation: <code>calc(100% - sidebar-width)</code> or use CSS Grid/Flexbox approach</li>   <li>Position: Fixed at bottom</li> </ul> <p><strong>Layout:</strong></p> <p>The footer contains a Copyright section on the left and Footer Navigation Links on the right.</p> <p><strong>Elements:</strong></p> <ul>   <li>Copyright: 14px font size</li>   <li>Footer Navigation: Links (Privacy, Terms, Support), 14px, 24px gap between links</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Fixed at bottom, always visible even with minimal content</li>   <li>Adjusts left position based on sidebar state (280px expanded, 80px collapsed on desktop)</li>   <li>Full width (left: 0) on mobile/tablet</li>   <li>Shadow or border-top for depth</li>   <li>Smooth 300ms transition when sidebar toggles</li> </ul> <h2>Responsive Breakpoints</h2> <h3>Desktop (≥1024px)</h3> <ul>   <li>Sidebar: Visible, expanded by default</li>   <li>Header: Full width minus sidebar, left: 280px (80px when collapsed)</li>   <li>Footer: Full width minus sidebar, left: 280px (80px when collapsed)</li>   <li>Content: Fills remaining space between header and footer</li>   <li>Menu toggle: Hidden</li> </ul> <h3>Tablet (768px - 1023px)</h3> <ul>   <li>Sidebar: Collapsed by default or overlay mode</li>   <li>Header: Full width (left: 0)</li>   <li>Footer: Full width (left: 0)</li>   <li>Content: Full width</li>   <li>Menu toggle: Visible</li> </ul> <h3>Mobile (&#x3C;767px)</h3> <ul>   <li>Sidebar: Hidden by default, fullscreen overlay when open</li>   <li>Header: Full width, compact mode (left: 0)</li>   <li>Footer: Full width, compact mode (left: 0)</li>   <li>Content: Full width, reduced padding (16px)</li>   <li>Menu toggle: Visible</li>   <li>User menu: Simplified (avatar only)</li> </ul> <h3>Window Resize Handling</h3> <ul>   <li><strong>Debounce</strong>: 300ms recommended to avoid excessive re-evaluations</li>   <li><strong>Behavior</strong>: Re-evaluate breakpoint on resize, close mobile sidebar if switching to desktop</li>   <li><strong>Implementation</strong>: Add window resize listener with debounce, update breakpoint state, handle sidebar state transitions</li>   <li><strong>Edge case</strong>: Complete current animation before re-evaluating breakpoint on resize</li> </ul> <h2>Interaction Patterns</h2> <h3>Sidebar Toggle</h3> <ol>   <li>User clicks toggle button or menu icon</li>   <li>Sidebar transitions to collapsed/expanded state</li>   <li>Content area adjusts width with smooth animation</li>   <li>State persists across page loads</li>   <li>On mobile: Backdrop appears/disappears</li> </ol> <h3>Active Navigation</h3> <ol>   <li>Current page is highlighted in sidebar</li>   <li>Visual indicator: Background color, border, or icon color</li>   <li>Persist active state on page reload</li>   <li>Support for nested navigation (expandable sections)</li> </ol> <h3>User Dropdown</h3> <ol>   <li>Click avatar/username to open</li>   <li>Dropdown appears below with fade/slide animation</li>   <li>Click outside or press Escape to close</li>   <li>Click item to navigate</li>   <li>Maintain dropdown state during navigation if SPA</li> </ol> <h2>Accessibility Requirements</h2> <h3>WCAG 2.1 Compliance (Level AA Target)</h3> <p>This dashboard layout should meet WCAG 2.1 Level AA standards. Key requirements:</p> <ul>   <li><strong>1.1.1 Non-text Content</strong>: All images have descriptive alt text</li>   <li><strong>1.3.1 Info and Relationships</strong>: Semantic HTML structure with proper roles</li>   <li><strong>1.4.3 Contrast Minimum</strong>: 4.5:1 for normal text, 3:1 for large text (verify with contrast checker)</li>   <li><strong>2.1.1 Keyboard</strong>: All interactive elements keyboard accessible</li>   <li><strong>2.1.2 No Keyboard Trap</strong>: Focus trapping only in mobile sidebar overlay</li>   <li><strong>2.4.2 Page Titled</strong>: Descriptive page title</li>   <li><strong>2.4.3 Focus Order</strong>: Logical tab order throughout</li>   <li><strong>2.4.4 Link Purpose</strong>: Clear link labels, icons have text or aria-label</li>   <li><strong>2.4.7 Focus Visible</strong>: Clear focus indicators on all interactive elements</li>   <li><strong>4.1.2 Name, Role, Value</strong>: All elements have accessible names and roles</li>   <li><strong>4.1.3 Status Messages</strong>: Use aria-live for dynamic content updates (recommended)</li> </ul> <h3>Keyboard Navigation</h3> <p><strong>Tab Order:</strong></p> <ul>   <li>Header → Sidebar → Content → Footer</li> </ul> <p><strong>Implementation:</strong></p> <ul>   <li>Sidebar items: Tab to focus, Enter/Space to activate</li>   <li>Escape key: Close dropdowns and mobile sidebar, restore focus to trigger</li> </ul> <p><strong>Focus Management:</strong></p> <ul>   <li><strong>Focus trap</strong>: Trap focus within sidebar when open on mobile (use focus-trap library or manual implementation)</li>   <li><strong>Focus restoration</strong>: Restore focus to menu toggle button when sidebar closes</li>   <li><strong>Focus visible</strong>: Clear focus indicators (2px solid outline, 2px offset) on all interactive elements</li>   <li><strong>Focus order</strong>: Logical reading order maintained throughout</li> </ul> <h3>ARIA Attributes</h3> <p><strong>Required ARIA Attributes:</strong></p> <ol>   <li>     <p><strong>Sidebar:</strong></p>     <pre><code class=\"language-html\">&#x3C;aside role=\"navigation\" aria-label=\"Main navigation\" aria-hidden=\"false\"> </code></pre>   </li>   <li>     <p><strong>Menu Toggle:</strong></p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Toggle menu\" aria-expanded=\"false\" aria-controls=\"sidebar\"> </code></pre>   </li>   <li>     <p><strong>Sidebar Toggle:</strong></p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Toggle sidebar\" aria-expanded=\"true\"> </code></pre>   </li>   <li>     <p><strong>Active Navigation Item:</strong></p>     <pre><code class=\"language-html\">&#x3C;a href=\"/dashboard\" aria-current=\"page\">Dashboard&#x3C;/a> </code></pre>   </li>   <li>     <p><strong>Notifications Button:</strong></p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Notifications: 3 unread\" aria-haspopup=\"true\" aria-expanded=\"false\">   &#x3C;span class=\"notifications-icon\" aria-hidden=\"true\">🔔&#x3C;/span>   &#x3C;span class=\"notifications-badge\" aria-label=\"3 unread notifications\">3&#x3C;/span> &#x3C;/button> </code></pre>   </li>   <li>     <p><strong>User Menu:</strong></p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"User menu\" aria-haspopup=\"true\" aria-expanded=\"false\" aria-controls=\"userDropdown\"> &#x3C;div class=\"user-dropdown\" id=\"userDropdown\" role=\"menu\">   &#x3C;a href=\"#\" class=\"dropdown-item\" role=\"menuitem\">Profile&#x3C;/a>   &#x3C;a href=\"#\" class=\"dropdown-item\" role=\"menuitem\">Settings&#x3C;/a>   &#x3C;a href=\"#\" class=\"dropdown-item\" role=\"menuitem\">Logout&#x3C;/a> &#x3C;/div> </code></pre>   </li>   <li>     <p><strong>Backdrop:</strong></p>     <pre><code class=\"language-html\">&#x3C;div class=\"backdrop\" aria-hidden=\"true\" role=\"presentation\">&#x3C;/div> </code></pre>   </li>   <li>     <p><strong>Main Content:</strong></p>     <pre><code class=\"language-html\">&#x3C;main id=\"contentArea\" role=\"main\"> </code></pre>   </li> </ol> <p><strong>Dynamic ARIA Updates:</strong></p> <ul>   <li>Update <code>aria-expanded</code> when dropdowns/sidebar open/close</li>   <li>Update <code>aria-hidden</code> for backdrop and mobile sidebar</li>   <li>Update <code>aria-current=\"page\"</code> on active navigation item</li>   <li>Update <code>aria-label</code> on notifications button to include count</li> </ul> <h3>Screen Reader Support</h3> <p><strong>Announcements:</strong></p> <ul>   <li>Announce sidebar state changes (use aria-live region or visually hidden text)</li>   <li>Example: <code>&#x3C;span role=\"status\" class=\"sr-only\">Sidebar opened&#x3C;/span></code></li> </ul> <p><strong>Labels:</strong></p> <ul>   <li>All icon-only buttons must have descriptive <code>aria-label</code></li>   <li>In collapsed state, nav items should have <code>aria-label</code> or sr-only text</li>   <li>Example: <code>&#x3C;span class=\"sr-only\">Dashboard&#x3C;/span></code> or <code>aria-label=\"Dashboard\"</code></li> </ul> <p><strong>Screen Reader Only Text (sr-only class):</strong></p> <pre><code class=\"language-css\">.sr-only {   position: absolute;   width: 1px;   height: 1px;   padding: 0;   margin: -1px;   overflow: hidden;   clip: rect(0, 0, 0, 0);   white-space: nowrap;   border-width: 0; } </code></pre> <p><strong>Badges:</strong></p> <ul>   <li>Notification badge count must be announced</li>   <li>Include count in button <code>aria-label</code>: <code>\"Notifications: 3 unread\"</code></li>   <li>Alternative: Use <code>aria-describedby</code> pointing to badge element</li> </ul> <p><strong>Landmarks:</strong></p> <ul>   <li>Use semantic HTML: <code>&#x3C;nav></code>, <code>&#x3C;main></code>, <code>&#x3C;header></code>, <code>&#x3C;footer></code></li>   <li>Or use ARIA roles: <code>role=\"navigation\"</code>, <code>role=\"main\"</code>, <code>role=\"banner\"</code>, <code>role=\"contentinfo\"</code></li> </ul> <h3>Color Contrast</h3> <p><strong>Requirements:</strong></p> <ul>   <li><strong>WCAG AA</strong>: 4.5:1 for normal text, 3:1 for large text (18pt+ or 14pt+ bold)</li>   <li><strong>WCAG AAA (Recommended)</strong>: 7:1 for important text</li> </ul> <p><strong>Verification:</strong></p> <ul>   <li>Use WebAIM Contrast Checker or similar tool</li>   <li>Test all text/background combinations:     <ul>       <li>Sidebar text on background</li>       <li>Header text on background</li>       <li>Footer text on background</li>       <li>Content text on background</li>       <li>Link text on background</li>       <li>Button text on background</li>       <li>Active nav item text</li>       <li>Focus indicators</li>     </ul>   </li> </ul> <h3>Focus Visible Styles</h3> <p><strong>Implementation:</strong></p> <pre><code class=\"language-css\">button:focus-visible, a:focus-visible, [tabindex]:focus-visible {   outline: 2px solid var(--primary-color);   outline-offset: 2px; }  /* Fallback for older browsers */ button:focus, a:focus, [tabindex]:focus {   outline: 2px solid var(--primary-color);   outline-offset: 2px; } </code></pre> <h3>Accessibility Implementation Checklist</h3> <p>When implementing this dashboard, ensure:</p> <ul>   <li>[ ] All buttons have <code>aria-label</code> or visible text</li>   <li>[ ] All icons have <code>aria-label</code> or sr-only text</li>   <li>[ ] Navigation items have <code>aria-current=\"page\"</code> when active</li>   <li>[ ] Dropdowns have <code>role=\"menu\"</code> and items have <code>role=\"menuitem\"</code></li>   <li>[ ] All interactive elements have <code>aria-expanded</code> when applicable</li>   <li>[ ] Notifications badge count included in button <code>aria-label</code></li>   <li>[ ] Focus visible on all interactive elements</li>   <li>[ ] Focus trapped in mobile sidebar</li>   <li>[ ] Focus restored when sidebar closes</li>   <li>[ ] <code>aria-hidden</code> managed correctly for backdrop and mobile sidebar</li>   <li>[ ] <code>aria-live</code> regions for dynamic content (optional but recommended)</li>   <li>[ ] Color contrast verified with contrast checker tool</li>   <li>[ ] Keyboard navigation works throughout</li>   <li>[ ] Screen reader tested with NVDA, VoiceOver, or JAWS</li> </ul> <h2>Design System Specifications</h2> <p><strong>Important</strong>: The design specifications below are tool-agnostic and should be implemented using your project's chosen styling approach (Tailwind, CSS Modules, styled-components, Chakra UI, Material-UI, SCSS, etc.). The styling examples in the \"Code Implementation Patterns\" section show how to apply these design values, but these specifications are the source of truth for the design.</p> <h3>Color Guidelines</h3> <h4>Sidebar</h4> <ul>   <li><strong>Background (Light)</strong>: Dark neutral (e.g., #1f2937, #111827) or white (#ffffff) with subtle border</li>   <li><strong>Background (Dark)</strong>: #1a1a1a or #0f172a</li>   <li><strong>Text (Light)</strong>: High contrast white (#ffffff) or light gray (#f3f4f6) on dark background</li>   <li><strong>Text (Dark)</strong>: #e0e0e0 or #f1f5f9</li>   <li><strong>Active Item</strong>: Primary color at 10-20% opacity overlay, or solid primary color. Text in primary color or white if using solid background</li>   <li><strong>Hover</strong>: Subtle background change (5-10% opacity overlay of primary or neutral) with smooth 150ms transition</li>   <li><strong>Icons</strong>: Match text color by default, primary color or white when active</li>   <li><strong>Contrast</strong>: Minimum 4.5:1 contrast ratio (WCAG AA)</li> </ul> <h4>Header</h4> <ul>   <li><strong>Background (Light)</strong>: White (#ffffff) or very light gray (#f9fafb)</li>   <li><strong>Background (Dark)</strong>: #1a1a1a or #0f172a</li>   <li><strong>Border/Shadow</strong>: 1px solid border-bottom or subtle box-shadow (rgba(0, 0, 0, 0.05) to rgba(0, 0, 0, 0.1) for light, rgba(255, 255, 255, 0.1) for dark)</li>   <li><strong>Text (Light)</strong>: Dark gray (#111827, #1f2937) or black (#000000)</li>   <li><strong>Text (Dark)</strong>: #e0e0e0 or #f1f5f9</li>   <li><strong>Icons</strong>: Medium gray (#6b7280, #9ca3af) by default, darker gray (#374151) or primary color on hover</li> </ul> <h4>Footer</h4> <ul>   <li><strong>Background</strong>: Match header (white or light gray for light mode, #1a1a1a for dark mode)</li>   <li><strong>Border</strong>: 1px solid border-top or subtle box-shadow on top (same colors as header)</li>   <li><strong>Text</strong>: Muted dark gray (rgba(0, 0, 0, 0.6) or #6b7280) for light, muted light gray (rgba(255, 255, 255, 0.6) or #9ca3af) for dark</li>   <li><strong>Links</strong>: Match footer text color by default, primary color or darker/lighter variant on hover</li> </ul> <h4>Content Area</h4> <ul>   <li><strong>Background (Light)</strong>: Light gray (#f5f5f5, #f9fafb) or white (#ffffff)</li>   <li><strong>Background (Dark)</strong>: #121212 or #0f172a</li>   <li><strong>Text (Light)</strong>: Dark gray (#111827, #1f2937, #1a1a1a)</li>   <li><strong>Text (Dark)</strong>: #e0e0e0 or #f1f5f9</li>   <li><strong>Contrast</strong>: Ensure 4.5:1 contrast ratio minimum (WCAG AA), 7:1 recommended for important text (WCAG AAA)</li> </ul> <h4>Mobile Backdrop</h4> <ul>   <li><strong>Background</strong>: rgba(0, 0, 0, 0.5) to rgba(0, 0, 0, 0.75)</li>   <li><strong>Optional</strong>: backdrop-filter: blur(4px) for modern browsers</li> </ul> <h3>Typography</h3> <ul>   <li><strong>Font Family</strong>: Use project's font stack (typically: system-ui, -apple-system, sans-serif or custom font)</li>   <li><strong>Sidebar Nav Items</strong>: 14-16px, medium weight (500-600)</li>   <li><strong>Sidebar Logo</strong>: 18-24px, bold (700)</li>   <li><strong>Header Title</strong>: 20-24px, semibold (600) or bold (700)</li>   <li><strong>Header Breadcrumbs</strong>: 14-16px, regular (400) or medium (500)</li>   <li><strong>Footer Text</strong>: 14px, regular (400)</li>   <li><strong>Content Body</strong>: 16px, regular (400)</li>   <li><strong>Content Headings</strong>: Use semantic heading sizes (h1: 32-36px, h2: 24-28px, etc.)</li>   <li><strong>Line Height</strong>: 1.25 for headings, 1.5 for body text, 1.75 for long-form content</li> </ul> <h3>Spacing System</h3> <p>Use consistent spacing scale (4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px) or your project's spacing system:</p> <ul>   <li><strong>Sidebar</strong>: 16px horizontal padding, 12px vertical padding for nav items, 12-16px gap between icon and text, 24-32px gap between sections</li>   <li><strong>Header</strong>: 16-24px horizontal padding, 16-24px gap between elements</li>   <li><strong>Footer</strong>: 16-24px horizontal padding, 24px gap between links</li>   <li><strong>Content</strong>: 24-32px padding on all sides (desktop), 16px (mobile), optional max-width 1400px for better readability</li> </ul> <h3>Shadows &#x26; Elevation</h3> <p>Use subtle shadows for depth and separation:</p> <ul>   <li><strong>Header Shadow (Light)</strong>: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)</li>   <li><strong>Header Shadow (Dark)</strong>: 0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2)</li>   <li><strong>Footer Shadow (Light)</strong>: 0 -1px 3px rgba(0, 0, 0, 0.1), 0 -1px 2px rgba(0, 0, 0, 0.06)</li>   <li><strong>Footer Shadow (Dark)</strong>: 0 -1px 3px rgba(0, 0, 0, 0.3), 0 -1px 2px rgba(0, 0, 0, 0.2)</li>   <li><strong>Dropdowns (Light)</strong>: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)</li>   <li><strong>Dropdowns (Dark)</strong>: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -2px rgba(0, 0, 0, 0.2)</li> </ul> <h3>Border Radius</h3> <ul>   <li><strong>Buttons</strong>: 6-8px</li>   <li><strong>Dropdowns</strong>: 8-12px</li>   <li><strong>Avatars</strong>: 50% (circle)</li>   <li><strong>Badges</strong>: 12-16px (pill shape) or 4-6px (rounded square)</li>   <li><strong>Cards</strong>: 8-12px (if used in content)</li> </ul> <h3>Visual Hierarchy Principles</h3> <ol>   <li>Sidebar should be visually distinct from content (different background or border)</li>   <li>Header and footer should have subtle elevation (shadow or border) to separate from content</li>   <li>Active navigation items should be clearly highlighted</li>   <li>Hover states should provide clear feedback</li>   <li>Icons and text should maintain proper visual balance</li>   <li>Spacing should create clear grouping and hierarchy</li>   <li>Interactive elements should have clear visual feedback on hover/focus states</li> </ol> <h2>State Management Considerations</h2> <h3>For AI Agents to Implement</h3> <p><strong>State to Track:</strong></p> <ol>   <li><code>sidebarOpen: boolean</code> - Whether sidebar is visible (mobile)</li>   <li><code>sidebarCollapsed: boolean</code> - Whether sidebar is in icon-only mode (desktop)</li>   <li><code>activeNavItem: string</code> - Current active navigation item ID     <ul>       <li><strong>Determination</strong>: Sync with router current route or URL hash, update on navigation</li>     </ul>   </li>   <li><code>userMenuOpen: boolean</code> - User dropdown state</li>   <li><code>notificationsOpen: boolean</code> - Notifications dropdown state</li>   <li><code>notifications: array</code> - List of notifications with unread count</li> </ol> <p><strong>State Persistence:</strong></p> <ul>   <li><code>sidebarCollapsed</code> → localStorage</li>   <li><code>activeNavItem</code> → Sync with router/URL</li>   <li>Other dropdown states → Component state only (don't persist)</li> </ul> <h3>SSR/Hydration Considerations</h3> <ul>   <li><strong>localStorage access</strong>: Only access localStorage in <code>onMounted</code>/<code>useEffect</code>, check for <code>window</code> object existence</li>   <li><strong>Default state</strong>: Use <code>false</code> as default for <code>sidebarCollapsed</code>, update after mount to prevent hydration mismatches</li>   <li><strong>Implementation</strong>: Check <code>typeof window !== 'undefined'</code> before accessing localStorage, initialize state after component mount</li>   <li><strong>React Note</strong>: Extract localStorage logic into a <code>useLocalStorage</code> custom hook rather than putting it directly in <code>useEffect</code></li> </ul> <h2>Critical Implementation Guidelines</h2> <h3>Vanilla CSS Detection</h3> <p><strong>CRITICAL</strong>: When detecting vanilla CSS in the project, ALWAYS create CSS classes in a stylesheet. NEVER use inline style attributes on HTML elements.</p> <ul>   <li>Define classes like <code>.sidebar</code>, <code>.sidebar--collapsed</code>, <code>.header</code>, <code>.header--shifted</code>, etc. in your CSS file</li>   <li>Apply classes via <code>className</code>/<code>class</code> attributes: <code>&#x3C;aside class=\"sidebar sidebar--collapsed\"></code></li>   <li>Do NOT use: <code>&#x3C;aside style=\"width: 80px\"></code></li>   <li>This ensures maintainability, reusability, and proper separation of concerns</li> </ul> <h3>React Hook Patterns</h3> <p><strong>CRITICAL</strong>: When detecting React, extract logic from <code>useEffect</code> hooks into separate custom hooks that do ONE thing each.</p> <ul>   <li>Instead of one <code>useEffect</code> handling multiple concerns (localStorage + scroll lock + focus trap), create separate hooks:     <ul>       <li><code>useLocalStorage(key, defaultValue)</code> - Handles localStorage persistence only</li>       <li><code>useBodyScrollLock(isLocked)</code> - Handles body scroll locking only</li>       <li><code>useFocusTrap(containerRef, isActive)</code> - Handles focus trapping only</li>       <li><code>useSidebarState()</code> - Manages sidebar state only</li>     </ul>   </li>   <li>This improves code organization, testability, and reusability</li>   <li>Each hook should have a single responsibility</li> </ul> <h2>Code Implementation Patterns</h2> <h3>React Example Pattern</h3> <pre><code class=\"language-jsx\">// Suggested component structure &#x3C;DashboardLayout>   &#x3C;Sidebar      collapsed={collapsed}     onToggle={handleToggle}     activeItem={activeRoute}     navItems={navigationConfig}   />   &#x3C;MainContent>     &#x3C;Header        onMenuToggle={handleMobileMenuToggle}       user={currentUser}       notifications={notifications}     />     &#x3C;ContentArea>       {children}     &#x3C;/ContentArea>   &#x3C;/MainContent> &#x3C;/DashboardLayout> </code></pre> <h3>Angular Example Pattern</h3> <pre><code class=\"language-html\">&#x3C;!-- Suggested template structure --> &#x3C;app-dashboard-layout>   &#x3C;app-sidebar     [collapsed]=\"isCollapsed\"     [activeItem]=\"activeRoute\"     (toggle)=\"onSidebarToggle()\"   />   &#x3C;div class=\"main-content\">     &#x3C;app-header       [user]=\"currentUser\"       (menuToggle)=\"onMobileMenuToggle()\"     />     &#x3C;main class=\"content-area\">       &#x3C;router-outlet>&#x3C;/router-outlet>     &#x3C;/main>   &#x3C;/div> &#x3C;/app-dashboard-layout> </code></pre> <h3>Vue Example Pattern</h3> <pre><code class=\"language-vue\">&#x3C;!-- Suggested component structure --> &#x3C;template>   &#x3C;DashboardLayout>     &#x3C;Sidebar       :collapsed=\"isCollapsed\"       :active-item=\"activeRoute\"       @toggle=\"handleToggle\"     />     &#x3C;MainContent>       &#x3C;HeaderBar         :user=\"currentUser\"         @menu-toggle=\"handleMobileMenuToggle\"       />       &#x3C;ContentArea>         &#x3C;slot />       &#x3C;/ContentArea>     &#x3C;/MainContent>   &#x3C;/DashboardLayout> &#x3C;/template> </code></pre> <h3>CSS/Styling Approaches</h3> <p><strong>Note</strong>: The examples below show how to implement the design specifications using different styling tools. Always refer to the \"Design System Specifications\" section above for the authoritative design values, then adapt them to your project's styling approach.</p> <h4>Tailwind CSS Pattern</h4> <pre><code class=\"language-html\">&#x3C;!-- Sidebar --> &#x3C;aside class=\"fixed left-0 top-0 h-full w-[280px] bg-gray-900 text-white transition-all duration-300 ease-in-out md:translate-x-0\"         :class=\"{'w-20': collapsed, '-translate-x-full': !mobileOpen}\">   &#x3C;!-- Content --> &#x3C;/aside>  &#x3C;!-- Header --> &#x3C;header class=\"fixed top-0 h-16 bg-white shadow-sm transition-all duration-300\"         :class=\"{'left-[280px]': !collapsed, 'left-20': collapsed}\">   &#x3C;!-- Content --> &#x3C;/header>  &#x3C;!-- Footer --> &#x3C;footer class=\"fixed bottom-0 h-[60px] bg-white shadow-sm transition-all duration-300\"         :class=\"{'left-[280px]': !collapsed, 'left-20': collapsed}\">   &#x3C;!-- Content --> &#x3C;/footer>  &#x3C;!-- Main Content --> &#x3C;main class=\"transition-all duration-300 pt-16 pb-[60px]\"       :class=\"{'ml-[280px]': !collapsed, 'ml-20': collapsed}\">   &#x3C;!-- Content --> &#x3C;/main> </code></pre> <p><strong>Note</strong>: Use arbitrary values like <code>w-[280px]</code> instead of <code>w-64</code> (256px) to match exact design specifications. Use <code>pb-[60px]</code> instead of <code>pb-15</code> (which doesn't exist in Tailwind). Map design system color values to Tailwind color palette or use arbitrary values like <code>bg-[#1f2937]</code>.</p> <h4>Vanilla CSS Pattern</h4> <pre><code class=\"language-css\">/* CRITICAL: Always create CSS classes, never use inline styles */ /* Apply design system values directly */ .sidebar {   position: fixed;   left: 0;   top: 0;   height: 100vh;   width: 280px;   background: #1f2937; /* From design system */   color: #ffffff; /* From design system */   transition: width 300ms cubic-bezier(0.4, 0, 0.2, 1);   box-shadow: 2px 0 8px rgba(0, 0, 0, 0.05); /* From design system */ }  .sidebar.collapsed {   width: 80px; }  .header {   position: fixed;   top: 0;   left: 280px;   right: 0;   height: 64px;   background: #ffffff; /* From design system */   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06); /* From design system */   transition: left 300ms cubic-bezier(0.4, 0, 0.2, 1); }  .header.sidebarCollapsed {   left: 80px; }  .content {   margin-top: 64px;   margin-bottom: 60px;   margin-left: 280px;   padding: 24px; /* From design system spacing */   background: #f5f5f5; /* From design system */   transition: margin-left 300ms cubic-bezier(0.4, 0, 0.2, 1); }  .content.sidebarCollapsed {   margin-left: 80px; } </code></pre> <h4>Material-UI/Chakra Pattern</h4> <ul>   <li>Use Drawer component for sidebar (persistent variant on desktop, temporary on mobile)</li>   <li>Use AppBar for header with elevation</li>   <li>Use Box/Container for main content with appropriate margins</li>   <li><strong>Extend theme</strong> with design system color values, spacing scale, and typography settings</li>   <li>Use theme.transitions for consistent animations matching design system specifications</li>   <li>Leverage theme breakpoints for responsive behavior</li>   <li><strong>Customize colors, spacing, and typography</strong> to match design system specifications</li> </ul> <h2>Animation Specifications</h2> <h3>Sidebar Toggle Animation</h3> <ul>   <li>Duration: 300ms</li>   <li>Easing: cubic-bezier(0.4, 0, 0.2, 1)</li>   <li>Properties:     <ul>       <li>Sidebar: <code>width</code>, <code>transform</code></li>       <li>Header: <code>left</code></li>       <li>Footer: <code>left</code></li>       <li>Content: <code>margin-left</code></li>     </ul>   </li>   <li>Performance:     <ul>       <li>Prefer <code>transform</code> over <code>width</code>/<code>left</code> for better performance when possible</li>       <li>Set <code>will-change: transform</code> on animating elements</li>       <li>Use <code>transform3d(0,0,0)</code> to trigger GPU acceleration if needed</li>     </ul>   </li> </ul> <h3>Mobile Overlay</h3> <ul>   <li>Backdrop fade: 200ms</li>   <li>Sidebar slide: 300ms from left</li>   <li>Stagger: Backdrop starts first, sidebar follows</li> </ul> <h3>Dropdown Animations</h3> <ul>   <li>Duration: 150-200ms</li>   <li>Easing: ease-out</li>   <li>Transform: translateY(-8px) → translateY(0)</li>   <li>Opacity: 0 → 1</li> </ul> <h2>Z-Index Layer System</h2> <p>To ensure proper layering of elements:</p> <ul>   <li><strong>Backdrop</strong>: 40</li>   <li><strong>Sidebar</strong>: 50</li>   <li><strong>Header</strong>: 40</li>   <li><strong>Footer</strong>: 40</li>   <li><strong>Dropdowns</strong>: 50</li>   <li><strong>Tooltips</strong>: 60</li> </ul> <h2>Implementation Details</h2> <h3>Body Scroll Lock (Mobile)</h3> <ul>   <li><strong>When</strong>: Mobile sidebar is open</li>   <li><strong>How</strong>: Set <code>document.body.style.overflow = 'hidden'</code></li>   <li><strong>Cleanup</strong>: Restore on close (<code>document.body.style.overflow = ''</code>)</li> </ul> <h3>Focus Management</h3> <ul>   <li><strong>Focus trap</strong>: Trap focus within sidebar when open on mobile (use focus-trap library or manual implementation)</li>   <li><strong>Focus restoration</strong>: Return focus to trigger button (menu toggle) when sidebar closes</li> </ul> <h3>Backdrop Click</h3> <ul>   <li>Close sidebar when backdrop is clicked</li>   <li>Prevent event bubbling to avoid closing immediately after opening</li> </ul> <h2>Edge Cases</h2> <h3>Long Navigation Labels</h3> <ul>   <li>Truncate with ellipsis, show tooltip on hover</li>   <li>Maintain min-width for icons</li> </ul> <h3>Many Navigation Items</h3> <ul>   <li>Sidebar should scroll, maintain scroll position when toggling collapsed state</li>   <li>Use custom scrollbar styling (6px width, subtle color)</li> </ul> <h3>Rapid Toggling</h3> <ul>   <li>Debounce or disable toggle during transition to prevent animation conflicts</li> </ul> <h3>Window Resize During Animation</h3> <ul>   <li>Complete current animation before re-evaluating breakpoint</li> </ul> <h3>Very Small Screens</h3> <ul>   <li>Consider further reducing padding/spacing on screens &#x3C; 320px</li> </ul> <h3>Content Overflow</h3> <ul>   <li>Ensure content doesn't overflow horizontally when sidebar collapses</li> </ul> <h2>Common Variations</h2> <h3>With Top Navigation</h3> <ul>   <li>Add secondary horizontal navigation below header</li>   <li>Sticky behavior on scroll</li>   <li>Breadcrumbs integration</li> </ul> <h3>With Footer</h3> <ul>   <li>Footer inside content area or fixed at bottom</li>   <li>Adjust content area min-height to push footer down</li> </ul> <h3>With Multiple Sidebars</h3> <ul>   <li>Right sidebar for contextual actions/filters</li>   <li>Coordinate toggle states</li>   <li>Consider collapsing both on smaller screens</li> </ul> <h3>Dark Mode</h3> <ul>   <li>Darker sidebar background (#1a1a1a)</li>   <li>Dark content background (#121212)</li>   <li>Lighter text colors (#e0e0e0)</li>   <li>Adjust shadows to lighter colors</li>   <li>Reduce color saturation slightly</li> </ul> <h2>Testing Checklist</h2> <p>When implementing this layout, test:</p> <ul>   <li>[ ] Sidebar toggles smoothly on desktop</li>   <li>[ ] Sidebar opens as overlay on mobile</li>   <li>[ ] Mobile backdrop dismisses sidebar</li>   <li>[ ] Body scroll is locked when mobile sidebar is open</li>   <li>[ ] Focus is trapped within mobile sidebar</li>   <li>[ ] Focus is restored to menu toggle when sidebar closes</li>   <li>[ ] Content area adjusts to sidebar state</li>   <li>[ ] Header stays fixed on scroll and adjusts to sidebar state</li>   <li>[ ] Footer stays fixed at bottom and adjusts to sidebar state</li>   <li>[ ] Footer is always visible even with minimal content</li>   <li>[ ] Content area has proper spacing for header (margin-top: 64px) and footer (margin-bottom: 60px)</li>   <li>[ ] Active navigation item is highlighted</li>   <li>[ ] User dropdown opens and closes correctly</li>   <li>[ ] Keyboard navigation works throughout</li>   <li>[ ] Screen reader announces state changes</li>   <li>[ ] Sidebar state persists on reload</li>   <li>[ ] No horizontal scroll when sidebar collapses</li>   <li>[ ] Responsive at all breakpoints (mobile, tablet, desktop)</li>   <li>[ ] Window resize handling works correctly (debounced, closes mobile sidebar on desktop switch)</li>   <li>[ ] Touch interactions work on mobile</li>   <li>[ ] Animations are smooth (60fps)</li>   <li>[ ] No layout shift or flicker on load</li>   <li>[ ] SSR/hydration safe (localStorage accessed after mount)</li>   <li>[ ] Long navigation labels are truncated properly</li>   <li>[ ] Many navigation items scroll correctly in sidebar</li> </ul> <h2>AI Agent Implementation Prompt Template</h2> <p>Use this template when asking an AI agent to implement this dashboard:</p> <pre><code>Create a responsive dashboard layout with the following specifications:  1. Sidebar:     - Fixed position, 280px wide when expanded, 80px when collapsed    - Collapsible with toggle button    - Contains logo and navigation menu with icons    - Overlay mode on mobile (&#x3C;768px)    - Persist collapsed state in localStorage  2. Header:    - Fixed at top, 64px height    - Contains mobile menu toggle, title, notifications button, and user dropdown    - Adjusts left margin based on sidebar state  3. Content Area:    - Scrollable main content    - 24px padding    - Adjusts margin based on sidebar state    - Smooth transitions (300ms)  4. Use [Framework: React/Angular/Vue] with [Styling: Tailwind/Chakra/CSS Modules]  5. Include:    - Smooth animations    - Keyboard accessibility    - ARIA labels    - Mobile-responsive behavior    - Active state for current page  Reference: UI Potion Dashboard Layout </code></pre> <h2>Additional Resources</h2> <h3>Navigation Configuration Example</h3> <pre><code class=\"language-javascript\">const navigationItems = [   { id: 'dashboard', label: 'Dashboard', icon: 'ChartIcon', href: '/' },   { id: 'analytics', label: 'Analytics', icon: 'TrendingUpIcon', href: '/analytics' },   { id: 'users', label: 'Users', icon: 'UsersIcon', href: '/users' },   { id: 'settings', label: 'Settings', icon: 'SettingsIcon', href: '/settings' }, ]; </code></pre> <h3>Notification Data Structure</h3> <pre><code class=\"language-javascript\">const notifications = [   { id: 1, title: 'New user registered', time: '5 min ago', unread: true },   { id: 2, title: 'Report generated', time: '1 hour ago', unread: false }, ]; </code></pre> <hr> <h2>See Also</h2> <p>This dashboard layout commonly uses these components:</p> <ul>   <li><strong><a href=\"/potions/components/navbar\">Navbar Component</a></strong> - For the header navigation bar</li>   <li><strong><a href=\"/potions/components/data-table\">Data Table Component</a></strong> - For displaying tabular data in the main content area</li>   <li><strong><a href=\"/potions/components/dropdown-select\">Dropdown/Select Component</a></strong> - For filters, settings, and data selection in dashboard controls</li>   <li><strong><a href=\"/potions/components/dialog\">Dialog Component</a></strong> - For modals and action confirmations</li>   <li><strong><a href=\"/potions/components/toast-notifications\">Toast Notifications</a></strong> - For user feedback messages</li> </ul> <p>These are examples of components that pair well with dashboards. The layout works with any content you choose.</p> <hr> <h2>Summary for AI Agents</h2> <p>This dashboard layout is a standard three-section layout (sidebar, header, content) with collapsible sidebar functionality. Key implementation points:</p> <ol>   <li><strong>Layout</strong>: CSS Grid or Flexbox with fixed positioning for sidebar and header</li>   <li><strong>State</strong>: Track sidebar collapse state, persist in localStorage</li>   <li><strong>Responsive</strong>: Sidebar becomes overlay on mobile, header spans full width</li>   <li><strong>Animations</strong>: 300ms transitions on width/margin changes</li>   <li><strong>Accessibility</strong>: ARIA labels, keyboard navigation, focus management</li>   <li><strong>Framework-agnostic</strong>: Adapt patterns to any framework's component model</li> </ol> <p>Generate clean, semantic HTML with proper component separation. Use framework-specific state management patterns and CSS methodology as specified by the user.</p>","excerpt":"A responsive admin dashboard layout with collapsible sidebar navigation and fixed header. Perfect for admin panels, SaaS applications, and data-driven interfaces.","publicationDate":"2026-01-10","tags":["layouts","dashboard","sidebar","responsive","admin"],"coverImage":""},{"fileName":"layouts/ai-agent-chat.html","title":"AI Agent Chat Layout","body":"<h1>AI Agent Chat Layout</h1> <p>A responsive AI agent chat interface layout with message history, input area, typing indicators, and conversation management. Perfect for AI assistants, chatbots, and conversational interfaces.</p> <h2>Structure Specification</h2> <h3>Layout Hierarchy</h3> <p>The layout consists of an optional Sidebar (conversation list and agent selector) and a Main Chat Area. The Main Chat Area contains a fixed Header (agent info and actions), a scrollable Message List (conversation history), and a fixed Input Area (message composition with send button and quick actions).</p> <h2>Detailed Component Specifications</h2> <h3>1. Sidebar Component (Optional)</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Desktop: 280-320px width</li>   <li>Mobile: Full screen overlay or hidden</li>   <li>Collapsed state: 0px (completely hidden)</li> </ul> <p><strong>States:</strong></p> <ul>   <li><code>expanded</code> (default on desktop)</li>   <li><code>hidden</code> (mobile default)</li>   <li><code>overlay</code> (mobile when open)</li> </ul> <p><strong>Elements:</strong></p> <h4>Conversation List</h4> <ul>   <li>Scrollable list of past conversations</li>   <li>Each item: Title, timestamp, last message preview</li>   <li>Height: 64-72px per conversation item</li>   <li>Active conversation: Highlighted background or left border indicator</li>   <li>New conversation button: Fixed at top or bottom</li> </ul> <h4>Agent Selector</h4> <ul>   <li>Dropdown or list of available AI agents</li>   <li>Shows agent name, avatar, and status</li>   <li>Status indicators: Online, offline, busy</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Mobile: Overlay with backdrop, dismissible</li>   <li>Backdrop click closes sidebar (prevent event bubbling)</li>   <li>Smooth transition animation (250ms ease-out)</li>   <li>Persist open/closed state in localStorage (optional)</li> </ul> <p><strong>Closing the sidebar:</strong> When the sidebar is open, users must always have a visible way to close it at every viewport size. Provide at least one: a dedicated close control in the sidebar (e.g. in the header), or a header control that both opens and closes the sidebar. Do not hide or remove the close option on desktop. The close action should be keyboard-accessible and have an accessible name for screen readers.</p> <p><strong>Layout space (critical):</strong> When the sidebar is visible on desktop, the main chat area must have left margin (or margin-inline-start) equal to the sidebar width (280-320px) so the sidebar never overlaps the main content. Do not rely on z-index alone; reserve layout space. When the sidebar is closed or in overlay mode (mobile/tablet), use zero margin. Sidebar visibility must be tied to open/closed state on all breakpoints.</p> <h3>2. Header Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Height: 56-64px (fixed)</li>   <li>Width: 100% of chat area</li>   <li>Position: Fixed or sticky at top</li> </ul> <p><strong>Layout:</strong></p> <p>The header contains a Menu Toggle button (visible when sidebar is collapsible), Agent Info section (avatar, name, status), and Header Actions (settings, clear chat, etc.) on the right.</p> <p><strong>Elements:</strong></p> <h4>Menu Toggle Button (Optional)</h4> <ul>   <li>Size: 40px x 40px</li>   <li>Icon: Hamburger or sidebar toggle icon</li>   <li>Visibility: Hidden when sidebar is always visible</li>   <li>Position: Left-most</li> </ul> <h4>Agent Info Section</h4> <ul>   <li>Avatar: 36-40px circle</li>   <li>Agent Name: 16-18px, medium weight</li>   <li>Status Indicator: 8-10px colored dot (green for online, gray for offline)</li>   <li>Status Text: 12-14px, muted color (optional)</li> </ul> <h4>Header Actions</h4> <ul>   <li>Settings/Options button: 40px icon button</li>   <li>Clear conversation button: 40px icon button (with confirmation)</li>   <li>Additional actions as needed</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Shadow or border-bottom for depth</li>   <li>Remains fixed at top during scroll</li>   <li>Dropdowns close on outside click or escape key</li>   <li>Accessible via keyboard</li> </ul> <h3>3. Message List Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Padding: 16-24px horizontal, 16-24px vertical</li>   <li>Padding-bottom: At least 24-32px so the last message or welcome content does not sit directly under the input area</li>   <li>Max-width: 768-900px (centered for readability)</li>   <li>Spacing between messages: 16-24px</li> </ul> <p><strong>Layout:</strong></p> <ul>   <li>Vertical stack of messages</li>   <li>User messages: Right-aligned or right side</li>   <li>Agent messages: Left-aligned or left side</li>   <li>Timestamps: Below each message or grouped by date</li> </ul> <p><strong>Elements:</strong></p> <h4>Message Bubble</h4> <ul>   <li>Border radius: 16-20px (user: 16-20px, 16-20px, 4-8px, 16-20px; agent: 16-20px, 16-20px, 16-20px, 4-8px)</li>   <li>Max-width: 75-85% of container</li>   <li>Padding: 12-16px</li>   <li>Font size: 14-16px</li>   <li>Line height: 1.5-1.6</li> </ul> <p><strong>User Message Styling:</strong></p> <ul>   <li>Background: Primary brand color or dark neutral</li>   <li>Text: White or high contrast</li>   <li>Alignment: Flex-end (right side)</li> </ul> <p><strong>Agent Message Styling:</strong></p> <ul>   <li>Background: Light gray or subtle color</li>   <li>Text: Dark text on light background</li>   <li>Alignment: Flex-start (left side)</li>   <li>May include agent avatar</li> </ul> <h4>Message Content</h4> <ul>   <li>Text content with proper formatting</li>   <li>Code blocks: Monospace font, darker background, rounded corners</li>   <li>Links: Underlined or colored text</li>   <li>Lists: Proper indentation and bullets</li> </ul> <h4>Timestamp</h4> <ul>   <li>Font size: 11-12px</li>   <li>Color: Muted gray</li>   <li>Format: Relative time (\"2 min ago\") or absolute time</li>   <li>Position: Below message or in tooltip</li> </ul> <h4>Date Dividers</h4> <ul>   <li>Show date between messages from different days</li>   <li>Centered text: 12-14px, uppercase, letter-spacing</li>   <li>Optional horizontal lines on sides</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Auto-scroll to bottom on new messages</li>   <li>Smooth scroll animation when scrolling to specific message</li>   <li>Infinite scroll or pagination for loading older messages</li>   <li>Message selection and actions (copy, delete)</li>   <li>Empty state: Welcome message or prompt suggestions</li> </ul> <h3>4. Typing Indicator Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Height: 32-40px</li>   <li>Width: auto (fits content)</li>   <li>Margin: 8-12px from last message</li> </ul> <p><strong>Elements:</strong></p> <h4>Animated Dots</h4> <ul>   <li>Three dots in a row</li>   <li>Size: 8-10px each</li>   <li>Animation: Sequential bounce or fade (1.4s cycle)</li>   <li>Color: Muted text color</li> </ul> <h4>Typing Text (Optional)</h4> <ul>   <li>\"Agent is typing...\" or similar</li>   <li>Font size: 12-14px</li>   <li>Color: Muted gray</li>   <li>Position: Below or beside dots</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Appears when agent is generating response</li>   <li>Disappears when message arrives</li>   <li>Smooth fade in/out animation (200ms)</li>   <li>Cancel animation if typing stops abruptly</li> </ul> <h3>5. Input Area Component</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Min-height: 56-72px</li>   <li>Max-height: 200-256px (for multiline expansion)</li>   <li>Padding: 12-16px on all sides (minimum 16px recommended)</li>   <li>Position: Fixed at bottom</li> </ul> <p><strong>Spacing (critical):</strong> Provide clear white space on all sides so the input is not flush with the viewport. Bottom padding must include env(safe-area-inset-bottom) on mobile (e.g. calc(16px + env(safe-area-inset-bottom))). Use at least 12px gap between the text input and the send button. Ensure the message list above has sufficient padding-bottom so content does not appear to sit under the input area.</p> <p><strong>Layout:</strong></p> <p>The input area contains Quick Action Chips (optional, above input), the Text Input field (expandable textarea), Attachment Button (left of input), and Send Button (right of input).</p> <p><strong>Elements:</strong></p> <h4>Quick Action Chips (Optional)</h4> <ul>   <li>Position: Above text input, horizontal scroll</li>   <li>Chip height: 32-36px</li>   <li>Padding: 8-16px horizontal</li>   <li>Border radius: 16-18px (pill shape)</li>   <li>Background: Light or transparent with border</li>   <li>Text: 13-14px</li>   <li>Behavior: Click to insert text into input</li>   <li>Examples: \"Summarize this\", \"Explain like I'm 5\", \"Make it shorter\"</li> </ul> <h4>Text Input Field</h4> <ul>   <li>Type: Auto-expanding textarea</li>   <li>Min rows: 1</li>   <li>Max rows: 6-8</li>   <li>Font size: 14-16px</li>   <li>Line height: 1.5</li>   <li>Placeholder: \"Type a message...\" or similar</li>   <li>Padding: 12-16px</li>   <li>Border radius: 20-24px</li>   <li>Border: 1-2px solid or none (flat design)</li> </ul> <p><strong>Input States:</strong></p> <ul>   <li>Default: Subtle border or background</li>   <li>Focus: Highlighted border, no outline or custom outline</li>   <li>Disabled: Reduced opacity, no interactions</li>   <li>Error: Red border or background (if validation fails)</li> </ul> <h4>Attachment Button (Optional)</h4> <ul>   <li>Size: 40px icon button</li>   <li>Icon: Paperclip or plus</li>   <li>Position: Left side of input</li>   <li>Behavior: Opens file picker or attachment menu</li>   <li>Supports: Images, documents, audio</li> </ul> <h4>Send Button</h4> <ul>   <li>Size: 40-44px circular button</li>   <li>Icon: Send arrow or paper plane</li>   <li>Position: Right side of input</li>   <li>States:     <ul>       <li>Default: Muted color or disabled when input empty</li>       <li>Active: Primary brand color when input has text</li>       <li>Loading: Spinner or disabled state while sending</li>     </ul>   </li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Auto-focus on input when chat opens</li>   <li>Enter key sends message (Shift+Enter for new line)</li>   <li>Input expands as user types multiple lines</li>   <li>Smooth height transition (150ms)</li>   <li>Send button enabled only when input not empty</li>   <li>Clear input after sending</li>   <li>Maintain input value if sending fails (show error)</li> </ul> <h3>6. Welcome Screen / Empty State</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Full height of message list area</li>   <li>Centered content</li>   <li>Max-width: 600px</li> </ul> <p><strong>Elements:</strong></p> <h4>Welcome Message</h4> <ul>   <li>Large icon or illustration (optional)</li>   <li>Heading: \"How can I help you today?\" or similar</li>   <li>Font size: 24-32px</li>   <li>Subtext: Brief description of agent capabilities</li> </ul> <h4>Suggested Prompts</h4> <ul>   <li>Grid or list of suggested starting prompts</li>   <li>3-6 suggestions</li>   <li>Styled as clickable cards or buttons</li>   <li>Examples: \"Help me write...\", \"Explain...\", \"Summarize...\"</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Displayed when no messages in conversation</li>   <li>Dismissed after first message sent</li>   <li>Can be recalled via button in header</li> </ul> <h2>Responsive Breakpoints</h2> <h3>Desktop (>= 1024px)</h3> <ul>   <li>Sidebar: Visible by default (if enabled)</li>   <li>Message max-width: 768-900px (centered)</li>   <li>Input area: Full width with comfortable padding</li>   <li>Quick actions: Visible above input</li> </ul> <h3>Tablet (768px - 1023px)</h3> <ul>   <li>Sidebar: Collapsible, overlay mode when open</li>   <li>Message max-width: 100% with 16-24px margins</li>   <li>Input area: Full width, reduced padding</li>   <li>Quick actions: Horizontal scroll or hidden</li> </ul> <h3>Mobile (&#x3C; 768px)</h3> <ul>   <li>Sidebar: Hidden by default, fullscreen overlay when open</li>   <li>Message max-width: 100% with 12-16px margins</li>   <li>Input area: Full width, minimal padding (12px)</li>   <li>Quick actions: Horizontal scroll, compact</li>   <li>Header: Simplified (avatar and name only)</li>   <li>Touch-friendly tap targets (min 44px)</li> </ul> <h3>Window Resize Handling</h3> <ul>   <li>Debounce: 200ms</li>   <li>Behavior: Re-evaluate breakpoint on resize</li>   <li>Close mobile sidebar if switching to desktop</li> </ul> <h2>Interaction Patterns</h2> <h3>Sending a Message</h3> <ol>   <li>User types message in input field</li>   <li>Send button becomes active</li>   <li>User clicks send or presses Enter</li>   <li>Message appears in message list immediately (optimistic UI)</li>   <li>Typing indicator appears</li>   <li>Agent response appears when ready</li>   <li>Auto-scroll to show new message</li> </ol> <h3>Receiving a Response</h3> <ol>   <li>Typing indicator animates</li>   <li>Response streams in (optional: word-by-word or chunk-by-chunk)</li>   <li>Message bubble grows to accommodate content</li>   <li>Code blocks and formatting render</li>   <li>Auto-scroll follows streaming content</li>   <li>Typing indicator disappears</li> </ol> <h3>Sidebar Toggle (if applicable)</h3> <ol>   <li>User clicks menu toggle button</li>   <li>Sidebar slides in from left (mobile) or expands (desktop)</li>   <li>Backdrop appears on mobile</li>   <li>User can select different conversation</li>   <li>Current conversation switches with smooth transition</li> </ol> <h3>Message Actions</h3> <ol>   <li>Long press or right-click on message</li>   <li>Context menu appears with options:     <ul>       <li>Copy text</li>       <li>Delete message (if allowed)</li>       <li>Retry (for failed messages)</li>       <li>Quote/reply</li>     </ul>   </li>   <li>Action executes on selection</li> </ol> <h3>File Attachment (if enabled)</h3> <ol>   <li>User clicks attachment button</li>   <li>File picker opens</li>   <li>User selects file(s)</li>   <li>File preview appears above input</li>   <li>User types optional message</li>   <li>Send button submits message with attachment</li> </ol> <h2>Accessibility Requirements</h2> <h3>WCAG 2.1 Compliance (Level AA Target)</h3> <p>This chat layout should meet WCAG 2.1 Level AA standards. Key requirements:</p> <ul>   <li>1.1.1 Non-text Content: All icons have text or aria-label</li>   <li>1.3.1 Info and Relationships: Semantic HTML structure with proper roles</li>   <li>1.4.3 Contrast Minimum: 4.5:1 for normal text, 3:1 for large text</li>   <li>2.1.1 Keyboard: All interactive elements keyboard accessible</li>   <li>2.1.2 No Keyboard Trap: Focus doesn't get trapped</li>   <li>2.4.2 Page Titled: Descriptive page title</li>   <li>2.4.3 Focus Order: Logical tab order throughout</li>   <li>2.4.4 Link Purpose: Clear button labels</li>   <li>2.4.7 Focus Visible: Clear focus indicators on all interactive elements</li>   <li>4.1.2 Name, Role, Value: All elements have accessible names and roles</li>   <li>4.1.3 Status Messages: Use aria-live for new messages and typing indicator</li> </ul> <h3>Keyboard Navigation</h3> <p><strong>Tab Order:</strong></p> <ul>   <li>Header actions → Message list (if navigating history) → Input area → Send button</li> </ul> <p><strong>Implementation:</strong></p> <ul>   <li>Enter to send message (from input)</li>   <li>Shift+Enter for new line in input</li>   <li>Escape to close sidebar or dropdowns</li>   <li>Arrow keys to navigate message history (optional)</li>   <li>Ctrl/Cmd + C to copy selected message text</li> </ul> <p><strong>Focus Management:</strong></p> <ul>   <li>Focus remains in input after sending message</li>   <li>Focus moves to new message when it arrives (optional, use carefully)</li>   <li>Focus trap in sidebar when open on mobile</li>   <li>Focus restored to toggle button when sidebar closes</li> </ul> <h3>ARIA Attributes</h3> <p><strong>Required ARIA Attributes:</strong></p> <ol>   <li>     <p>Message List Container:</p>     <pre><code class=\"language-html\">&#x3C;div role=\"log\" aria-live=\"polite\" aria-label=\"Chat messages\"> </code></pre>   </li>   <li>     <p>User Message:</p>     <pre><code class=\"language-html\">&#x3C;div class=\"message user-message\" aria-label=\"You said: [message content]\"> </code></pre>   </li>   <li>     <p>Agent Message:</p>     <pre><code class=\"language-html\">&#x3C;div class=\"message agent-message\" aria-label=\"Agent said: [message content]\"> </code></pre>   </li>   <li>     <p>Typing Indicator:</p>     <pre><code class=\"language-html\">&#x3C;div class=\"typing-indicator\" aria-live=\"polite\" aria-label=\"Agent is typing\">   &#x3C;span class=\"sr-only\">Agent is typing&#x3C;/span>   &#x3C;span class=\"dots\" aria-hidden=\"true\">...&#x3C;/span> &#x3C;/div> </code></pre>   </li>   <li>     <p>Input Field:</p>     <pre><code class=\"language-html\">&#x3C;textarea aria-label=\"Message input\" placeholder=\"Type a message...\" rows=\"1\">&#x3C;/textarea> </code></pre>   </li>   <li>     <p>Send Button:</p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Send message\" disabled=\"true/false\">   &#x3C;span class=\"sr-only\">Send&#x3C;/span> &#x3C;/button> </code></pre>   </li>   <li>     <p>Sidebar:</p>     <pre><code class=\"language-html\">&#x3C;aside role=\"complementary\" aria-label=\"Conversation list\" aria-hidden=\"false/true\"> </code></pre>   </li> </ol> <p><strong>Dynamic ARIA Updates:</strong></p> <ul>   <li>Announce new messages with aria-live region</li>   <li>Update aria-hidden when sidebar opens/closes</li>   <li>Update disabled state on send button</li>   <li>Announce when agent starts/stops typing</li> </ul> <h3>Screen Reader Support</h3> <p><strong>Announcements:</strong></p> <ul>   <li>New messages: \"Agent said: [content]\" or \"You said: [content]\"</li>   <li>Typing status: \"Agent is typing\" when indicator appears</li>   <li>Send confirmation: \"Message sent\" (optional, brief)</li>   <li>Error states: \"Failed to send message\" with retry option</li> </ul> <p><strong>Labels:</strong></p> <ul>   <li>All icon buttons must have aria-label</li>   <li>Message bubbles should have descriptive aria-label</li>   <li>Input field must have accessible name</li> </ul> <p><strong>Screen Reader Only Text:</strong></p> <pre><code class=\"language-css\">.sr-only {   position: absolute;   width: 1px;   height: 1px;   padding: 0;   margin: -1px;   overflow: hidden;   clip: rect(0, 0, 0, 0);   white-space: nowrap;   border-width: 0; } </code></pre> <h3>Color Contrast</h3> <p><strong>Requirements:</strong></p> <ul>   <li>WCAG AA: 4.5:1 for normal text, 3:1 for large text (18pt+ or 14pt+ bold)</li>   <li>WCAG AAA (Recommended): 7:1 for important text</li> </ul> <p><strong>Verification:</strong></p> <ul>   <li>User message text on bubble background</li>   <li>Agent message text on bubble background</li>   <li>Input text on input background</li>   <li>Button text on button background</li>   <li>Timestamp text on background</li>   <li>Placeholder text (must meet contrast requirements)</li> </ul> <h3>Focus Visible Styles</h3> <p><strong>Implementation:</strong></p> <pre><code class=\"language-css\">input:focus-visible, textarea:focus-visible, button:focus-visible {   outline: 2px solid var(--primary-color);   outline-offset: 2px; } </code></pre> <h3>Accessibility Implementation Checklist</h3> <p>When implementing this chat layout, ensure:</p> <ul>   <li>All buttons have aria-label or visible text</li>   <li>All icons have aria-label or sr-only text</li>   <li>Message list has role=\"log\" and aria-live=\"polite\"</li>   <li>Typing indicator announces to screen readers</li>   <li>Input field has accessible name</li>   <li>Send button has disabled state communicated</li>   <li>Color contrast verified with contrast checker tool</li>   <li>Keyboard navigation works throughout</li>   <li>Focus visible on all interactive elements</li>   <li>Focus managed properly in sidebar</li>   <li>Screen reader tested with NVDA, VoiceOver, or JAWS</li>   <li>Touch targets minimum 44px on mobile</li> </ul> <h2>Design System Specifications</h2> <p><strong>Important</strong>: The design specifications below are tool-agnostic and should be implemented using your project's chosen styling approach (Tailwind, CSS Modules, styled-components, Chakra UI, Material-UI, SCSS, etc.).</p> <h3>Color Guidelines</h3> <h4>User Message Bubble</h4> <ul>   <li>Background (Light): Primary brand color (e.g., #3b82f6, #10b981) or dark neutral (#1f2937)</li>   <li>Background (Dark): Primary color or lighter shade (#60a5fa, #34d399)</li>   <li>Text: White (#ffffff) or very light (#f3f4f6)</li>   <li>Links: Light blue or underlined white</li>   <li>Code blocks: Darker background within bubble (#1f2937), light text</li> </ul> <h4>Agent Message Bubble</h4> <ul>   <li>Background (Light): Light gray (#f3f4f6, #e5e7eb) or white with border</li>   <li>Background (Dark): Dark gray (#374151, #4b5563)</li>   <li>Text: Dark gray (#1f2937, #111827) for light, light gray (#e5e7eb) for dark</li>   <li>Links: Primary brand color</li>   <li>Code blocks: Dark background (#1f2937), light text, rounded corners</li> </ul> <h4>Input Area</h4> <ul>   <li>Background (Light): White (#ffffff) or very light gray (#f9fafb)</li>   <li>Background (Dark): Dark gray (#1f2937, #374151)</li>   <li>Border: 1px solid light gray (#e5e7eb) or transparent</li>   <li>Focus Border: Primary brand color</li>   <li>Text: Match body text color</li>   <li>Placeholder: Muted gray (#9ca3af)</li> </ul> <h4>Send Button</h4> <ul>   <li>Default: Muted gray or disabled state</li>   <li>Active: Primary brand color</li>   <li>Icon: White or contrast color</li>   <li>Disabled: Light gray (#d1d5db)</li> </ul> <h4>Header</h4> <ul>   <li>Background (Light): White (#ffffff) or very light gray (#f9fafb)</li>   <li>Background (Dark): Dark gray (#1f2937)</li>   <li>Border: 1px solid light gray (#e5e7eb) or subtle shadow</li>   <li>Text: Dark gray (#1f2937) for light, light gray (#e5e7eb) for dark</li> </ul> <h4>Sidebar</h4> <ul>   <li>Background (Light): White (#ffffff) or light gray (#f9fafb)</li>   <li>Background (Dark): Dark gray (#1f2937)</li>   <li>Active Conversation: Primary color at 10% opacity or left border</li>   <li>Text: Match body text color</li> </ul> <h3>Typography</h3> <ul>   <li>Font Family: Use project's font stack (system-ui, -apple-system, sans-serif or custom)</li>   <li>Message Text: 14-16px, regular weight (400), line-height 1.5-1.6</li>   <li>Code Blocks: Monospace font (Consolas, Monaco, 'Courier New'), 13-14px</li>   <li>Timestamps: 11-12px, regular weight, muted color</li>   <li>Agent Name (Header): 16-18px, medium weight (500-600)</li>   <li>Status Text: 12-14px, regular weight</li>   <li>Input Text: 14-16px, regular weight</li>   <li>Quick Actions: 13-14px, regular weight</li>   <li>Welcome Heading: 24-32px, bold (700)</li> </ul> <h3>Spacing System</h3> <ul>   <li>Message List Padding: 16-24px horizontal, 16-24px vertical</li>   <li>Message Bubble Padding: 12-16px</li>   <li>Message Gap: 16-24px between messages</li>   <li>Input Area Padding: 12-16px</li>   <li>Header Padding: 12-16px horizontal, 12-16px vertical</li>   <li>Sidebar Item Padding: 12-16px</li>   <li>Quick Action Gap: 8-12px between chips</li> </ul> <h3>Shadows &#x26; Elevation</h3> <ul>   <li>Header Shadow: 0 1px 3px rgba(0, 0, 0, 0.1)</li>   <li>Input Area Shadow (if floating): 0 -2px 10px rgba(0, 0, 0, 0.05)</li>   <li>Message Bubbles: No shadow or very subtle (0 1px 2px rgba(0, 0, 0, 0.05))</li>   <li>Sidebar Shadow (when overlay): 4px 0 15px rgba(0, 0, 0, 0.1)</li> </ul> <h3>Border Radius</h3> <ul>   <li>Message Bubbles: 16-20px (asymmetric for speech bubble effect)</li>   <li>Input Field: 20-24px (pill shape if single line)</li>   <li>Send Button: 50% (circle) or 8-12px</li>   <li>Quick Action Chips: 16-18px (pill shape)</li>   <li>Avatars: 50% (circle)</li>   <li>Header Buttons: 6-8px</li> </ul> <h3>Visual Hierarchy Principles</h3> <ol>   <li>Messages should be clearly distinguishable (user vs agent)</li>   <li>Input area should be prominent and always accessible</li>   <li>Header should provide context without dominating</li>   <li>Timestamps should be subtle but readable</li>   <li>Active conversation should be clearly highlighted</li>   <li>Quick actions should be discoverable but not distracting</li>   <li>Code blocks should stand out within messages</li> </ol> <h2>State Management Considerations</h2> <h3>For AI Agents to Implement</h3> <p><strong>State to Track:</strong></p> <ol>   <li><code>messages: array</code> - List of all messages in conversation     <ul>       <li>Structure: <code>{ id, role: 'user'|'agent', content, timestamp, status: 'sent'|'delivering'|'error' }</code></li>     </ul>   </li>   <li><code>inputValue: string</code> - Current text in input field</li>   <li><code>isTyping: boolean</code> - Whether agent is generating response</li>   <li><code>sidebarOpen: boolean</code> - Whether sidebar is visible (mobile)</li>   <li><code>conversations: array</code> - List of available conversations (if sidebar enabled)</li>   <li><code>activeConversationId: string</code> - Currently selected conversation</li>   <li><code>isSending: boolean</code> - Whether message is being sent</li>   <li><code>hasMoreMessages: boolean</code> - For pagination/infinite scroll</li> </ol> <p><strong>State Persistence:</strong></p> <ul>   <li><code>sidebarOpen</code> → localStorage (optional)</li>   <li><code>activeConversationId</code> → localStorage or URL param</li>   <li>Message history → Server/database (not localStorage for privacy)</li>   <li>Draft message (inputValue) → localStorage (optional, auto-save)</li> </ul> <h3>SSR/Hydration Considerations</h3> <ul>   <li>localStorage access: Only in onMounted/useEffect</li>   <li>Default state: Empty messages, closed sidebar</li>   <li>Prevent hydration mismatches by initializing state after mount</li>   <li>Loading states for initial message fetch</li> </ul> <h2>Critical Implementation Guidelines</h2> <h3>Vanilla CSS Detection</h3> <p><strong>CRITICAL</strong>: When detecting vanilla CSS in the project, ALWAYS create CSS classes in a stylesheet. NEVER use inline style attributes on HTML elements.</p> <ul>   <li>Define classes like <code>.message</code>, <code>.message--user</code>, <code>.message--agent</code>, <code>.input-area</code>, etc.</li>   <li>Apply classes via className/class attributes: <code>&#x3C;div class=\"message message--user\"></code></li>   <li>Do NOT use: <code>&#x3C;div style=\"background: blue\"></code></li> </ul> <h3>React Hook Patterns</h3> <p><strong>CRITICAL</strong>: When detecting React, extract logic from useEffect hooks into separate custom hooks that do ONE thing each.</p> <ul>   <li><code>useChatMessages()</code> - Manages message list state and operations</li>   <li><code>useAutoScroll(messageListRef, messages)</code> - Handles auto-scrolling behavior</li>   <li><code>useTypingIndicator(isTyping)</code> - Manages typing animation state</li>   <li><code>useConversation()</code> - Manages conversation switching</li>   <li>Each hook should have a single responsibility</li> </ul> <h3>Message Streaming (Optional)</h3> <p>For real-time message streaming:</p> <ul>   <li>Update message content as chunks arrive</li>   <li>Use requestAnimationFrame for smooth DOM updates</li>   <li>Throttle rapid updates to prevent layout thrashing</li>   <li>Show streaming cursor or typing indicator during stream</li> </ul> <h3>Performance Considerations</h3> <ul>   <li>Virtualize long message lists (react-window, @tanstack/virtual)</li>   <li>Debounce input changes if doing heavy processing</li>   <li>Lazy load images and attachments</li>   <li>Optimize re-renders with proper React keys or Vue memoization</li> </ul> <h2>Code Implementation Patterns</h2> <h3>React Example Pattern</h3> <pre><code class=\"language-jsx\">// Suggested component structure &#x3C;ChatLayout>   {hasSidebar &#x26;&#x26; (     &#x3C;Sidebar       conversations={conversations}       activeId={activeConversationId}       isOpen={sidebarOpen}       onSelect={handleConversationSelect}     />   )}   &#x3C;ChatContainer>     &#x3C;Header       agent={currentAgent}       onMenuToggle={handleSidebarToggle}       actions={headerActions}     />     &#x3C;MessageList       messages={messages}       isTyping={isTyping}       onMessageAction={handleMessageAction}     />     &#x3C;InputArea       value={inputValue}       onChange={setInputValue}       onSend={handleSend}       quickActions={quickActions}       disabled={isSending}     />   &#x3C;/ChatContainer> &#x3C;/ChatLayout> </code></pre> <h3>Vue Example Pattern</h3> <pre><code class=\"language-vue\">&#x3C;!-- Suggested component structure --> &#x3C;template>   &#x3C;ChatLayout>     &#x3C;Sidebar       v-if=\"hasSidebar\"       :conversations=\"conversations\"       :active-id=\"activeConversationId\"       :is-open=\"sidebarOpen\"       @select=\"handleConversationSelect\"     />     &#x3C;ChatContainer>       &#x3C;Header         :agent=\"currentAgent\"         @menu-toggle=\"handleSidebarToggle\"         :actions=\"headerActions\"       />       &#x3C;MessageList         :messages=\"messages\"         :is-typing=\"isTyping\"         @message-action=\"handleMessageAction\"       />       &#x3C;InputArea         v-model=\"inputValue\"         @send=\"handleSend\"         :quick-actions=\"quickActions\"         :disabled=\"isSending\"       />     &#x3C;/ChatContainer>   &#x3C;/ChatLayout> &#x3C;/template> </code></pre> <h3>Angular Example Pattern</h3> <pre><code class=\"language-html\">&#x3C;!-- Suggested template structure --> &#x3C;app-chat-layout>   &#x3C;app-sidebar *ngIf=\"hasSidebar\"     [conversations]=\"conversations\"     [activeId]=\"activeConversationId\"     [isOpen]=\"sidebarOpen\"     (select)=\"handleConversationSelect($event)\"   />   &#x3C;div class=\"chat-container\">     &#x3C;app-header       [agent]=\"currentAgent\"       (menuToggle)=\"handleSidebarToggle()\"       [actions]=\"headerActions\"     />     &#x3C;app-message-list       [messages]=\"messages\"       [isTyping]=\"isTyping\"       (messageAction)=\"handleMessageAction($event)\"     />     &#x3C;app-input-area       [(value)]=\"inputValue\"       (send)=\"handleSend()\"       [quickActions]=\"quickActions\"       [disabled]=\"isSending\"     />   &#x3C;/div> &#x3C;/app-chat-layout> </code></pre> <h3>CSS/Styling Approaches</h3> <h4>Tailwind CSS Pattern</h4> <pre><code class=\"language-html\">&#x3C;!-- Message List --> &#x3C;div class=\"flex-1 overflow-y-auto p-4 space-y-4\">   &#x3C;div class=\"flex flex-col max-w-3xl mx-auto space-y-4\">     &#x3C;!-- User Message -->     &#x3C;div class=\"flex justify-end\">       &#x3C;div class=\"bg-blue-600 text-white rounded-2xl rounded-tr-sm px-4 py-3 max-w-[85%]\">         &#x3C;p>Hello, AI assistant!&#x3C;/p>       &#x3C;/div>     &#x3C;/div>     &#x3C;!-- Agent Message -->     &#x3C;div class=\"flex justify-start\">       &#x3C;div class=\"bg-gray-100 text-gray-900 rounded-2xl rounded-tl-sm px-4 py-3 max-w-[85%]\">         &#x3C;p>Hello! How can I help you today?&#x3C;/p>       &#x3C;/div>     &#x3C;/div>   &#x3C;/div> &#x3C;/div>  &#x3C;!-- Input Area --> &#x3C;div class=\"fixed bottom-0 left-0 right-0 p-4 bg-white border-t\">   &#x3C;div class=\"flex items-end gap-2 max-w-3xl mx-auto\">     &#x3C;textarea        class=\"flex-1 resize-none rounded-2xl border border-gray-300 px-4 py-3 focus:border-blue-500 focus:outline-none\"       rows=\"1\"       placeholder=\"Type a message...\"     >&#x3C;/textarea>     &#x3C;button class=\"w-11 h-11 rounded-full bg-blue-600 text-white flex items-center justify-center\">       Send     &#x3C;/button>   &#x3C;/div> &#x3C;/div> </code></pre> <h4>Vanilla CSS Pattern</h4> <pre><code class=\"language-css\">/* CRITICAL: Always create CSS classes, never use inline styles */ .chat-container {   display: flex;   flex-direction: column;   height: 100vh; }  .message-list {   flex: 1;   overflow-y: auto;   padding: 16px 24px; }  .message {   display: flex;   margin-bottom: 16px; }  .message--user {   justify-content: flex-end; }  .message--agent {   justify-content: flex-start; }  .message__bubble {   max-width: 85%;   padding: 12px 16px;   border-radius: 16px;   font-size: 14px;   line-height: 1.5; }  .message--user .message__bubble {   background: #3b82f6;   color: white;   border-radius: 16px 16px 4px 16px; }  .message--agent .message__bubble {   background: #f3f4f6;   color: #1f2937;   border-radius: 16px 16px 16px 4px; }  .input-area {   position: fixed;   bottom: 0;   left: 0;   right: 0;   padding: 12px 16px;   background: white;   border-top: 1px solid #e5e7eb; } </code></pre> <h2>Animation Specifications</h2> <h3>Message Entrance Animation</h3> <ul>   <li>Duration: 300ms</li>   <li>Easing: ease-out</li>   <li>Transform: translateY(10px) to translateY(0)</li>   <li>Opacity: 0 to 1</li>   <li>Stagger: 50-100ms between messages on initial load</li> </ul> <h3>Typing Indicator Animation</h3> <ul>   <li>Duration: 1.4s (continuous loop)</li>   <li>Animation: Sequential dot bounce or fade</li>   <li>Dot 1: 0ms delay</li>   <li>Dot 2: 200ms delay</li>   <li>Dot 3: 400ms delay</li> </ul> <h3>Input Area Height Transition</h3> <ul>   <li>Duration: 150ms</li>   <li>Easing: ease-in-out</li>   <li>Property: height</li> </ul> <h3>Sidebar Slide Animation</h3> <ul>   <li>Duration: 250ms</li>   <li>Easing: ease-out</li>   <li>Transform: translateX(-100%) to translateX(0) for open</li> </ul> <h3>Send Button Press</h3> <ul>   <li>Duration: 100ms</li>   <li>Transform: scale(0.95) on press, scale(1) on release</li> </ul> <h3>New Message Auto-Scroll</h3> <ul>   <li>Duration: 300ms</li>   <li>Easing: ease-out</li>   <li>Behavior: Smooth scroll to bottom</li> </ul> <h2>Z-Index Layer System</h2> <ul>   <li>Base content: 0</li>   <li>Message bubbles: 1</li>   <li>Input area: 10</li>   <li>Header: 20</li>   <li>Sidebar (desktop): 30</li>   <li>Dropdowns/Popovers: 40</li>   <li>Mobile sidebar overlay: 50</li>   <li>Backdrop: 60</li>   <li>Modals/Dialogs: 70</li> </ul> <h2>Implementation Details</h2> <h3>Auto-Scroll Behavior</h3> <ul>   <li>Scroll to bottom on new message arrival</li>   <li>Don't scroll if user has manually scrolled up (check scroll position)</li>   <li>Resume auto-scroll when user scrolls back to bottom</li>   <li>Smooth scroll animation</li> </ul> <h3>Message Alignment</h3> <ul>   <li>User messages: Right-aligned (flex-end) or left with offset</li>   <li>Agent messages: Left-aligned (flex-start) or right with offset</li>   <li>Consider RTL language support (flip alignment)</li> </ul> <h3>Input Multi-line Handling</h3> <ul>   <li>Auto-expand textarea as user types</li>   <li>Max height: 200-256px (6-8 rows)</li>   <li>Show scrollbar when max height reached</li>   <li>Enter sends, Shift+Enter adds new line</li> </ul> <h3>Mobile Considerations</h3> <ul>   <li>Ensure input stays above virtual keyboard</li>   <li>Use visual viewport API if needed</li>   <li>Prevent body scroll when keyboard opens (optional)</li>   <li>Full-screen message list on mobile</li> </ul> <h3>Edge Cases</h3> <h4>Very Long Messages</h4> <ul>   <li>Message bubble expands vertically</li>   <li>Code blocks scroll horizontally if too wide</li>   <li>Consider max-height with \"Read more\" for extremely long messages</li> </ul> <h4>Rapid Message Sending</h4> <ul>   <li>Queue messages if sending too quickly</li>   <li>Show loading state per message</li>   <li>Prevent duplicate sends</li> </ul> <h4>Empty Input</h4> <ul>   <li>Disable send button when input is empty or only whitespace</li>   <li>Visual indication of disabled state</li> </ul> <h4>Failed Message Send</h4> <ul>   <li>Show error state on message bubble</li>   <li>Provide retry button</li>   <li>Keep message text in input as fallback</li> </ul> <h4>Slow Connection</h4> <ul>   <li>Show loading indicator on send button</li>   <li>Optimistic UI: Show message immediately, update status on confirmation</li>   <li>Timeout handling with retry option</li> </ul> <h2>Common Variations</h2> <h3>Without Sidebar</h3> <ul>   <li>Full-width chat interface</li>   <li>Header contains conversation switcher dropdown</li>   <li>Simpler layout, good for embedded chat widgets</li> </ul> <h3>Compact Mode</h3> <ul>   <li>Reduced padding and spacing</li>   <li>Smaller avatars and bubbles</li>   <li>Good for sidebar chat widgets</li> </ul> <h3>Embedded/Widget Mode</h3> <ul>   <li>Floating button to open chat</li>   <li>Modal overlay when open</li>   <li>Smaller dimensions (400-500px width)</li>   <li>Can be positioned bottom-right or bottom-left</li> </ul> <h3>Multi-Agent Mode</h3> <ul>   <li>Agent switcher in header</li>   <li>Different avatars/colors per agent</li>   <li>Agent name displayed on each message</li> </ul> <h3>Rich Content Support</h3> <ul>   <li>Image previews in messages</li>   <li>File download links</li>   <li>Interactive cards/components in agent responses</li>   <li>Button actions within messages</li> </ul> <h2>Testing Checklist</h2> <p>When implementing this chat layout, test:</p> <h3>Visual</h3> <ul>   <li>Message bubbles display correctly (user vs agent styling)</li>   <li>Input area stays fixed at bottom</li>   <li>Header remains fixed at top</li>   <li>Messages scroll smoothly in list</li>   <li>Timestamps display correctly</li>   <li>Quick action chips render properly</li>   <li>Typing indicator animates smoothly</li>   <li>Sidebar opens/closes smoothly (if applicable)</li>   <li>Responsive at all breakpoints (mobile, tablet, desktop)</li> </ul> <h3>Functional</h3> <ul>   <li>Send button sends message</li>   <li>Enter key sends message</li>   <li>Shift+Enter adds new line</li>   <li>Input clears after sending</li>   <li>Auto-scroll works on new messages</li>   <li>Manual scroll pauses auto-scroll</li>   <li>Sidebar toggle works (if applicable)</li>   <li>Conversation switching works (if applicable)</li>   <li>File attachment works (if enabled)</li>   <li>Quick actions insert text into input</li> </ul> <h3>Accessibility</h3> <ul>   <li>Keyboard navigation works (Tab, Enter, Escape)</li>   <li>Focus indicators visible on all interactive elements</li>   <li>Screen reader announces new messages</li>   <li>Typing indicator announced to screen readers</li>   <li>Input field has accessible name</li>   <li>Send button has accessible name</li>   <li>Color contrast verified (4.5:1 minimum)</li>   <li>Touch targets minimum 44px on mobile</li> </ul> <h3>Responsive</h3> <ul>   <li>Layout adapts correctly at all breakpoints</li>   <li>Text is readable on all screen sizes</li>   <li>Input area accessible on mobile (above keyboard)</li>   <li>Sidebar becomes overlay on mobile (if applicable)</li>   <li>No horizontal scroll</li> </ul> <h3>Performance</h3> <ul>   <li>Smooth scrolling with many messages</li>   <li>No layout shift when sending messages</li>   <li>Typing animation doesn't cause jank</li>   <li>Auto-resize input performs well</li> </ul> <h3>Edge Cases</h3> <ul>   <li>Empty input handling</li>   <li>Very long message handling</li>   <li>Rapid send handling</li>   <li>Failed send handling</li>   <li>Slow connection handling</li>   <li>Message overflow/scrolling</li> </ul> <h2>AI Agent Implementation Prompt Template</h2> <p>Use this template when asking an AI agent to implement this chat layout:</p> <pre><code>Create a responsive AI agent chat layout with the following specifications:  1. Layout Structure:    - Optional sidebar for conversation list (280-320px on desktop, overlay on mobile)    - Fixed header with agent info (56-64px height)    - Scrollable message list (centered, max-width 768-900px)    - Fixed input area at bottom with auto-expanding textarea  2. Message Display:    - User messages: Right-aligned, primary color background, white text    - Agent messages: Left-aligned, light gray background, dark text    - Message bubbles with asymmetric border-radius for speech bubble effect    - Timestamps below messages    - Support for code blocks, links, and formatting  3. Input Area:    - Auto-expanding textarea (1-8 rows)    - Send button (active when input not empty)    - Optional quick action chips above input    - Enter to send, Shift+Enter for new line    - Optional file attachment button  4. Additional Features:    - Typing indicator with animated dots    - Welcome screen when no messages    - Empty state with suggested prompts    - Smooth animations for all interactions  5. Use [Framework: React/Vue/Angular/Svelte] with [Styling: Tailwind/Chakra/CSS Modules]  6. Include:    - Smooth animations (300ms ease-out)    - Keyboard accessibility (Tab, Enter, Escape)    - ARIA labels and live regions for screen readers    - Auto-scroll to new messages    - Responsive breakpoints (mobile, tablet, desktop)    - Color contrast compliance (WCAG AA)  Reference: UI Potion AI Agent Chat Layout </code></pre> <h2>Additional Resources</h2> <h3>Message Data Structure</h3> <pre><code class=\"language-javascript\">const message = {   id: 'msg_123',   role: 'user', // 'user' | 'agent'   content: 'Hello, how are you?',   timestamp: '2026-02-01T10:30:00Z',   status: 'sent', // 'sent' | 'delivering' | 'error'   attachments: [], // optional   metadata: {} // optional }; </code></pre> <h3>Conversation Data Structure</h3> <pre><code class=\"language-javascript\">const conversation = {   id: 'conv_456',   title: 'Project Discussion',   lastMessage: 'Let me review that...',   timestamp: '2026-02-01T10:30:00Z',   unreadCount: 0,   agentId: 'agent_1' }; </code></pre> <h3>Quick Actions Example</h3> <pre><code class=\"language-javascript\">const quickActions = [   { id: 'summarize', label: 'Summarize this', prompt: 'Please summarize the above conversation.' },   { id: 'explain', label: 'Explain like I am 5', prompt: 'Explain this like I am 5 years old.' },   { id: 'shorter', label: 'Make it shorter', prompt: 'Please make your response shorter and more concise.' },   { id: 'code', label: 'Show me code', prompt: 'Can you provide code examples for this?' } ]; </code></pre> <hr> <h2>See Also</h2> <p>This AI agent chat layout commonly uses these components:</p> <ul>   <li><strong><a href=\"/potions/components/text-input\">Text Input Component</a></strong> - For the message input field</li>   <li><strong><a href=\"/potions/components/dialog\">Dialog Component</a></strong> - For confirmation dialogs (clear chat, delete message)</li>   <li><strong><a href=\"/potions/components/toast-notifications\">Toast Notifications</a></strong> - For success/error feedback</li>   <li><strong><a href=\"/potions/components/dropdown-select\">Dropdown/Select Component</a></strong> - For agent selector or conversation actions</li>   <li><strong><a href=\"/potions/components/navbar\">Navbar Component</a></strong> - For the header navigation patterns</li> </ul> <p>These are examples of components that pair well with AI chat interfaces. The layout works with any content you choose.</p> <hr> <h2>Summary for AI Agents</h2> <p>This AI agent chat layout is a conversational interface optimized for human-AI interaction. Key implementation points:</p> <ol>   <li><strong>Layout</strong>: Flexbox or grid with fixed header, scrollable message list, fixed input area</li>   <li><strong>Messages</strong>: Clear visual distinction between user (right/primary color) and agent (left/gray)</li>   <li><strong>Input</strong>: Auto-expanding textarea with send button and optional quick actions</li>   <li><strong>Accessibility</strong>: ARIA live regions for new messages, keyboard navigation, focus management</li>   <li><strong>Responsive</strong>: Sidebar becomes overlay on mobile, full-width chat, touch-friendly targets</li>   <li><strong>Animations</strong>: Smooth entrance for messages, typing indicator, input height transitions</li>   <li><strong>Framework-agnostic</strong>: Adapt patterns to any framework's component model</li> </ol> <p>Generate clean, semantic HTML with proper component separation. Use framework-specific state management patterns and CSS methodology as specified by the user. Ensure all interactive elements are accessible and the chat interface works smoothly across all devices.</p>","excerpt":"A responsive AI agent chat interface layout with message history, input area, typing indicators, and conversation management. Perfect for AI assistants, chatbots, and conversational interfaces.","publicationDate":"2026-02-01","tags":["layouts","chat","ai","agent","conversation","messaging","responsive","a11y"],"coverImage":""},{"fileName":"features/pricing-table.html","title":"3-Tier SaaS Pricing Table with Monthly/Yearly Toggle","body":"<h1>3-Tier SaaS Pricing Table</h1> <p>A responsive 3-tier pricing table component with monthly/yearly billing toggle, highlighted \"Most Popular\" plan, and feature comparison. Perfect for SaaS marketing pages, product pages, and subscription-based services.</p> <h2>Overview</h2> <p>This pricing table is designed to maximize conversion with clear visual hierarchy, prominent CTAs, and transparent feature comparison. It adapts seamlessly from desktop 3-column layout to mobile stacked cards.</p> <h2>Structure Specification</h2> <h3>Component Hierarchy</h3> <p>The pricing table consists of a Container that holds a Billing Toggle section at the top, followed by a Plans Grid with three Plan Cards (Starter, Professional with \"Most Popular\" badge, and Enterprise). Each Plan Card contains a Header (with plan name and optional badge), Pricing section (with amount and billing period), CTA Button, and Feature List (with checkmarks and x-marks).</p> <h2>Detailed Component Specifications</h2> <h3>1. Pricing Table Container</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Max width: 1200px (desktop)</li>   <li>Padding: 48-64px vertical, 24-32px horizontal</li>   <li>Gap between billing toggle and plans: 48-64px</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Centers content horizontally</li>   <li>Responsive padding (reduces on mobile)</li>   <li>Background can be neutral, gradient, or transparent</li> </ul> <h3>2. Billing Toggle</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Container: Centered, max-width 400px</li>   <li>Toggle switch: 200-240px wide</li>   <li>Label spacing: 16px gap between labels and switch</li>   <li>Savings badge: Small pill, right of \"Yearly\" label</li> </ul> <p><strong>Layout:</strong></p> <p>The toggle consists of a Monthly label, toggle switch in the center, Yearly label, and a \"Save 20%\" badge to the right of Yearly.</p> <p><strong>States:</strong></p> <ul>   <li><code>monthly</code> (default) - Shows monthly pricing</li>   <li><code>yearly</code> - Shows yearly pricing (with discount if applicable)</li> </ul> <p><strong>Elements:</strong></p> <h4>Toggle Labels</h4> <ul>   <li>Font size: 16px</li>   <li>Weight: Medium (500) for inactive, Semibold (600) for active</li>   <li>Color: Muted gray for inactive, primary text for active</li>   <li>Transition: Smooth color change (150ms)</li> </ul> <h4>Toggle Switch</h4> <ul>   <li>Width: 56px, Height: 32px</li>   <li>Border radius: 16px (pill shape)</li>   <li>Thumb: 24px circle</li>   <li>Colors:     <ul>       <li>Background (inactive): Light gray (#e5e7eb)</li>       <li>Background (active): Primary color (#3b82f6)</li>       <li>Thumb: White (#ffffff)</li>     </ul>   </li>   <li>Animation: Thumb slides 150-200ms with ease-out</li> </ul> <h4>Savings Badge</h4> <ul>   <li>Padding: 4px 12px</li>   <li>Border radius: 12px (pill)</li>   <li>Background: Success/primary color at 10-20% opacity</li>   <li>Text: 12-14px, medium weight</li>   <li>Icon: Optional small savings/discount icon</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Click either label or switch to toggle</li>   <li>Keyboard accessible (Tab to focus, Enter/Space to toggle)</li>   <li>Updates all plan prices simultaneously</li>   <li>Smooth price transition (fade or slide animation)</li>   <li>ARIA: <code>role=\"switch\"</code>, <code>aria-checked=\"true/false\"</code>, <code>aria-label=\"Billing frequency\"</code></li> </ul> <h3>3. Plans Grid</h3> <p><strong>Layout:</strong></p> <ul>   <li>Desktop (≥1024px): 3 columns, equal width, 24-32px gap</li>   <li>Tablet (768px-1023px): 3 columns, smaller gap (16-24px)</li>   <li>Mobile (&#x3C;768px): Single column, 24px gap, stacked</li> </ul> <p><strong>Alignment:</strong></p> <ul>   <li>Plans vertically aligned at top</li>   <li>\"Most Popular\" plan can be visually elevated (slightly larger or with subtle shadow)</li> </ul> <p><strong>Responsive:</strong></p> <ul>   <li>Grid to stack transition smooth</li>   <li>Mobile cards full width with 16px margins</li> </ul> <h3>4. Plan Card</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Padding: 32-40px (desktop), 24-32px (mobile)</li>   <li>Border radius: 12-16px</li>   <li>Min height: Equal across all plans for better visual alignment</li> </ul> <p><strong>Visual Hierarchy:</strong></p> <ul>   <li>Most popular plan stands out with:     <ul>       <li>Darker border or shadow</li>       <li>Optional scale (102-105%)</li>       <li>Higher z-index for depth</li>       <li>Primary color accent</li>     </ul>   </li> </ul> <p><strong>States:</strong></p> <ul>   <li>Default - Standard appearance</li>   <li>Highlighted (Most Popular) - Enhanced visual prominence</li>   <li>Hover - Subtle scale or shadow increase</li> </ul> <p><strong>Border &#x26; Shadow:</strong></p> <ul>   <li>Border: 1px solid, light gray (#e5e7eb) or transparent</li>   <li>Shadow: Subtle elevation, more prominent on popular plan</li>   <li>Hover shadow: Slightly increased elevation</li> </ul> <p><strong>Background:</strong></p> <ul>   <li>Light mode: White (#ffffff) or very light gray (#fafafa)</li>   <li>Dark mode: Dark neutral (#1f2937) or slightly lighter than page background</li> </ul> <h3>5. Plan Header</h3> <p><strong>Layout:</strong></p> <ul>   <li>Badge (if applicable) at top</li>   <li>Plan name below badge</li>   <li>Optional subtitle/description below name</li> </ul> <p><strong>Elements:</strong></p> <h4>Badge (\"Most Popular\", \"Best Value\")</h4> <ul>   <li>Position: Top of card, centered or left-aligned</li>   <li>Padding: 6px 16px</li>   <li>Border radius: 12px (pill) or 6px (rounded)</li>   <li>Background: Primary color or gradient</li>   <li>Text: 12-14px, medium/semibold weight, uppercase optional</li>   <li>Color: White or high-contrast text</li>   <li>Icon: Optional star/crown icon</li> </ul> <h4>Plan Name</h4> <ul>   <li>Font size: 24-28px (desktop), 20-24px (mobile)</li>   <li>Weight: Bold (700) or Semibold (600)</li>   <li>Color: Primary text color</li>   <li>Margin: 12-16px below badge, 8-12px above pricing</li> </ul> <h4>Description (Optional)</h4> <ul>   <li>Font size: 14-16px</li>   <li>Weight: Regular (400)</li>   <li>Color: Muted text (#6b7280)</li>   <li>Margin: 8px below plan name</li>   <li>Example: \"Perfect for individuals\"</li> </ul> <h3>6. Pricing Section</h3> <p><strong>Layout:</strong></p> <ul>   <li>Price amount prominent and centered/left-aligned</li>   <li>Billing period below or adjacent to price</li>   <li>Optional \"from\" prefix for variable pricing</li>   <li>Optional strikethrough original price (for yearly savings)</li> </ul> <p><strong>Elements:</strong></p> <h4>Price Amount</h4> <ul>   <li>Font size: 48-56px (desktop), 40-48px (mobile)</li>   <li>Weight: Bold (700) or Extra Bold (800)</li>   <li>Color: Primary text color</li>   <li>Currency symbol: Same size or slightly smaller (80% size)</li>   <li>Decimals: Optional, smaller size (60-70% of price)</li> </ul> <h4>Billing Period</h4> <ul>   <li>Font size: 16-18px</li>   <li>Weight: Regular (400) or Medium (500)</li>   <li>Color: Muted text (#6b7280)</li>   <li>Format: \"/month\" or \"/mo\", \"/year\" or \"/yr\"</li>   <li>Position: Adjacent to price (baseline aligned) or below</li> </ul> <h4>Price Change Animation</h4> <ul>   <li>Duration: 200-250ms</li>   <li>Easing: ease-in-out</li>   <li>Effect: Fade out old price, fade in new price</li>   <li>Alternative: Slide up/down or scale</li>   <li>Stagger: Optional subtle delay between cards (50ms)</li> </ul> <h4>Discount Indicator (Yearly Plans)</h4> <ul>   <li>Original price: Strikethrough, smaller, muted</li>   <li>Position: Above or next to new price</li>   <li>Example: \"~~$348~~ $279/year\"</li>   <li>Savings text: \"Save $69/year\" below price</li> </ul> <h3>7. CTA Button</h3> <p><strong>Dimensions:</strong></p> <ul>   <li>Width: Full width or 80-90% of card width</li>   <li>Height: 48-56px (desktop), 44-48px (mobile)</li>   <li>Padding: 12-16px vertical, 24-32px horizontal</li>   <li>Border radius: 8-12px</li> </ul> <p><strong>Visual Variants:</strong></p> <h4>Primary CTA (Most Popular Plan)</h4> <ul>   <li>Background: Primary color (#3b82f6)</li>   <li>Text: White (#ffffff)</li>   <li>Weight: Medium (500) or Semibold (600)</li>   <li>Font size: 16-18px</li>   <li>Shadow: Subtle elevation</li>   <li>Hover: Darker shade or increased shadow</li> </ul> <h4>Secondary CTA (Other Plans)</h4> <ul>   <li>Variant 1: Outlined     <ul>       <li>Border: 2px solid primary or neutral</li>       <li>Background: Transparent or white</li>       <li>Text: Primary color</li>       <li>Hover: Light background fill</li>     </ul>   </li>   <li>Variant 2: Ghost/Muted     <ul>       <li>Background: Light gray (#f3f4f6)</li>       <li>Text: Primary text color</li>       <li>Hover: Darker background</li>     </ul>   </li> </ul> <p><strong>States:</strong></p> <ul>   <li>Default - Normal appearance</li>   <li>Hover - Enhanced (shadow/scale/color change)</li>   <li>Active - Slight press effect</li>   <li>Focus - Clear outline (accessibility)</li>   <li>Loading - Disabled with spinner</li>   <li>Disabled - Muted colors, not interactive</li> </ul> <p><strong>Text Examples:</strong></p> <ul>   <li>Free plan: \"Start Free\", \"Get Started Free\"</li>   <li>Paid plans: \"Get Started\", \"Start Trial\", \"Subscribe\"</li>   <li>Enterprise: \"Contact Sales\", \"Request Demo\", \"Talk to Sales\"</li> </ul> <p><strong>Behavior:</strong></p> <ul>   <li>Click triggers appropriate action (signup, checkout, contact form)</li>   <li>Keyboard accessible (Enter/Space)</li>   <li>ARIA: <code>aria-label</code> if button text is ambiguous</li> </ul> <h3>8. Feature List</h3> <p><strong>Layout:</strong></p> <ul>   <li>Unordered list with checkmarks/x-marks</li>   <li>Left-aligned text</li>   <li>Consistent spacing between items</li>   <li>Optional feature grouping with subtle dividers</li> </ul> <p><strong>Dimensions:</strong></p> <ul>   <li>Item height: 36-44px</li>   <li>Icon size: 20-24px</li>   <li>Gap between icon and text: 12-16px</li>   <li>Gap between items: 8-12px</li>   <li>Margin top: 24-32px from CTA</li> </ul> <p><strong>Elements:</strong></p> <h4>Feature Item</h4> <ul>   <li>Font size: 14-16px</li>   <li>Weight: Regular (400)</li>   <li>Color: Primary text for included, muted for unavailable</li>   <li>Line height: 1.5 for readability</li> </ul> <h4>Check Icon (Included Feature)</h4> <ul>   <li>Color: Success green (#10b981) or primary color</li>   <li>Style: Solid checkmark or circle with check</li>   <li>Weight: Medium/bold stroke</li> </ul> <h4>X-Mark / Unavailable Icon</h4> <ul>   <li>Color: Muted gray (#9ca3af) or light red (#ef4444)</li>   <li>Style: X mark, minus sign, or grayed-out check</li>   <li>Optional: Strikethrough text</li> </ul> <h4>Feature Groups (Optional)</h4> <ul>   <li>Group header: 12-14px, uppercase, semibold, muted</li>   <li>Divider: 1px line or extra spacing</li>   <li>Examples: \"Core Features\", \"Advanced Features\", \"Support\"</li> </ul> <p><strong>Accessibility:</strong></p> <ul>   <li>Icons should have <code>aria-hidden=\"true\"</code></li>   <li>Text should convey included/unavailable status</li>   <li>Alternative: Use prefixes like \"Included:\" or \"Not included:\"</li>   <li>Screen reader text: <code>&#x3C;span class=\"sr-only\">Included&#x3C;/span></code></li> </ul> <h3>9. Feature Comparison Behavior</h3> <p><strong>Desktop:</strong></p> <ul>   <li>Features align horizontally across all plans</li>   <li>Equal height for each feature row</li>   <li>Makes it easy to compare at a glance</li> </ul> <p><strong>Mobile:</strong></p> <ul>   <li>Features within each card only</li>   <li>No cross-card comparison (acceptable trade-off)</li>   <li>Consider showing only top features, with \"See all features\" expand</li> </ul> <p><strong>Feature Synchronization:</strong></p> <ul>   <li>If feature appears in multiple plans, keep descriptions identical</li>   <li>Order features by importance (most valuable first)</li>   <li>Consider using tooltips for complex features</li> </ul> <h2>Responsive Breakpoints</h2> <h3>Desktop (≥1024px)</h3> <ul>   <li>3-column grid layout</li>   <li>Full feature lists visible</li>   <li>Larger typography and spacing</li>   <li>\"Most Popular\" plan can be elevated/scaled</li>   <li>Horizontal alignment of features across cards</li> </ul> <h3>Tablet (768px - 1023px)</h3> <ul>   <li>3-column grid maintained, reduced spacing</li>   <li>Slightly smaller typography</li>   <li>Reduced padding in cards</li>   <li>May require horizontal scroll if cards too narrow</li>   <li>Alternative: Switch to 2+1 layout (2 top, 1 bottom)</li> </ul> <h3>Mobile (&#x3C;768px)</h3> <ul>   <li>Single column, stacked cards</li>   <li>Full width cards with 16px margins</li>   <li>Reduced typography sizes</li>   <li>Most Popular plan first or maintain order</li>   <li>Simplified feature lists (show top 5-7, expand for more)</li>   <li>Sticky CTA button optional for easier conversion</li> </ul> <h3>Small Mobile (&#x3C;375px)</h3> <ul>   <li>Further reduced padding (16-20px)</li>   <li>Smaller typography</li>   <li>More compact button sizing</li> </ul> <h2>Interaction Patterns</h2> <h3>Billing Toggle</h3> <ol>   <li>User clicks Monthly/Yearly label or switch</li>   <li>Switch animates to new position (150-200ms)</li>   <li>All prices simultaneously update with smooth transition</li>   <li>Savings badge visibility updates (show on yearly)</li>   <li>State persists during session (optional localStorage)</li> </ol> <h3>Plan Selection</h3> <ol>   <li>User clicks CTA button</li>   <li>Button shows loading state (if async action)</li>   <li>Navigate to signup/checkout with plan preselected</li>   <li>Or open modal for immediate action</li>   <li>Track plan selection for analytics</li> </ol> <h3>Feature Tooltip (Optional)</h3> <ol>   <li>User hovers or clicks info icon next to feature</li>   <li>Tooltip appears with detailed explanation</li>   <li>Tooltip dismisses on mouse leave or Escape key</li>   <li>Accessible via keyboard (Tab to icon, Enter to show)</li> </ol> <h3>Plan Comparison Modal (Optional)</h3> <ol>   <li>\"Compare plans\" link below pricing table</li>   <li>Opens modal or navigates to detailed comparison page</li>   <li>Shows full feature matrix with all plans side-by-side</li>   <li>Helpful for complex products with many features</li> </ol> <h2>Accessibility Requirements</h2> <h3>WCAG 2.1 Compliance (Level AA)</h3> <p><strong>Structure:</strong></p> <ul>   <li>Use semantic HTML: <code>&#x3C;section></code>, <code>&#x3C;article></code>, <code>&#x3C;ul></code>, <code>&#x3C;button></code></li>   <li>Proper heading hierarchy (h2 for section title, h3 for plan names)</li>   <li>Each plan card should be a landmark or have clear structure</li> </ul> <p><strong>Keyboard Navigation:</strong></p> <ul>   <li>Tab order: Billing toggle → Plan 1 CTA → Plan 2 CTA → Plan 3 CTA</li>   <li>Enter/Space: Activate buttons and toggle</li>   <li>Focus visible on all interactive elements</li> </ul> <p><strong>ARIA Attributes:</strong></p> <ol>   <li>     <p><strong>Billing Toggle:</strong></p>     <pre><code class=\"language-html\">&#x3C;div role=\"radiogroup\" aria-label=\"Billing frequency\">   &#x3C;button role=\"radio\" aria-checked=\"true\">Monthly&#x3C;/button>   &#x3C;button role=\"radio\" aria-checked=\"false\">Yearly&#x3C;/button> &#x3C;/div> </code></pre>     <p>Or use switch pattern:</p>     <pre><code class=\"language-html\">&#x3C;button role=\"switch\" aria-checked=\"false\" aria-label=\"Switch to yearly billing\">   &#x3C;span>Monthly&#x3C;/span> | &#x3C;span>Yearly&#x3C;/span> &#x3C;/button> </code></pre>   </li>   <li>     <p><strong>Plan Cards:</strong></p>     <pre><code class=\"language-html\">&#x3C;article aria-labelledby=\"plan-pro-name\">   &#x3C;h3 id=\"plan-pro-name\">Professional&#x3C;/h3>   ... &#x3C;/article> </code></pre>   </li>   <li>     <p><strong>Feature List:</strong></p>     <pre><code class=\"language-html\">&#x3C;ul aria-label=\"Features included in Professional plan\">   &#x3C;li>     &#x3C;svg aria-hidden=\"true\">...&#x3C;/svg>     &#x3C;span>Unlimited projects&#x3C;/span>     &#x3C;span class=\"sr-only\">Included&#x3C;/span>   &#x3C;/li> &#x3C;/ul> </code></pre>   </li>   <li>     <p><strong>Badges:</strong></p>     <pre><code class=\"language-html\">&#x3C;span class=\"badge\" role=\"status\" aria-label=\"Most popular plan\">   Most Popular &#x3C;/span> </code></pre>   </li> </ol> <p><strong>Screen Reader Support:</strong></p> <ul>   <li>Prices announced correctly: \"$29 per month\"</li>   <li>Feature icons marked <code>aria-hidden=\"true\"</code></li>   <li>Feature status clear from text or sr-only spans</li>   <li>Plan changes announced when billing toggle switches</li> </ul> <p><strong>Color Contrast:</strong></p> <ul>   <li>Text: Minimum 4.5:1 contrast ratio</li>   <li>Buttons: 3:1 contrast for non-text elements</li>   <li>Icons: Ensure checkmarks and x-marks are distinguishable</li>   <li>Test with color blindness simulators</li> </ul> <p><strong>Focus Indicators:</strong></p> <pre><code class=\"language-css\">button:focus-visible, a:focus-visible {   outline: 2px solid var(--primary-color);   outline-offset: 2px; } </code></pre> <h2>Design System Specifications</h2> <p><strong>Important</strong>: These specifications are framework and styling-agnostic. Implement using your project's chosen approach (Tailwind, CSS Modules, styled-components, Chakra UI, Material-UI, SCSS, etc.).</p> <h3>Color Guidelines</h3> <h4>Plan Cards</h4> <ul>   <li><strong>Background (Light)</strong>: White (#ffffff) or very light gray (#fafafa)</li>   <li><strong>Background (Dark)</strong>: Dark neutral (#1f2937) or slightly lighter than page (#1a1a1a)</li>   <li><strong>Border (Light)</strong>: Light gray (#e5e7eb) or transparent</li>   <li><strong>Border (Dark)</strong>: Medium gray (#374151) or transparent</li>   <li><strong>Most Popular Border</strong>: Primary color (#3b82f6) or darker border with shadow</li> </ul> <h4>Text Colors</h4> <ul>   <li><strong>Primary Text (Light)</strong>: Dark gray (#111827, #1f2937)</li>   <li><strong>Primary Text (Dark)</strong>: Light gray (#f9fafb, #e5e7eb)</li>   <li><strong>Muted Text (Light)</strong>: Medium gray (#6b7280, #9ca3af)</li>   <li><strong>Muted Text (Dark)</strong>: Medium gray (#9ca3af, #6b7280)</li>   <li><strong>Price</strong>: Emphasis color, typically darker/bolder than primary text</li> </ul> <h4>CTA Buttons</h4> <ul>   <li><strong>Primary Button Background</strong>: Primary color (#3b82f6, #10b981)</li>   <li><strong>Primary Button Text</strong>: White (#ffffff)</li>   <li><strong>Primary Button Hover</strong>: Darker shade (darken by 10-15%)</li>   <li><strong>Secondary Button Border</strong>: Primary color or neutral (#e5e7eb)</li>   <li><strong>Secondary Button Text</strong>: Primary color or primary text</li>   <li><strong>Secondary Button Hover</strong>: Light background fill (#f3f4f6)</li> </ul> <h4>Feature Icons</h4> <ul>   <li><strong>Checkmark (Included)</strong>: Success green (#10b981) or primary color</li>   <li><strong>X-mark (Unavailable)</strong>: Light gray (#9ca3af) or muted red (#ef4444)</li> </ul> <h4>Badge</h4> <ul>   <li><strong>Background</strong>: Primary color or gradient</li>   <li><strong>Text</strong>: White or high-contrast color</li>   <li><strong>Alternative</strong>: Primary color at 10-20% opacity with primary text</li> </ul> <h4>Billing Toggle</h4> <ul>   <li><strong>Inactive Label</strong>: Muted text (#6b7280)</li>   <li><strong>Active Label</strong>: Primary text color</li>   <li><strong>Switch Background (Off)</strong>: Light gray (#e5e7eb)</li>   <li><strong>Switch Background (On)</strong>: Primary color (#3b82f6)</li>   <li><strong>Switch Thumb</strong>: White (#ffffff)</li>   <li><strong>Savings Badge</strong>: Success/primary color at 10-20% opacity, primary text</li> </ul> <h3>Typography</h3> <ul>   <li><strong>Section Title</strong>: 32-40px, bold (700), primary text</li>   <li><strong>Plan Name</strong>: 24-28px (desktop), 20-24px (mobile), semibold/bold</li>   <li><strong>Price</strong>: 48-56px (desktop), 40-48px (mobile), bold/extra-bold</li>   <li><strong>Billing Period</strong>: 16-18px, regular/medium, muted text</li>   <li><strong>CTA Button</strong>: 16-18px, medium/semibold</li>   <li><strong>Features</strong>: 14-16px, regular</li>   <li><strong>Badge</strong>: 12-14px, medium/semibold, uppercase optional</li>   <li><strong>Description</strong>: 14-16px, regular, muted text</li> </ul> <p><strong>Font Family</strong>: Use project's font stack (system-ui, -apple-system, sans-serif or custom)</p> <p><strong>Line Height</strong>:</p> <ul>   <li>Headings: 1.2-1.3</li>   <li>Body text: 1.5</li>   <li>Features: 1.5</li> </ul> <h3>Spacing System</h3> <p>Use consistent spacing scale (4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px):</p> <ul>   <li><strong>Container Padding</strong>: 48-64px vertical, 24-32px horizontal (desktop), 32-48px vertical, 16-24px horizontal (mobile)</li>   <li><strong>Card Padding</strong>: 32-40px (desktop), 24-32px (mobile)</li>   <li><strong>Grid Gap</strong>: 24-32px (desktop), 24px (mobile)</li>   <li><strong>Element Spacing</strong>: 24-32px between major sections, 16-24px between related elements</li>   <li><strong>Feature Items</strong>: 8-12px gap between items</li> </ul> <h3>Shadows &#x26; Elevation</h3> <ul>   <li><strong>Default Card</strong>: <code>0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)</code></li>   <li><strong>Most Popular Card</strong>: <code>0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)</code></li>   <li><strong>Hover Card</strong>: <code>0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)</code></li>   <li><strong>Primary Button</strong>: <code>0 1px 2px rgba(0, 0, 0, 0.05)</code></li>   <li><strong>Primary Button Hover</strong>: <code>0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)</code></li> </ul> <h3>Border Radius</h3> <ul>   <li><strong>Cards</strong>: 12-16px</li>   <li><strong>Buttons</strong>: 8-12px</li>   <li><strong>Badges</strong>: 12px (pill) or 6px (rounded)</li>   <li><strong>Toggle Switch</strong>: 16px (pill)</li> </ul> <h2>State Management Considerations</h2> <h3>For AI Agents to Implement</h3> <p><strong>State to Track:</strong></p> <ol>   <li><code>billingFrequency: \"monthly\" | \"yearly\"</code> - Current billing period selection     <ul>       <li><strong>Default</strong>: \"monthly\"</li>       <li><strong>Persistence</strong>: Session storage or component state (optional localStorage for persistence)</li>     </ul>   </li>   <li><code>selectedPlan: string | null</code> - Which plan user clicked (optional, for analytics)</li>   <li><code>loading: boolean</code> - Loading state for CTA buttons (if async)</li> </ol> <p><strong>Computed Values:</strong></p> <ul>   <li>Current prices based on <code>billingFrequency</code></li>   <li>Discount amounts for yearly plans</li>   <li>Feature availability per plan (can be static data)</li> </ul> <p><strong>State Persistence:</strong></p> <ul>   <li><code>billingFrequency</code> → Session storage (optional)</li>   <li>Reset on page reload acceptable</li>   <li>Or persist in URL query param: <code>?billing=yearly</code></li> </ul> <p><strong>Data Structure:</strong></p> <pre><code class=\"language-javascript\">const pricingPlans = [   {     id: 'starter',     name: 'Starter',     description: 'Perfect for individuals',     monthlyPrice: 9,     yearlyPrice: 89, // 17% discount     highlighted: false,     features: [       { name: 'Up to 5 projects', included: true },       { name: '1 GB storage', included: true },       { name: 'Basic support', included: true },       { name: 'Advanced analytics', included: false },       { name: 'Custom domain', included: false },     ],     cta: { text: 'Start Free', action: '/signup?plan=starter' }   },   {     id: 'professional',     name: 'Professional',     description: 'Perfect for small teams',     monthlyPrice: 29,     yearlyPrice: 279, // 20% discount     highlighted: true,     badge: 'Most Popular',     features: [       { name: 'Unlimited projects', included: true },       { name: '10 GB storage', included: true },       { name: 'Priority support', included: true },       { name: 'Advanced analytics', included: true },       { name: 'Custom domain', included: true },       { name: 'API access', included: false },     ],     cta: { text: 'Get Started', action: '/signup?plan=pro' }   },   {     id: 'enterprise',     name: 'Enterprise',     description: 'Perfect for large organizations',     monthlyPrice: 99,     yearlyPrice: 990, // 17% discount     highlighted: false,     features: [       { name: 'Unlimited everything', included: true },       { name: 'Unlimited storage', included: true },       { name: '24/7 dedicated support', included: true },       { name: 'Advanced analytics', included: true },       { name: 'Custom domain', included: true },       { name: 'API access', included: true },       { name: 'SSO &#x26; SAML', included: true },     ],     cta: { text: 'Contact Sales', action: '/contact?plan=enterprise' }   } ]; </code></pre> <h2>Animation Specifications</h2> <h3>Billing Toggle Animation</h3> <ul>   <li><strong>Duration</strong>: 200ms</li>   <li><strong>Easing</strong>: ease-in-out</li>   <li><strong>Properties</strong>:     <ul>       <li>Switch thumb: <code>transform</code> (translateX)</li>       <li>Switch background: <code>background-color</code></li>       <li>Label colors: <code>color</code></li>     </ul>   </li> </ul> <h3>Price Change Animation</h3> <ul>   <li><strong>Duration</strong>: 250ms</li>   <li><strong>Easing</strong>: ease-in-out</li>   <li><strong>Effect Options</strong>:     <ol>       <li>Fade: Opacity 1 → 0 → 1</li>       <li>Slide: translateY(10px) → translateY(0)</li>       <li>Scale: scale(0.95) → scale(1)</li>     </ol>   </li>   <li><strong>Stagger</strong>: Optional 50ms delay between cards for polished effect</li> </ul> <h3>Card Hover Animation</h3> <ul>   <li><strong>Duration</strong>: 150-200ms</li>   <li><strong>Easing</strong>: ease-out</li>   <li><strong>Properties</strong>:     <ul>       <li>Shadow: Increase elevation</li>       <li>Transform: translateY(-4px) or scale(1.02)</li>     </ul>   </li>   <li><strong>Boundary</strong>: Keep subtle to avoid distraction</li> </ul> <h3>CTA Button Hover</h3> <ul>   <li><strong>Duration</strong>: 150ms</li>   <li><strong>Easing</strong>: ease-out</li>   <li><strong>Properties</strong>:     <ul>       <li>Background color: Darken</li>       <li>Shadow: Increase elevation</li>       <li>Transform: scale(1.02) optional</li>     </ul>   </li> </ul> <h3>Prefers Reduced Motion</h3> <p>When user has <code>prefers-reduced-motion: reduce</code>:</p> <ul>   <li>Disable card hover transforms</li>   <li>Disable price change slide/scale (use only fade)</li>   <li>Keep toggle switch animation (functional)</li>   <li>Reduce animation durations to &#x3C;100ms</li> </ul> <h2>Code Implementation Patterns</h2> <h3>React Example Pattern</h3> <pre><code class=\"language-jsx\">const PricingTable = () => {   const [billingFrequency, setBillingFrequency] = useState('monthly');      const toggleBilling = () => {     setBillingFrequency(prev => prev === 'monthly' ? 'yearly' : 'monthly');   };      return (     &#x3C;section className=\"pricing-container\">       &#x3C;BillingToggle          frequency={billingFrequency}         onToggle={toggleBilling}       />       &#x3C;div className=\"plans-grid\">         {pricingPlans.map(plan => (           &#x3C;PlanCard             key={plan.id}             plan={plan}             billingFrequency={billingFrequency}             highlighted={plan.highlighted}           />         ))}       &#x3C;/div>     &#x3C;/section>   ); }; </code></pre> <h3>Vue Example Pattern</h3> <pre><code class=\"language-vue\">&#x3C;template>   &#x3C;section class=\"pricing-container\">     &#x3C;BillingToggle       :frequency=\"billingFrequency\"       @toggle=\"toggleBilling\"     />     &#x3C;div class=\"plans-grid\">       &#x3C;PlanCard         v-for=\"plan in pricingPlans\"         :key=\"plan.id\"         :plan=\"plan\"         :billing-frequency=\"billingFrequency\"         :highlighted=\"plan.highlighted\"       />     &#x3C;/div>   &#x3C;/section> &#x3C;/template>  &#x3C;script setup> import { ref } from 'vue';  const billingFrequency = ref('monthly');  const toggleBilling = () => {   billingFrequency.value = billingFrequency.value === 'monthly' ? 'yearly' : 'monthly'; }; &#x3C;/script> </code></pre> <h3>Angular Example Pattern</h3> <pre><code class=\"language-typescript\">@Component({   selector: 'app-pricing-table',   template: `     &#x3C;section class=\"pricing-container\">       &#x3C;app-billing-toggle         [frequency]=\"billingFrequency\"         (toggle)=\"toggleBilling()\"       />       &#x3C;div class=\"plans-grid\">         &#x3C;app-plan-card           *ngFor=\"let plan of pricingPlans\"           [plan]=\"plan\"           [billingFrequency]=\"billingFrequency\"           [highlighted]=\"plan.highlighted\"         />       &#x3C;/div>     &#x3C;/section>   ` }) export class PricingTableComponent {   billingFrequency: 'monthly' | 'yearly' = 'monthly';   pricingPlans = PRICING_PLANS;      toggleBilling() {     this.billingFrequency = this.billingFrequency === 'monthly' ? 'yearly' : 'monthly';   } } </code></pre> <h2>Testing Checklist</h2> <p>When implementing this pricing table, test:</p> <ul>   <li>[ ] Billing toggle switches between monthly and yearly</li>   <li>[ ] All plan prices update simultaneously when billing changes</li>   <li>[ ] Price change animations are smooth</li>   <li>[ ] Most Popular plan is visually distinct</li>   <li>[ ] CTA buttons are prominently displayed and functional</li>   <li>[ ] Feature lists align properly across plans (desktop)</li>   <li>[ ] Cards stack properly on mobile</li>   <li>[ ] Responsive at all breakpoints (mobile, tablet, desktop)</li>   <li>[ ] Keyboard navigation works (Tab through toggle and CTAs)</li>   <li>[ ] Screen reader announces prices correctly</li>   <li>[ ] Focus indicators visible on all interactive elements</li>   <li>[ ] Color contrast meets WCAG AA (4.5:1 for text)</li>   <li>[ ] Hover states work on cards and buttons</li>   <li>[ ] Touch interactions work on mobile</li>   <li>[ ] No layout shift when prices change</li>   <li>[ ] Feature icons are accessible (aria-hidden + text)</li>   <li>[ ] Toggle has proper ARIA attributes</li>   <li>[ ] Plan selection tracking works (if implemented)</li>   <li>[ ] Animations respect prefers-reduced-motion</li>   <li>[ ] Long feature text wraps properly</li>   <li>[ ] Badges are readable and accessible</li> </ul> <h2>Common Variations</h2> <h3>2-Tier Pricing</h3> <ul>   <li>Remove middle plan</li>   <li>Adjust grid to 2 columns</li>   <li>Both plans equal visual weight or highlight one</li> </ul> <h3>4+ Tier Pricing</h3> <ul>   <li>Horizontal scroll on mobile</li>   <li>Or accordion/tabs for mobile</li>   <li>Feature comparison table more important</li> </ul> <h3>Feature Comparison Table</h3> <ul>   <li>Separate section below cards</li>   <li>Full feature matrix</li>   <li>Plan columns with checkmarks</li>   <li>\"Compare plans\" link</li> </ul> <h3>Annual Discount Badge</h3> <ul>   <li>Show \"Save 20%\" prominently</li>   <li>Highlight savings in pricing section</li>   <li>Animate badge on toggle</li> </ul> <h3>Free Trial CTA</h3> <ul>   <li>\"Start 14-day free trial\"</li>   <li>Emphasize no credit card required</li>   <li>Convert to paid after trial</li> </ul> <h3>Tiered Features</h3> <ul>   <li>Group features by category</li>   <li>Expandable sections for long lists</li>   <li>Icons for feature categories</li> </ul> <h3>Custom Enterprise</h3> <ul>   <li>\"Contact us\" or \"Request quote\"</li>   <li>Custom pricing</li>   <li>Feature list different or hidden</li> </ul> <h2>Edge Cases</h2> <h3>Very Long Feature Names</h3> <ul>   <li>Wrap text to multiple lines</li>   <li>Maintain consistent height across cards</li>   <li>Consider truncation with tooltip</li> </ul> <h3>Many Features</h3> <ul>   <li>Limit visible features (show top 7-10)</li>   <li>\"Show all features\" expand button</li>   <li>Or link to full comparison page</li> </ul> <h3>Price Changes During View</h3> <ul>   <li>Handle real-time price updates</li>   <li>Smooth transition, no jarring jumps</li>   <li>Consider \"prices may change\" disclaimer</li> </ul> <h3>Currency Conversion</h3> <ul>   <li>Support multiple currencies</li>   <li>Currency selector above/below pricing</li>   <li>Respect user locale</li> </ul> <h3>Fractional Pricing</h3> <ul>   <li>Handle decimals: $9.99 vs $10</li>   <li>Consistent decimal formatting</li>   <li>Cents in smaller font size</li> </ul> <h2>AI Agent Implementation Prompt Template</h2> <p>Use this template when asking an AI agent to implement this pricing table:</p> <pre><code>Create a 3-tier SaaS pricing table with the following specifications:  1. Billing Toggle:    - Monthly/Yearly switch with savings badge    - Smooth toggle animation    - Updates all plan prices simultaneously  2. Three Plan Cards (Starter, Professional, Enterprise):    - Professional plan highlighted as \"Most Popular\"    - Each card includes: plan name, price, CTA button, feature list    - Price changes animate when billing toggle switches    - Responsive: 3-column grid on desktop, stacked on mobile  3. Visual Design:    - Cards with subtle shadows, highlighted plan more prominent    - Checkmarks for included features, x-marks for unavailable    - Primary CTA for highlighted plan, secondary for others    - Consistent spacing and typography  4. Pricing:    - Starter: $9/mo, $89/yr    - Professional: $29/mo, $279/yr (Most Popular)    - Enterprise: $99/mo, $990/yr    - Show savings on yearly plans  5. Accessibility:    - Keyboard navigation (Tab, Enter, Space)    - ARIA labels for toggle and features    - Screen reader announcements for price changes    - Focus visible on all interactive elements  6. Use [Framework: React/Vue/Angular/Svelte] with [Styling: Tailwind/Chakra/CSS Modules]  7. Animate price changes (250ms fade/slide) and respect prefers-reduced-motion  Reference: UI Potion 3-Tier SaaS Pricing Table </code></pre> <h2>Summary for AI Agents</h2> <p>This 3-tier pricing table is a standard marketing component with billing frequency toggle and feature comparison. Key implementation points:</p> <ol>   <li><strong>Layout</strong>: CSS Grid for plans (3 columns desktop, 1 column mobile)</li>   <li><strong>State</strong>: Track billing frequency (monthly/yearly), update prices reactively</li>   <li><strong>Responsive</strong>: Grid to stack transition, adjust typography and spacing</li>   <li><strong>Animations</strong>: Smooth price transitions (250ms), toggle switch animation</li>   <li><strong>Accessibility</strong>: ARIA labels, keyboard navigation, screen reader support</li>   <li><strong>Framework-agnostic</strong>: Adapt patterns to any framework's component model</li> </ol> <p>Generate clean, semantic HTML with proper component separation. Use framework-specific state management patterns and CSS methodology as specified by the user. Prioritize conversion optimization with clear visual hierarchy and prominent CTAs.</p>","excerpt":"A responsive 3-tier pricing table component with monthly/yearly billing toggle, highlighted \"Most Popular\" plan, and feature comparison. Perfect for SaaS marketing pages, product pages, and subscription-based services.","publicationDate":"2026-01-18","tags":["features","pricing","saas","subscription","billing","marketing","responsive","conversion"],"coverImage":""},{"fileName":"features/form-login-register.html","title":"Login & Registration Forms with Validation","body":"<h1>Login &#x26; Registration Forms with Validation</h1> <p>Complete authentication forms (login and registration) with real-time validation, error handling, password strength indicator, and full accessibility. Demonstrates best practices for form validation UX, field states, and user feedback.</p> <h2>Overview</h2> <p>This feature provides two complete authentication forms:</p> <ul>   <li><strong>Login Form</strong>: Email + Password with \"Remember me\" and \"Forgot password\"</li>   <li><strong>Registration Form</strong>: Name + Email + Password + Password Confirmation with strength indicator</li> </ul> <p>Both forms follow validation best practices with proper timing, clear error messages, success states, and keyboard/screen reader accessibility.</p> <h2>User Journey</h2> <h3>Login Flow</h3> <ol>   <li>User enters email → Validates on blur → Shows error if invalid</li>   <li>User enters password → Validates on blur → Shows error if invalid</li>   <li>User clicks \"Sign In\" → Validates all fields → Shows loading state</li>   <li>On success → Navigate to dashboard</li>   <li>On error → Show error message, focus first invalid field</li> </ol> <h3>Registration Flow</h3> <ol>   <li>User enters name → Validates on blur</li>   <li>User enters email → Validates on blur → Optional: Check availability</li>   <li>User enters password → Shows strength meter in real-time</li>   <li>User enters password confirmation → Validates in real-time → Shows match/mismatch</li>   <li>User clicks \"Create Account\" → Validates all fields → Shows loading state</li>   <li>On success → Navigate to dashboard or email verification</li>   <li>On error → Show errors, focus first invalid field</li> </ol> <h2>Key Features</h2> <h3>Validation Timing (Following Form Validation Pattern)</h3> <ul>   <li><strong>On-blur validation</strong> for email, name, password (wait until user finishes)</li>   <li><strong>Real-time validation</strong> for password confirmation (updates as user types)</li>   <li><strong>Real-time feedback</strong> for password strength (visual meter)</li>   <li><strong>On-submit validation</strong> as final check before submission</li> </ul> <h3>Error Handling</h3> <ul>   <li>Clear, specific error messages: \"Please enter a valid email address (e.g., name@example.com)\"</li>   <li>Errors appear below fields inline</li>   <li>Errors announced to screen readers via aria-live</li>   <li>Errors persist until field becomes valid</li>   <li>First invalid field receives focus after submit</li> </ul> <h3>Success States</h3> <ul>   <li>Green checkmarks appear on valid fields</li>   <li>Visual confirmation for user progress</li>   <li>Success state helps user know they're on the right track</li> </ul> <h3>Password Features</h3> <ul>   <li><strong>Visibility Toggle</strong>: Eye icon to show/hide password</li>   <li><strong>Strength Meter</strong> (Registration): Weak/Medium/Strong indicator     <ul>       <li>Weak: &#x3C; 8 characters</li>       <li>Medium: 8+ characters with letters + numbers</li>       <li>Strong: 8+ characters with letters + numbers + special characters</li>     </ul>   </li>   <li><strong>Real-time Confirmation</strong>: Password confirmation validates as user types</li> </ul> <h3>Form Switching</h3> <ul>   <li>Toggle between Login and Registration forms</li>   <li>Reset form state when switching</li>   <li>Smooth transition with fade animation</li>   <li>Focus moves to first field of new form</li> </ul> <h2>Form Structure</h2> <h3>Login Form</h3> <p>The login form is a vertically stacked card with maximum width of 420px, centered on the page. It contains:</p> <ul>   <li><strong>Header</strong>: \"Welcome Back\" title with \"Sign in to your account\" subtitle</li>   <li><strong>Email Field</strong>: Required input with validation triggered on blur, showing checkmark when valid or error message when invalid</li>   <li><strong>Password Field</strong>: Required input with eye icon for visibility toggle, validation on blur</li>   <li><strong>Remember Me Checkbox</strong>: Optional checkbox for persistent login</li>   <li><strong>Submit Button</strong>: Primary \"Sign In\" button with loading state</li>   <li><strong>Forgot Password Link</strong>: Secondary action below the button</li>   <li><strong>Divider</strong>: \"or\" text with horizontal lines</li>   <li><strong>Social Login</strong>: \"Sign in with Google\" button (optional)</li>   <li><strong>Form Switch Link</strong>: \"Don't have an account? Create one\" at the bottom</li> </ul> <h3>Registration Form</h3> <p>The registration form follows the same card layout as login. It contains:</p> <ul>   <li><strong>Header</strong>: \"Create Account\" title with \"Get started for free\" subtitle</li>   <li><strong>Name Field</strong>: Required text input, validates on blur (minimum 2 characters)</li>   <li><strong>Email Field</strong>: Required input with validation on blur, optional availability check</li>   <li><strong>Password Field</strong>: Required input with eye icon toggle, displays real-time strength meter (Weak/Medium/Strong indicator with visual bar), validates on blur</li>   <li><strong>Confirm Password Field</strong>: Required input with eye icon toggle, validates in real-time as user types to show immediate match/mismatch feedback</li>   <li><strong>Terms Checkbox</strong>: Required checkbox \"I agree to Terms &#x26; Privacy\"</li>   <li><strong>Submit Button</strong>: Primary \"Create Account\" button with loading state</li>   <li><strong>Divider</strong>: \"or\" text with horizontal lines</li>   <li><strong>Social Signup</strong>: \"Sign up with Google\" button (optional)</li>   <li><strong>Form Switch Link</strong>: \"Already have an account? Sign in\" at the bottom</li> </ul> <h2>Validation Rules</h2> <h3>Login Form</h3> <p><strong>Email Field</strong> (Required):</p> <ul>   <li>Validates on blur</li>   <li>Must be valid email format</li>   <li>Error: \"Please enter a valid email address (e.g., name@example.com)\"</li> </ul> <p><strong>Password Field</strong> (Required):</p> <ul>   <li>Validates on blur</li>   <li>Minimum 8 characters</li>   <li>Error: \"Password must be at least 8 characters\"</li> </ul> <h3>Registration Form</h3> <p><strong>Name Field</strong> (Required):</p> <ul>   <li>Validates on blur</li>   <li>Minimum 2 characters</li>   <li>Error: \"Name must be at least 2 characters\"</li> </ul> <p><strong>Email Field</strong> (Required):</p> <ul>   <li>Validates on blur</li>   <li>Must be valid email format</li>   <li>Optional: Check availability with backend</li>   <li>Errors: \"Please enter a valid email address\" or \"This email is already registered\"</li> </ul> <p><strong>Password Field</strong> (Required):</p> <ul>   <li>Validates on blur for errors</li>   <li>Real-time strength calculation as user types</li>   <li>Minimum 8 characters</li>   <li>Strength meter shows: Weak (&#x3C; 8 chars), Medium (8+ with letters+numbers), Strong (8+ with special chars)</li>   <li>Error: \"Password must be at least 8 characters\"</li> </ul> <p><strong>Confirm Password Field</strong> (Required):</p> <ul>   <li>Validates in real-time as user types</li>   <li>Must match password field exactly</li>   <li>Shows immediate feedback: success checkmark when matches, error when mismatches</li>   <li>Error: \"Passwords must match\"</li> </ul> <p><strong>Terms Checkbox</strong> (Required):</p> <ul>   <li>Validates on submit</li>   <li>Must be checked to proceed</li>   <li>Error: \"You must agree to the terms and privacy policy\"</li> </ul> <h2>Error Messages</h2> <h3>Clear &#x26; Actionable Examples</h3> <p><strong>Good Error Messages</strong>:</p> <ul>   <li>\"Please enter a valid email address (e.g., name@example.com)\"</li>   <li>\"Password must be at least 8 characters\"</li>   <li>\"Passwords must match\"</li>   <li>\"Name is required\"</li> </ul> <p><strong>Bad Error Messages</strong>:</p> <ul>   <li>\"Invalid input\"</li>   <li>\"Error\"</li>   <li>\"Wrong format\"</li> </ul> <h2>Password Strength Calculation</h2> <pre><code class=\"language-javascript\">// Example strength calculation function calculatePasswordStrength(password) {   if (password.length &#x3C; 8) return 'weak';      const hasLetters = /[a-zA-Z]/.test(password);   const hasNumbers = /[0-9]/.test(password);   const hasSpecial = /[!@#$%^&#x26;*(),.?\":{}|&#x3C;>]/.test(password);      if (hasLetters &#x26;&#x26; hasNumbers &#x26;&#x26; hasSpecial) return 'strong';   if (hasLetters &#x26;&#x26; hasNumbers) return 'medium';   return 'weak'; } </code></pre> <h2>Responsive Behavior</h2> <h3>Desktop (>= 768px)</h3> <ul>   <li>Form card: 420px max width, centered</li>   <li>Padding: 48px</li>   <li>Input height: 48px</li>   <li>Font size: 16px</li> </ul> <h3>Mobile (&#x3C; 768px)</h3> <ul>   <li>Form card: Full width minus 16px margins</li>   <li>Padding: 24px</li>   <li>Input height: 48px (minimum for touch)</li>   <li>Font size: 16px minimum (prevents iOS zoom)</li> </ul> <h2>Accessibility</h2> <h3>Keyboard Navigation</h3> <ul>   <li>Tab: Move through fields → checkbox → button → links</li>   <li>Shift+Tab: Move backward</li>   <li>Enter: Submit form from any field</li>   <li>Space: Toggle checkbox, activate button</li> </ul> <h3>ARIA Attributes</h3> <p><strong>Input Fields</strong>:</p> <pre><code class=\"language-html\">&#x3C;input   type=\"email\"   id=\"email\"   aria-labelledby=\"email-label\"   aria-describedby=\"email-error\"   aria-invalid=\"true\"   aria-required=\"true\"   autocomplete=\"email\" /> </code></pre> <p><strong>Error Messages</strong>:</p> <pre><code class=\"language-html\">&#x3C;div id=\"email-error\" role=\"alert\" aria-live=\"polite\">   Please enter a valid email address &#x3C;/div> </code></pre> <p><strong>Submit Button</strong>:</p> <pre><code class=\"language-html\">&#x3C;button   type=\"submit\"   aria-busy=\"true\"   aria-disabled=\"true\" >   &#x3C;span>Signing in...&#x3C;/span>   &#x3C;span class=\"spinner\" aria-hidden=\"true\">&#x3C;/span> &#x3C;/button> </code></pre> <h3>Screen Reader Support</h3> <ul>   <li>Form title announced on load</li>   <li>Field labels announced on focus</li>   <li>Required state conveyed via aria-required</li>   <li>Errors announced via aria-live when they appear</li>   <li>Password strength announced as it changes</li>   <li>Loading state announced during submission</li>   <li>Success/error messages announced</li> </ul> <h2>States</h2> <h3>Field States</h3> <ul>   <li><strong>Default</strong>: Clean input, no validation</li>   <li><strong>Focused</strong>: Border color changes, visible focus ring</li>   <li><strong>Valid</strong>: Green border, checkmark icon</li>   <li><strong>Invalid</strong>: Red border, error message below</li>   <li><strong>Disabled</strong>: Gray background, not interactive</li> </ul> <h3>Form States</h3> <ul>   <li><strong>Idle</strong>: Ready for input</li>   <li><strong>Validating</strong>: Checking field values</li>   <li><strong>Valid</strong>: All fields valid, ready to submit</li>   <li><strong>Invalid</strong>: Has errors, show messages</li>   <li><strong>Submitting</strong>: Loading state, disabled inputs</li>   <li><strong>Success</strong>: Submission successful</li>   <li><strong>Error</strong>: Submission failed, show error</li> </ul> <h2>Implementation Notes</h2> <h3>TIP: Consider Using Existing Potions</h3> <p>This feature works great with:</p> <ul>   <li><strong>Text Input Component</strong> - For consistent input field styling and behavior</li>   <li><strong>Form Validation Pattern</strong> - For validation timing and UX best practices</li> </ul> <p>These are optional references - this feature works independently.</p> <h3>Form State Management</h3> <p><strong>React Example</strong> (using hooks):</p> <pre><code class=\"language-javascript\">const [formData, setFormData] = useState({   email: '',   password: '' }); const [errors, setErrors] = useState({}); const [touched, setTouched] = useState({}); const [isSubmitting, setIsSubmitting] = useState(false);  const handleBlur = (field) => {   setTouched({ ...touched, [field]: true });   validateField(field, formData[field]); }; </code></pre> <p><strong>Vue Example</strong> (using composition API):</p> <pre><code class=\"language-javascript\">const formData = reactive({   email: '',   password: '' }); const errors = ref({}); const touched = ref({}); const isSubmitting = ref(false);  const handleBlur = (field) => {   touched.value[field] = true;   validateField(field, formData[field]); }; </code></pre> <h3>Password Toggle Implementation</h3> <pre><code class=\"language-javascript\">const [showPassword, setShowPassword] = useState(false);  &#x3C;input   type={showPassword ? 'text' : 'password'}   ... /> &#x3C;button   type=\"button\"   onClick={() => setShowPassword(!showPassword)}   aria-label={showPassword ? 'Hide password' : 'Show password'} >   {showPassword ? &#x3C;EyeOffIcon /> : &#x3C;EyeIcon />} &#x3C;/button> </code></pre> <h2>Testing Checklist</h2> <h3>Functionality</h3> <ul>   <li>[ ] Email validation works on blur</li>   <li>[ ] Password validation works on blur</li>   <li>[ ] Password confirmation validates in real-time</li>   <li>[ ] Password strength updates as user types</li>   <li>[ ] Submit validates all fields</li>   <li>[ ] Focus moves to first error on submit</li>   <li>[ ] Form switch resets state</li>   <li>[ ] Password toggle shows/hides password</li>   <li>[ ] Loading state disables form during submission</li> </ul> <h3>Accessibility</h3> <ul>   <li>[ ] Labels associated with inputs</li>   <li>[ ] Required indicators present</li>   <li>[ ] aria-required on required fields</li>   <li>[ ] aria-invalid on invalid fields</li>   <li>[ ] aria-describedby links to errors</li>   <li>[ ] aria-live announces errors</li>   <li>[ ] aria-busy during submission</li>   <li>[ ] Tab order is logical</li>   <li>[ ] Focus ring visible</li>   <li>[ ] Screen reader announces all states</li> </ul> <h3>Responsive</h3> <ul>   <li>[ ] Form responsive on mobile</li>   <li>[ ] Input font size 16px minimum on mobile</li>   <li>[ ] Touch targets 48px minimum</li>   <li>[ ] Form centered on desktop</li>   <li>[ ] Proper padding on all breakpoints</li> </ul> <hr> <h2>See Also</h2> <p>This form feature works well with these potions:</p> <ul>   <li><strong><a href=\"/potions/components/text-input\">Text Input Component</a></strong> - Foundation component for form inputs with built-in error/success states</li>   <li><strong><a href=\"/potions/components/dropdown-select\">Dropdown/Select Component</a></strong> - For country, language, or other selection fields in registration forms</li>   <li><strong><a href=\"/potions/patterns/form-validation\">Form Validation Pattern</a></strong> - UX guidelines for validation timing and error display</li> </ul> <p>These are suggestions to enhance your implementation. This feature works independently.</p> <hr> <h2>Summary for AI Agents</h2> <p><strong>Goal</strong>: Create accessible login and registration forms with comprehensive validation, error handling, and user feedback.</p> <p><strong>Critical Requirements</strong>:</p> <ol>   <li>Detect framework and styling system first</li>   <li>Apply Form Validation Pattern timing (on-blur for most, real-time for password confirmation)</li>   <li>Show specific, actionable error messages</li>   <li>Implement proper ARIA attributes</li>   <li>Password strength meter for registration</li>   <li>Success states with checkmarks</li>   <li>Loading states for submit buttons</li>   <li>Form switching with state reset</li>   <li>Password visibility toggles</li>   <li>Focus management for errors</li> </ol> <p><strong>Validation Timing</strong>:</p> <ul>   <li>Email: on-blur</li>   <li>Name: on-blur</li>   <li>Password: on-blur</li>   <li>Password confirmation: real-time</li>   <li>Submit: validate all fields</li> </ul> <p><strong>TIP</strong>: Consider using Text Input Component pattern for consistent inputs and Form Validation Pattern for optimal UX timing (both optional).</p>","excerpt":"Complete authentication forms (login and registration) with real-time validation, error handling, password strength, and accessibility. Demonstrates best practices for form validation UX.","publicationDate":"2026-01-24","tags":["features","form","authentication","login","registration","validation","accessibility","forms"],"coverImage":""},{"fileName":"components/toast-notifications.html","title":"Toast Notifications (Accessible) with Queue System","body":"<h1>Toast Notifications (Accessible) with Queue System</h1> <p>A non-blocking toast notification system for providing user feedback after actions. Features success, error, warning, and info variants with queue management, auto-dismiss timers, manual dismiss controls, keyboard navigation, and full screen reader support.</p> <h2>Structure Specification</h2> <h3>Component Hierarchy</h3> <p>The toast system consists of a Toast Container (fixed-position wrapper) that holds multiple Toast Items. Each Toast contains an Icon (indicating variant type), Content area (with Title and optional Description), and Action Buttons (Dismiss button and optional action like Undo).</p> <p>The system flows as: Application triggers toast → Toast Manager adds to queue → Container renders visible toasts → Toast auto-dismisses or user dismisses → Next toast in queue appears.</p> <h2>Detailed Component Specifications</h2> <h3>1. Toast Container</h3> <p><strong>Goal</strong>: Manage the display and lifecycle of multiple toast notifications without blocking user interaction.</p> <p><strong>Positioning Options</strong>:</p> <ul>   <li><code>top-right</code> (default) - Most common, good for desktop apps</li>   <li><code>top-left</code> - Alternative for right-to-left layouts</li>   <li><code>bottom-right</code> - Less intrusive, good for long sessions</li>   <li><code>bottom-left</code> - Alternative placement</li>   <li><code>top-center</code> - High visibility, good for critical messages</li>   <li><code>bottom-center</code> - Mobile-first, often used in mobile apps</li> </ul> <p><strong>Container Dimensions</strong>:</p> <ul>   <li>Desktop: 380px width, fixed position</li>   <li>Mobile: Full width minus 32px total margins (16px each side)</li>   <li>Gap between toasts: 12px vertical spacing</li>   <li>Max visible toasts: 3 (configurable, older toasts queue)</li>   <li>Distance from viewport edge: 20px</li> </ul> <p><strong>States</strong>:</p> <ul>   <li><code>position</code> (enum, default: \"top-right\") - Container placement</li>   <li><code>maxVisible</code> (number, default: 3) - Maximum toasts shown simultaneously</li>   <li><code>queue</code> (array) - Pending toasts waiting to be displayed</li>   <li><code>pauseOnHover</code> (boolean, default: true) - Pause auto-dismiss on mouse hover</li>   <li><code>pauseOnFocusWithin</code> (boolean, default: true) - Pause when toast has focus</li> </ul> <h3>2. Toast Item Component</h3> <p><strong>Anatomy Slots</strong>:</p> <ul>   <li><code>icon</code> - Variant-specific icon (success checkmark, error X, warning triangle, info circle)</li>   <li><code>content</code> - Text content area</li>   <li><code>title</code> - Main message (required)</li>   <li><code>description</code> - Optional secondary text</li>   <li><code>action</code> - Optional action button (e.g., \"Undo\")</li>   <li><code>dismiss</code> - Close/dismiss button (X icon)</li>   <li><code>progressBar</code> - Optional visual timeout indicator</li> </ul> <p><strong>Dimensions</strong>:</p> <ul>   <li>Height: Auto-sizing, minimum 60px</li>   <li>Padding: 16px all sides</li>   <li>Border radius: 10px</li>   <li>Shadow: Medium elevation (comparable to modals)</li>   <li>Icon size: 22px</li>   <li>Dismiss button size: 32×32px touch target</li>   <li>Progress bar height: 3px (if enabled)</li> </ul> <p><strong>Visual States</strong>:</p> <ul>   <li><code>variant</code> (enum: \"success\" | \"error\" | \"warning\" | \"info\") - Visual style and semantics</li>   <li><code>visible</code> (boolean) - Display state (controls enter/exit animations)</li>   <li><code>paused</code> (boolean) - Whether auto-dismiss timer is paused</li>   <li><code>action</code> (object, optional) - Action button config {label, onClick}</li> </ul> <p><strong>Color Variants</strong>:</p> <p><strong>Success</strong>:</p> <ul>   <li>Background: Green 50-100 (light), Green 900 (dark)</li>   <li>Border: Green 200-300 (light), Green 700 (dark)</li>   <li>Icon/Text: Green 600-700 (light), Green 100 (dark)</li>   <li>Icon: Checkmark circle</li> </ul> <p><strong>Error</strong>:</p> <ul>   <li>Background: Red 50-100 (light), Red 900 (dark)</li>   <li>Border: Red 200-300 (light), Red 700 (dark)</li>   <li>Icon/Text: Red 600-700 (light), Red 100 (dark)</li>   <li>Icon: X circle or exclamation circle</li> </ul> <p><strong>Warning</strong>:</p> <ul>   <li>Background: Amber/Yellow 50-100 (light), Amber 900 (dark)</li>   <li>Border: Amber 200-300 (light), Amber 700 (dark)</li>   <li>Icon/Text: Amber 700-800 (light), Amber 100 (dark)</li>   <li>Icon: Warning triangle or exclamation triangle</li> </ul> <p><strong>Info</strong>:</p> <ul>   <li>Background: Blue 50-100 (light), Blue 900 (dark)</li>   <li>Border: Blue 200-300 (light), Blue 700 (dark)</li>   <li>Icon/Text: Blue 600-700 (light), Blue 100 (dark)</li>   <li>Icon: Info circle or \"i\" icon</li> </ul> <h3>3. Toast Manager (State Management)</h3> <p><strong>Core Responsibilities</strong>:</p> <ul>   <li>Queue management (add, remove, reorder toasts)</li>   <li>Auto-dismiss timers (start, pause, resume, cancel)</li>   <li>Maximum visible enforcement (hide overflow, show on dismiss)</li>   <li>Unique ID generation for each toast</li>   <li>Global toast API (show, dismiss, dismissAll methods)</li> </ul> <p><strong>State Variables</strong>:</p> <pre><code>toasts: Array&#x3C;Toast> - id: string (unique identifier) - variant: \"success\" | \"error\" | \"warning\" | \"info\" - title: string - description?: string - duration: number (ms, 0 = persistent) - action?: {label: string, onClick: Function} - dismissible: boolean - timestamp: number (creation time) - paused: boolean  queue: Array&#x3C;ToastConfig> - Pending toasts waiting for available slot  timers: Map&#x3C;id, TimeoutID> - Active auto-dismiss timers by toast ID </code></pre> <p><strong>API Methods</strong>:</p> <ul>   <li><code>toast.success(title, options?)</code> - Show success toast</li>   <li><code>toast.error(title, options?)</code> - Show error toast</li>   <li><code>toast.warning(title, options?)</code> - Show warning toast</li>   <li><code>toast.info(title, options?)</code> - Show info toast</li>   <li><code>toast.custom(config)</code> - Show custom toast</li>   <li><code>toast.dismiss(id)</code> - Dismiss specific toast</li>   <li><code>toast.dismissAll()</code> - Clear all toasts</li>   <li><code>toast.promise(promise, messages)</code> - Show loading → success/error based on promise result</li> </ul> <h3>4. Auto-Dismiss Behavior</h3> <p><strong>Default Durations</strong> (configurable):</p> <ul>   <li>Success: 4000ms (4 seconds)</li>   <li>Info: 5000ms (5 seconds)</li>   <li>Warning: 6000ms (6 seconds)</li>   <li>Error: 7000ms (7 seconds) - Longer for critical messages</li>   <li>Persistent: 0ms (requires manual dismiss)</li> </ul> <p><strong>Timer Behavior</strong>:</p> <ul>   <li>Timer starts when toast becomes visible</li>   <li>Timer pauses on hover (if <code>pauseOnHover=true</code>)</li>   <li>Timer pauses when toast or action button has keyboard focus</li>   <li>Timer resumes when hover/focus ends</li>   <li>Timer resets if user interacts with action button</li>   <li>Timer cancelled on manual dismiss</li> </ul> <p><strong>Progress Bar</strong> (optional visual indicator):</p> <ul>   <li>Thin bar (2-4px height) at bottom or top of toast</li>   <li>Fills from 0% to 100% over duration period</li>   <li>Pauses fill when timer paused</li>   <li>Color matches variant accent color</li>   <li>Provides visual countdown for auto-dismiss</li> </ul> <h3>5. Queue System</h3> <p><strong>Queue Rules</strong>:</p> <ul>   <li>Max visible toasts enforced (default: 3)</li>   <li>New toasts added to queue when limit reached</li>   <li>Oldest toast dismissed first when queue is full (FIFO)</li>   <li>Exception: High-priority toasts (error) can bump lower-priority</li>   <li>Queue processed on toast dismiss or timeout</li> </ul> <p><strong>Stacking Behavior</strong>:</p> <ul>   <li><strong>Stack (default)</strong>: Toasts stack vertically in container</li>   <li><strong>Replace</strong>: New toast replaces previous toast (for rapid updates)</li>   <li><strong>Queue</strong>: Toasts wait in queue until slot available</li> </ul> <p><strong>Position Ordering</strong>:</p> <ul>   <li>Top positions: Newest toast appears at top, pushes older down</li>   <li>Bottom positions: Newest toast appears at bottom, pushes older up</li>   <li>Animation: Slide in from edge, slide out on dismiss</li> </ul> <h2>Responsive Design</h2> <h3>Desktop (≥1024px)</h3> <ul>   <li>Fixed width: 380px</li>   <li>Positioned in corner (top-right default)</li>   <li>Multiple toasts stack vertically (max visible: 3-5)</li>   <li>Hover interactions enabled</li> </ul> <h3>Tablet (768px - 1023px)</h3> <ul>   <li>Width: 360px</li>   <li>Positioned similar to desktop</li>   <li>Touch-friendly dismiss buttons (larger targets)</li>   <li>Max visible: 2-3 toasts</li> </ul> <h3>Mobile (&#x3C;768px)</h3> <ul>   <li>Full width minus 32px total margins (16px each side)</li>   <li>Positioned at bottom-center (recommended for mobile)</li>   <li>Swipe to dismiss gesture enabled (optional)</li>   <li>Single toast visible at a time (maxVisible: 1)</li>   <li>Touch targets: 44×44px minimum for all buttons</li> </ul> <h2>Accessibility</h2> <h3>Keyboard Navigation</h3> <p><strong>Focusable Elements</strong>:</p> <ul>   <li>Dismiss button (X): Always focusable</li>   <li>Action button (e.g., Undo): Focusable when present</li>   <li>Toast container: Not directly focusable</li> </ul> <p><strong>Keyboard Controls</strong>:</p> <ul>   <li><code>Escape</code>: Dismiss focused toast (or all toasts if none focused)</li>   <li><code>Tab</code>: Navigate between action and dismiss buttons within toast</li>   <li><code>Enter/Space</code>: Activate focused button</li>   <li><code>Shift+Tab</code>: Navigate backwards</li> </ul> <p><strong>Focus Management</strong>:</p> <ul>   <li>Newly appeared toasts do NOT steal focus (non-intrusive)</li>   <li>Keyboard users can Tab to reach toasts</li>   <li>Focus returns to trigger element on dismiss (if applicable)</li>   <li>Multiple toasts: Tab order follows visual stacking order</li> </ul> <h3>Screen Reader Support</h3> <p><strong>ARIA Attributes</strong>:</p> <ul>   <li>Container: <code>aria-live=\"polite\"</code> or <code>aria-live=\"assertive\"</code> (for errors)</li>   <li>Toast: <code>role=\"status\"</code> (success, info) or <code>role=\"alert\"</code> (error, warning)</li>   <li>Title: <code>aria-atomic=\"true\"</code> (announces full message)</li>   <li>Dismiss button: <code>aria-label=\"Dismiss notification\"</code> or <code>aria-label=\"Dismiss [variant] notification\"</code></li>   <li>Action button: Descriptive label (e.g., <code>aria-label=\"Undo delete action\"</code>)</li> </ul> <p><strong>Announcement Strategy</strong>:</p> <ul>   <li>Success/Info: Polite announcements (don't interrupt)</li>   <li>Error/Warning: Assertive announcements (interrupt current speech)</li>   <li>Title + description read together</li>   <li>Multiple rapid toasts: Queue announcements to avoid overlap</li> </ul> <p><strong>Reduced Motion</strong>:</p> <ul>   <li>Disable slide/fade animations when <code>prefers-reduced-motion: reduce</code></li>   <li>Use instant show/hide or simple fade</li>   <li>Maintain functionality without animations</li> </ul> <h2>Animations</h2> <h3>Entry Animation</h3> <ul>   <li>Slide in from container edge + fade in</li>   <li>Duration: 250ms</li>   <li>Easing: <code>cubic-bezier(0.16, 1, 0.3, 1)</code> (ease-out bounce)</li>   <li>Transform: <code>translateX(100%)</code> or <code>translateY(-100%)</code> → <code>translate(0)</code></li>   <li>Opacity: 0 → 1</li> </ul> <h3>Exit Animation</h3> <ul>   <li>Slide out to edge + fade out + scale down slightly</li>   <li>Duration: 200ms</li>   <li>Easing: <code>cubic-bezier(0.4, 0, 1, 1)</code> (ease-in)</li>   <li>Transform: <code>translate(0)</code> → <code>translateX(100%)</code> or <code>translateY(-100%)</code></li>   <li>Opacity: 1 → 0</li>   <li>Scale: 1 → 0.95</li> </ul> <h3>Stacking Animation (Critical Implementation)</h3> <ul>   <li>When toast dismissed, remaining toasts slide to fill gap</li>   <li>Duration: 200ms</li>   <li>Easing: <code>cubic-bezier(0.4, 0, 0.2, 1)</code> (standard ease)</li>   <li><strong>CRITICAL - Coordinated Animation</strong>: Exit animation and stack repositioning happen SIMULTANEOUSLY     <ul>       <li>Exiting toast slides out WHILE remaining toasts smoothly slide up to fill the gap</li>       <li>No jumping or instant repositioning</li>     </ul>   </li> </ul> <p><strong>Recommended Implementation Pattern (Wrapper Approach)</strong>:</p> <ul>   <li>Use a <strong>wrapper element</strong> around each toast that handles height collapse</li>   <li>Structure: <code>Wrapper (handles height/margin) → Toast (handles slide animation)</code></li>   <li>When exiting:     <ul>       <li>Wrapper animates: <code>max-height</code> from current to <code>0px</code> AND <code>margin-bottom</code> from <code>12px</code> to <code>0px</code> (200-250ms)</li>       <li>Inner toast animates: <code>translateX</code> and <code>opacity</code> for slide out effect (200-250ms)</li>       <li>Both animations run simultaneously with same duration</li>     </ul>   </li>   <li>Why: Wrapper stays in layout flow and collapses smoothly, allowing remaining toasts to slide up naturally without jumping</li>   <li>Common mistake: Setting <code>position: absolute</code> on toast directly causes it to jump to wrong position before animating</li> </ul> <h3>Progress Bar Animation</h3> <ul>   <li>Linear progression from 0% to 100%</li>   <li>Duration: Matches auto-dismiss duration</li>   <li>Pause animation on hover/focus</li>   <li>Resume from current position when unpaused</li> </ul> <h3>Hover/Focus States</h3> <ul>   <li>Dismiss button: Scale 1 → 1.1 on hover</li>   <li>Toast: Subtle elevation increase (shadow grows)</li>   <li>Action button: Background color shift</li>   <li>All transitions: 150ms ease-in-out</li> </ul> <h2>Usage Patterns</h2> <h3>Basic Usage</h3> <pre><code>// Success feedback toast.success(\"Changes saved successfully\")  // Error feedback toast.error(\"Failed to delete item\", {   description: \"Please try again or contact support.\" })  // Warning with action toast.warning(\"Your session will expire in 5 minutes\", {   action: {     label: \"Extend\",     onClick: () => extendSession()   } })  // Info notification toast.info(\"New version available\", {   duration: 0, // Persistent until dismissed   action: {     label: \"Reload\",     onClick: () => window.location.reload()   } }) </code></pre> <h3>Promise-Based Usage</h3> <pre><code>toast.promise(   saveData(),   {     loading: \"Saving changes...\",     success: \"Changes saved!\",     error: \"Failed to save changes\"   } ) </code></pre> <h3>Undo Pattern</h3> <pre><code>toast.success(\"Item deleted\", {   duration: 5000,   action: {     label: \"Undo\",     onClick: () => {       restoreItem()       toast.dismiss() // Close this toast     }   } }) </code></pre> <h3>Custom Configuration</h3> <pre><code>toast.custom({   variant: \"success\",   title: \"Profile updated\",   description: \"Your changes are now visible to others\",   duration: 4000,   position: \"bottom-center\",   dismissible: true,   pauseOnHover: true }) </code></pre> <h2>State Management Integration</h2> <h3>Context/Provider Pattern (React/Vue)</h3> <ul>   <li>ToastProvider wraps application root</li>   <li>useToast hook provides toast methods</li>   <li>Central state management for all toasts</li> </ul> <h3>Global Singleton Pattern</h3> <ul>   <li>Exported toast object with methods</li>   <li>Works across any component</li>   <li>No provider required</li> </ul> <h3>Event-Based Pattern</h3> <ul>   <li>Dispatch custom events for toast actions</li>   <li>Toast container listens for events</li>   <li>Framework-agnostic approach</li> </ul> <h2>Testing Checklist</h2> <ul>   <li>[ ] Success/error/warning/info variants display correct colors and icons</li>   <li>[ ] Toasts appear in correct container position (top-right, bottom-center, etc.)</li>   <li>[ ] Auto-dismiss works with correct durations (success: 4s, error: 7s, warning: 6s, info: 5s)</li>   <li>[ ] Manual dismiss (X button) removes toast with smooth exit animation</li>   <li>[ ] <strong>CRITICAL</strong>: Create 3 toasts, dismiss the MIDDLE one - it should slide out smoothly WITHOUT jumping to a different position first</li>   <li>[ ] <strong>CRITICAL</strong>: When middle toast exits, bottom toast should smoothly slide up (not jump instantly)</li>   <li>[ ] <strong>CRITICAL</strong>: Exit animation and stack repositioning happen simultaneously (coordinated animation)</li>   <li>[ ] Exit animation (200ms) and stack repositioning (200ms) run in parallel, not sequentially</li>   <li>[ ] Hover pauses auto-dismiss timer (if pauseOnHover enabled)</li>   <li>[ ] Keyboard focus pauses auto-dismiss timer (if pauseOnFocusWithin enabled)</li>   <li>[ ] Timer resumes when hover/focus ends</li>   <li>[ ] Queue enforces maxVisible limit (default: 3 toasts visible)</li>   <li>[ ] New toasts added to queue when maxVisible reached</li>   <li>[ ] Oldest toast dismissed first when queue is full (FIFO)</li>   <li>[ ] Queue processed correctly when toast dismissed or times out</li>   <li>[ ] Multiple toasts stack vertically with 12px spacing</li>   <li>[ ] Toasts slide to fill gap when one dismissed (stack animation)</li>   <li>[ ] Escape key dismisses focused toast or all toasts if none focused</li>   <li>[ ] Tab key navigates between action button and dismiss button</li>   <li>[ ] Enter/Space activates focused button</li>   <li>[ ] Focus order follows visual stacking order for multiple toasts</li>   <li>[ ] Screen reader announces new toasts with correct role (status/alert)</li>   <li>[ ] aria-live region configured correctly (polite for success/info, assertive for error/warning)</li>   <li>[ ] Title and description read together atomically by screen readers</li>   <li>[ ] Dismiss button has descriptive aria-label</li>   <li>[ ] Action button has descriptive aria-label (if present)</li>   <li>[ ] Entry animation: Slide in from edge + fade in (250ms)</li>   <li>[ ] Exit animation: Slide out to edge + fade out + slight scale down (200ms)</li>   <li>[ ] prefers-reduced-motion disables slide/scale animations, uses simple fade or instant</li>   <li>[ ] Progress bar (if enabled) animates from 0-100% over duration</li>   <li>[ ] Progress bar pauses when timer paused</li>   <li>[ ] Action button executes onClick callback</li>   <li>[ ] Action button optionally dismisses toast after callback</li>   <li>[ ] Mobile: Toasts are full width minus 32px margins</li>   <li>[ ] Mobile: Position switches to bottom-center (recommended)</li>   <li>[ ] Mobile: Touch targets are 44×44px minimum for buttons</li>   <li>[ ] Mobile: Only 1 toast visible at a time (maxVisible: 1)</li>   <li>[ ] Tablet: Toasts are 360px wide with touch-friendly buttons</li>   <li>[ ] Desktop: Toasts are 380px wide at configured position</li>   <li>[ ] Dark mode: Colors adapt with sufficient contrast for all variants</li>   <li>[ ] Rapid toast creation doesn't cause performance issues or queue overflow</li>   <li>[ ] toast.dismissAll() clears all active toasts and queue</li>   <li>[ ] Toast IDs are unique across all toasts</li>   <li>[ ] Timers cleaned up on unmount/dismiss (no memory leaks)</li>   <li>[ ] Container z-index (9999) places toasts above most UI but below modals</li>   <li>[ ] Long titles/descriptions wrap properly without truncation</li>   <li>[ ] Toast height adjusts automatically based on content length</li> </ul> <h2>Common Variations</h2> <h3>Toast with Loading State</h3> <p>Show spinner in toast while async operation completes, then update to success/error.</p> <h3>Toast with Custom Icon</h3> <p>Allow custom icon instead of variant defaults (e.g., user avatar, custom SVG).</p> <h3>Toast with Rich Content</h3> <p>Support for custom content beyond title/description (e.g., images, links, formatted text).</p> <h3>Toast with Multi-Action</h3> <p>Multiple action buttons (e.g., \"Save\" and \"Discard\").</p> <h3>Notification Center Integration</h3> <p>Archive dismissed toasts in a notification center for later review.</p> <h3>Grouped Toasts</h3> <p>Combine similar toasts (e.g., \"3 items deleted\" instead of 3 separate toasts).</p> <h2>Framework Patterns</h2> <h3>React</h3> <ul>   <li>Context + useToast hook for global access</li>   <li>Custom hooks: <code>useToastTimer</code>, <code>useToastQueue</code>, <code>useToastState</code></li>   <li>Portal for rendering outside DOM hierarchy (<code>ReactDOM.createPortal</code>)</li>   <li>useReducer or useState for toast state</li>   <li>Animations: Use <code>react-transition-group</code> or <code>Framer Motion</code> with <code>AnimatePresence</code></li>   <li><strong>Wrapper pattern recommended</strong>: Outer div handles height collapse, inner div handles slide animation</li> </ul> <h3>Vue</h3> <ul>   <li>Composition API with provide/inject or Pinia store</li>   <li>Composable: <code>useToast()</code>, <code>useToastTimer</code>, <code>useToastQueue</code>, <code>useToastState</code></li>   <li>Teleport for rendering in body (<code>&#x3C;Teleport to=\"body\"></code>)</li>   <li>ref/reactive for toast state</li>   <li>Animations: Use <code>&#x3C;TransitionGroup name=\"toast-list\"></code> - Vue automatically handles move transitions</li>   <li><strong>Important</strong>: Set <code>position: absolute</code> on <code>.toast-list-leave-active</code> to remove from layout during exit</li> </ul> <h3>Angular</h3> <ul>   <li>Injectable ToastService with BehaviorSubject</li>   <li>Services: <code>ToastService</code>, <code>ToastQueueService</code>, <code>ToastTimerService</code></li>   <li>Portal from @angular/cdk for rendering</li>   <li>BehaviorSubject for toast state</li>   <li>Animations: Use Angular animations with <code>:enter</code>, <code>:leave</code>, and <code>query/stagger</code> for move</li> </ul> <h3>Svelte</h3> <ul>   <li>Writable stores for global toast state</li>   <li>Stores: <code>toastStore</code>, <code>queueStore</code>, <code>toastAPI</code></li>   <li>Transition directives for animations (<code>fly</code>, <code>fade</code>, <code>flip</code>)</li>   <li>Portal pattern for rendering</li>   <li>Example: <code>import { toast } from './toast'; toast.success('Saved!');</code></li> </ul> <h2>Edge Cases &#x26; Considerations</h2> <h3>Rapid Toast Creation</h3> <ul>   <li>Debounce identical messages within short timeframe (e.g., 500ms)</li>   <li>Group similar toasts (e.g., \"3 items deleted\")</li>   <li>Prevent queue overflow (max queue size: 10-20)</li> </ul> <h3>Long Messages</h3> <ul>   <li>Wrap text properly (don't truncate)</li>   <li>Auto-adjust height based on content</li>   <li>Limit max height and add scroll if needed</li> </ul> <h3>Multiple Actions</h3> <ul>   <li>Support secondary action button</li>   <li>Ensure proper keyboard navigation between multiple buttons</li>   <li>Consider toast width for multiple actions</li> </ul> <h3>Network State Changes</h3> <ul>   <li>Offline toast: Persistent, high priority</li>   <li>Online toast: Brief success notification</li>   <li>Automatic toast on connection changes</li> </ul> <h3>Cleanup on Route Changes</h3> <ul>   <li>Optionally dismiss all toasts on navigation</li>   <li>Or persist across routes for important messages</li>   <li>Configurable behavior per toast</li> </ul> <h3>Z-Index Conflicts</h3> <ul>   <li>Toast container should be above most UI (z-index: 9999 or similar)</li>   <li>Below modals/dialogs if both open</li>   <li>Above dropdowns, tooltips, popovers</li> </ul> <h3>Performance</h3> <ul>   <li>Limit DOM nodes (max visible + small queue)</li>   <li>Use CSS transforms for animations (hardware accelerated)</li>   <li>Debounce rapid updates</li>   <li>Clean up timers and event listeners</li> </ul> <p>This toast notification system provides comprehensive user feedback while maintaining accessibility, performance, and a polished user experience across all devices and contexts.</p>","excerpt":"A non-blocking toast notification system with success/error/warning/info variants, queue management, auto-dismiss, keyboard navigation, and screen reader announcements. Perfect for user feedback after actions.","publicationDate":"2026-01-24","tags":["components","toast","notifications","snackbar","feedback","alerts","a11y","wcag","aria","queue"],"coverImage":""},{"fileName":"components/text-input.html","title":"Text Input Field - Accessible Form Input with Label, Error, and Success States","body":"<h1>Text Input Field</h1> <p>An accessible text input component with label, hint text, error display, success indicator, and comprehensive state management. Foundation for all form inputs with full keyboard and screen reader support.</p> <h2>Overview</h2> <p>The Text Input component provides a fully accessible form input field that handles all common states: default, focus, error, success, disabled, and readonly. It includes proper labeling, ARIA attributes, keyboard navigation, and screen reader support.</p> <h2>Component Structure</h2> <pre><code>Container ├── Label │   ├── Label Text │   ├── Required Indicator (*) [optional] │   └── Tooltip [optional] ├── Input Wrapper │   ├── Leading Icon [optional] │   ├── Input Field │   └── Trailing Icon/Button [optional] ├── Hint Text [optional] ├── Error Message [optional] └── Character Counter [optional] </code></pre> <h2>States</h2> <h3>Default State</h3> <ul>   <li>Clean, clear input field</li>   <li>Border: neutral gray (<code>border-gray-300</code>)</li>   <li>Background: white</li>   <li>Cursor: text cursor</li> </ul> <h3>Focus State</h3> <ul>   <li>Border changes to focus color (<code>border-blue-500</code>)</li>   <li>Focus ring appears (<code>ring-2 ring-blue-500</code>)</li>   <li>Smooth transition (150ms)</li>   <li>Label optionally changes to primary color</li> </ul> <h3>Error State</h3> <ul>   <li>Border changes to error color (<code>border-red-500</code>)</li>   <li>Error message appears below input</li>   <li>Error icon shown</li>   <li><code>aria-invalid='true'</code> set</li>   <li>Optional: subtle shake animation</li> </ul> <h3>Success State</h3> <ul>   <li>Border changes to success color (<code>border-green-500</code>)</li>   <li>Checkmark icon appears (trailing)</li>   <li><code>aria-invalid='false'</code> set</li>   <li>Validates field is correct</li> </ul> <h3>Disabled State</h3> <ul>   <li>Background grayed out (<code>bg-gray-50</code>)</li>   <li>Text grayed (<code>text-gray-500</code>)</li>   <li>Cursor: not-allowed</li>   <li>Not interactive</li>   <li>Label grayed out</li> </ul> <h3>Readonly State</h3> <ul>   <li>Input not editable</li>   <li>Can be selected and copied</li>   <li>Visually distinct from disabled</li>   <li>Still keyboard accessible</li> </ul> <h2>Required Props</h2> <pre><code class=\"language-typescript\">{   label: string;        // Input label text   name: string;         // Input name attribute } </code></pre> <h2>Optional Props</h2> <pre><code class=\"language-typescript\">{   id?: string;                    // Input ID (generated if not provided)   value?: string;                 // Controlled value   defaultValue?: string;          // Uncontrolled default value   placeholder?: string;           // Placeholder text   type?: 'text' | 'email' | 'password' | 'tel' | 'url' | 'search';   error?: string | null;          // Error message   success?: boolean;              // Success state   hint?: string;                  // Hint text below input   required?: boolean;             // Required field   disabled?: boolean;             // Disabled state   readonly?: boolean;             // Readonly state   size?: 'small' | 'medium' | 'large';   leadingIcon?: ReactNode;        // Icon before input   trailingIcon?: ReactNode;       // Icon after input   maxLength?: number;             // Max character length   showCharacterCount?: boolean;   // Show character counter   fullWidth?: boolean;            // Full width (default: true)   onChange?: (value: string) => void;   onBlur?: () => void;   onFocus?: () => void;   autoComplete?: string;   autoFocus?: boolean; } </code></pre> <h2>Size Variants</h2> <h3>Small</h3> <ul>   <li>Height: 36px</li>   <li>Padding: 12px horizontal, 8px vertical</li>   <li>Font size: 14px</li>   <li>Label font size: 13px</li> </ul> <h3>Medium (Default)</h3> <ul>   <li>Height: 44px</li>   <li>Padding: 14px horizontal, 11px vertical</li>   <li>Font size: 16px</li>   <li>Label font size: 14px</li> </ul> <h3>Large</h3> <ul>   <li>Height: 52px</li>   <li>Padding: 16px horizontal, 14px vertical</li>   <li>Font size: 18px</li>   <li>Label font size: 16px</li> </ul> <h2>Common Variations</h2> <h3>Search Input</h3> <pre><code class=\"language-jsx\">&#x3C;TextInput   label=\"Search\"   name=\"search\"   type=\"search\"   placeholder=\"Search...\"   leadingIcon={&#x3C;SearchIcon />}   trailingIcon={value ? &#x3C;ClearButton /> : null} /> </code></pre> <h3>Password Input</h3> <pre><code class=\"language-jsx\">&#x3C;TextInput   label=\"Password\"   name=\"password\"   type={showPassword ? 'text' : 'password'}   required   trailingIcon={&#x3C;PasswordToggle />} /> </code></pre> <h3>Email Input with Validation</h3> <pre><code class=\"language-jsx\">&#x3C;TextInput   label=\"Email Address\"   name=\"email\"   type=\"email\"   required   error={errors.email}   success={isValid.email}   hint=\"We'll never share your email\"   leadingIcon={&#x3C;AtIcon />} /> </code></pre> <h3>Phone Input</h3> <pre><code class=\"language-jsx\">&#x3C;TextInput   label=\"Phone Number\"   name=\"phone\"   type=\"tel\"   placeholder=\"(555) 123-4567\"   leadingIcon={&#x3C;PhoneIcon />}   hint=\"Include area code\" /> </code></pre> <h2>Accessibility Requirements</h2> <h3>ARIA Attributes</h3> <p><strong>Input Element:</strong></p> <pre><code class=\"language-html\">&#x3C;input   id=\"email\"   name=\"email\"   type=\"email\"   aria-labelledby=\"email-label\"   aria-describedby=\"email-hint email-error\"   aria-invalid=\"true\"   aria-required=\"true\" /> </code></pre> <p><strong>Label:</strong></p> <pre><code class=\"language-html\">&#x3C;label id=\"email-label\" for=\"email\">   Email Address   &#x3C;span aria-hidden=\"true\">*&#x3C;/span> &#x3C;/label> </code></pre> <p><strong>Error Message:</strong></p> <pre><code class=\"language-html\">&#x3C;div id=\"email-error\" role=\"alert\" aria-live=\"polite\">   Please enter a valid email address &#x3C;/div> </code></pre> <p><strong>Hint Text:</strong></p> <pre><code class=\"language-html\">&#x3C;div id=\"email-hint\">   We'll never share your email with anyone else &#x3C;/div> </code></pre> <h3>Keyboard Navigation</h3> <p>   | Key | Action |   |-----|--------|   | Tab | Focus input |   | Shift+Tab | Move focus away |   | Escape | Clear value (optional) |   | Enter | Submit form (if in form) | </p> <h3>Screen Reader Behavior</h3> <p>When input receives focus, screen reader announces:</p> <ol>   <li>Label text (\"Email Address\")</li>   <li>Required state (\"required\")</li>   <li>Hint text (\"We'll never share your email\")</li>   <li>Error message (if present)</li>   <li>Current value (if any)</li> </ol> <p>When error appears:</p> <ul>   <li>Announced via <code>aria-live='polite'</code></li>   <li>User hears error without losing context</li> </ul> <h2>Responsive Behavior</h2> <h3>Mobile (&#x3C; 768px)</h3> <ul>   <li><strong>Full width by default</strong></li>   <li><strong>Font size: 16px minimum</strong> (prevents iOS zoom)</li>   <li><strong>Touch targets: 44px minimum</strong></li>   <li>Trailing icons: 44px tap target</li> </ul> <h3>Desktop (>= 1024px)</h3> <ul>   <li>Fixed or constrained width based on context</li>   <li>Hover state shows border color change</li>   <li>Default: 100% of parent width</li> </ul> <h2>Implementation Checklist</h2> <h3>Visual</h3> <ul>   <li>[ ] Label displays above input</li>   <li>[ ] Required indicator (*) shows when required</li>   <li>[ ] Hint text displays below input</li>   <li>[ ] Error message displays below input with icon</li>   <li>[ ] Success checkmark displays when valid</li>   <li>[ ] Focus ring visible and distinct</li>   <li>[ ] Disabled state is visually clear</li>   <li>[ ] All size variants work correctly</li> </ul> <h3>Functionality</h3> <ul>   <li>[ ] Value updates on input change</li>   <li>[ ] onChange callback fires</li>   <li>[ ] onBlur callback fires</li>   <li>[ ] onFocus callback fires</li>   <li>[ ] Clear button clears value</li>   <li>[ ] Password toggle changes type</li>   <li>[ ] Character counter updates</li>   <li>[ ] Controlled and uncontrolled modes work</li> </ul> <h3>Keyboard</h3> <ul>   <li>[ ] Tab focuses input</li>   <li>[ ] Shift+Tab moves focus away</li>   <li>[ ] Trailing button is keyboard accessible</li>   <li>[ ] Escape clears value (if implemented)</li> </ul> <h3>Accessibility</h3> <ul>   <li>[ ] Label associated with input (for/id)</li>   <li>[ ] aria-required when required</li>   <li>[ ] aria-invalid when error</li>   <li>[ ] aria-describedby references hint and error</li>   <li>[ ] Error has role='alert' or aria-live</li>   <li>[ ] Focus ring has sufficient contrast (3:1)</li>   <li>[ ] Screen reader announces all states</li>   <li>[ ] Input font size >= 16px on mobile</li> </ul> <h3>Styling</h3> <ul>   <li>[ ] Matches project styling system</li>   <li>[ ] Uses project design tokens</li>   <li>[ ] No inline styles (uses classes)</li>   <li>[ ] All colors have sufficient contrast</li> </ul> <h2>Framework Examples</h2> <h3>React (Controlled)</h3> <pre><code class=\"language-jsx\">const [email, setEmail] = useState(''); const [error, setError] = useState(null);  &#x3C;TextInput   label=\"Email\"   name=\"email\"   type=\"email\"   value={email}   onChange={setEmail}   error={error}   required /> </code></pre> <h3>Vue</h3> <pre><code class=\"language-vue\">&#x3C;template>   &#x3C;TextInput     v-model=\"email\"     label=\"Email\"     name=\"email\"     type=\"email\"     :error=\"errors.email\"     :required=\"true\"   /> &#x3C;/template> </code></pre> <h3>Angular</h3> <pre><code class=\"language-typescript\">emailControl = new FormControl('', [Validators.required, Validators.email]);  &#x3C;app-text-input   [label]=\"'Email'\"   [formControl]=\"emailControl\"   [error]=\"emailControl.errors?.email\"   [required]=\"true\" >&#x3C;/app-text-input> </code></pre> <h3>Svelte</h3> <pre><code class=\"language-svelte\">&#x3C;script>   let email = '';   let error = null; &#x3C;/script>  &#x3C;TextInput   bind:value={email}   label=\"Email\"   name=\"email\"   type=\"email\"   {error}   required /> </code></pre> <h2>Integration with Form Validation Pattern</h2> <p>This Text Input component is designed to work seamlessly with the <a href=\"/potions/patterns/form-validation\">Form Validation Pattern</a>:</p> <ol>   <li><strong>Validation Timing</strong>: Show errors only after <code>onBlur</code> (when touched)</li>   <li><strong>Error Display</strong>: Pass error message via <code>error</code> prop</li>   <li><strong>Success State</strong>: Pass <code>success</code> prop when field is validated</li>   <li><strong>ARIA</strong>: Errors are announced via <code>aria-live</code></li>   <li><strong>Keyboard</strong>: Full keyboard support for accessible forms</li> </ol> <h2>Design Tokens</h2> <h3>Colors</h3> <ul>   <li><strong>Border Default</strong>: <code>--color-gray-300</code> or <code>border-gray-300</code></li>   <li><strong>Border Focus</strong>: <code>--color-blue-500</code> or <code>border-blue-500</code></li>   <li><strong>Border Error</strong>: <code>--color-red-500</code> or <code>border-red-500</code></li>   <li><strong>Border Success</strong>: <code>--color-green-500</code> or <code>border-green-500</code></li>   <li><strong>Background</strong>: <code>--color-white</code> or <code>bg-white</code></li>   <li><strong>Background Disabled</strong>: <code>--color-gray-50</code> or <code>bg-gray-50</code></li>   <li><strong>Text</strong>: <code>--color-gray-900</code> or <code>text-gray-900</code></li>   <li><strong>Text Disabled</strong>: <code>--color-gray-500</code> or <code>text-gray-500</code></li>   <li><strong>Label</strong>: <code>--color-gray-700</code> or <code>text-gray-700</code></li>   <li><strong>Hint</strong>: <code>--color-gray-500</code> or <code>text-gray-500</code></li>   <li><strong>Error</strong>: <code>--color-red-600</code> or <code>text-red-600</code></li> </ul> <h3>Spacing</h3> <ul>   <li><strong>Label margin-bottom</strong>: 6px</li>   <li><strong>Hint margin-top</strong>: 6px</li>   <li><strong>Error margin-top</strong>: 6px</li>   <li><strong>Input padding-x</strong>: 14px (medium)</li>   <li><strong>Input padding-y</strong>: 11px (medium)</li> </ul> <h3>Typography</h3> <ul>   <li><strong>Label font-size</strong>: 14px</li>   <li><strong>Label font-weight</strong>: 500</li>   <li><strong>Input font-size</strong>: 16px</li>   <li><strong>Hint font-size</strong>: 14px</li>   <li><strong>Error font-size</strong>: 14px</li> </ul> <hr> <h2>See Also</h2> <p>The Text Input component works well with these potions:</p> <ul>   <li><strong><a href=\"/potions/components/dropdown-select\">Dropdown/Select Component</a></strong> - Complementary form component for selection fields, works alongside text inputs in forms</li>   <li><strong><a href=\"/potions/patterns/form-validation\">Form Validation Pattern</a></strong> - Apply validation timing and error display best practices to create user-friendly forms</li>   <li><strong><a href=\"/potions/features/form-login-register\">Login &#x26; Registration Forms</a></strong> - Complete authentication forms that demonstrate Text Input in action</li> </ul> <p>These are suggestions to enhance your implementation. Text Input works independently and can be used in any context.</p> <hr> <h2>Summary for AI Agents</h2> <p><strong>Goal</strong>: Create accessible text input with label, error/success states, hint text, and ARIA support.</p> <p><strong>Critical Requirements</strong>:</p> <ol>   <li>Detect framework and styling system first</li>   <li>Use project's design tokens for colors and spacing</li>   <li>Implement proper ARIA: <code>aria-labelledby</code>, <code>aria-describedby</code>, <code>aria-invalid</code>, <code>aria-required</code></li>   <li>Show required indicator (*) when <code>required=true</code></li>   <li>Associate errors via <code>aria-describedby</code> and <code>role='alert'</code></li>   <li>Provide visible focus ring with sufficient contrast</li>   <li>Set input font-size to 16px minimum on mobile (prevents iOS zoom)</li>   <li>Support controlled/uncontrolled patterns appropriate for framework</li>   <li>Make trailing icons keyboard accessible with <code>aria-label</code></li>   <li>Use classes, not inline styles</li> </ol> <p><strong>States to Handle</strong>: default, focus, error, success, disabled, readonly</p> <p><strong>Integration</strong>: Works with Form Validation Pattern for optimal UX timing.</p>","excerpt":"An accessible text input component with label, hint text, error display, success indicator, and comprehensive state management. Foundation for all form inputs.","publicationDate":"2026-01-24","tags":["components","input","form","text-field","validation","a11y","wcag","aria","form-control"],"coverImage":""},{"fileName":"components/navbar.html","title":"Navigation Bar (Responsive) with Mobile Menu","body":"<h1>Navigation Bar (Responsive) with Mobile Menu</h1> <p>A responsive navigation bar component with mobile hamburger menu, sticky scroll behavior, optional transparent-to-solid transition, and first-class dropdown support. Supports marketing (logo + links + CTA) and app (user menu, notifications) variants.</p> <h2>Structure Specification</h2> <h3>Component Hierarchy</h3> <p>The navbar consists of a Navbar Container that holds a Logo/Brand Section, Navigation Links with Dropdown Panels (desktop), Mobile Menu Toggle Button, Action Buttons (CTA or User Menu), and a Mobile Menu Dialog. The Mobile Menu Dialog contains Navigation Links (with accordion sections for items with children) and Action Buttons.</p> <p>The navbar structure flows as: Navbar contains Logo, NavLinks (desktop with dropdown toggles/panels), MobileToggle, and Actions. The MobileMenu (dialog) contains NavLinks (with accordion behavior) and Actions.</p> <h2>Detailed Component Specifications</h2> <h3>1. Navbar Component</h3> <p><strong>Goal</strong>: Provide a responsive navigation bar that adapts to screen sizes, supports sticky/transparent behavior, and includes accessible mobile menu and dropdown navigation.</p> <p><strong>Anatomy Slots</strong>:</p> <ul>   <li><code>logo</code> - Brand logo/image/text</li>   <li><code>navLinks</code> - Navigation links (desktop visible, mobile in dialog)</li>   <li><code>mobileToggle</code> - Hamburger menu button (mobile only)</li>   <li><code>actions</code> - CTA button(s) or user menu (desktop)</li>   <li><code>dropdownPanels</code> - Desktop dropdown panels (disclosure pattern)</li>   <li><code>mobileMenu</code> - Modal dialog for mobile navigation</li> </ul> <p><strong>Dimensions</strong>:</p> <ul>   <li>Desktop: Full width, height 64-80px (default: 72px)</li>   <li>Mobile: Full width, height 56-64px (default: 60px)</li>   <li>Sticky: Fixed at top when scrolling</li>   <li>Max-width: Optional container constraint (e.g., 1400px)</li> </ul> <p><strong>States</strong>:</p> <ul>   <li><code>variant</code> (enum: \"marketing\" | \"app\", default: \"marketing\") - Navbar style variant</li>   <li><code>sticky</code> (boolean, default: true) - Whether navbar is sticky on scroll (default true for both variants)</li>   <li><code>transparent</code> (boolean, default: false) - Transparent background (becomes solid on scroll; recommended only for marketing variant when background contrast is sufficient)</li>   <li><code>mobileMenuOpen</code> (boolean, default: false) - Whether mobile menu dialog is visible</li>   <li><code>scrolled</code> (boolean, computed) - Whether page has scrolled beyond threshold (used for transparent→solid and sticky elevation)</li>   <li><code>activeLink</code> (string) - Current active navigation link ID/route (syncs with router/URL)</li>   <li><code>openDropdownId</code> (string, default: \"\") - ID of currently open desktop dropdown (prefer single open dropdown at a time)</li>   <li><code>mobileExpandedItemIds</code> (array, default: []) - IDs of expanded accordion sections inside mobile dialog (allow multiple expanded)</li> </ul> <p><strong>Elements</strong>:</p> <h4>Logo/Brand Section</h4> <ul>   <li>Height: 40-48px (logo image/text)</li>   <li>Padding: 16-24px from left edge</li>   <li>Clickable: Links to home page</li>   <li>Responsive: May shrink on mobile or show icon-only variant</li> </ul> <h4>Navigation Links (Desktop)</h4> <ul>   <li>Horizontal layout with gap: 24-32px between links</li>   <li>Font size: 14-16px, medium weight (500-600)</li>   <li>Active state: Underline, color change, or background highlight</li>   <li>Hover state: Subtle color change or underline</li>   <li>Hidden on mobile (&#x3C; 768px)</li>   <li><strong>Dropdown Support</strong>: Items with children open disclosure dropdown panels on click (no hover-only behavior)</li>   <li><strong>Dropdown Toggle</strong>: Button with <code>aria-haspopup=\"true\"</code>, <code>aria-expanded</code>, and <code>aria-controls</code></li>   <li><strong>Dropdown Panel</strong>: Container for links (disclosure pattern; avoid <code>role=\"menu\"</code> unless fully implementing ARIA menu semantics)</li> </ul> <h4>Mobile Menu Toggle</h4> <ul>   <li>Size: 40px × 40px icon button</li>   <li>Icon: Hamburger (☰) when closed, close (×) when open</li>   <li>Position: Right-aligned, 16px from edge</li>   <li>Visible: Only on mobile/tablet (&#x3C; 1024px)</li>   <li>ARIA: <code>aria-label=\"Toggle menu\"</code>, <code>aria-expanded=\"true/false\"</code>, <code>aria-controls=\"mobile-menu\"</code></li> </ul> <h4>Action Buttons/User Menu</h4> <ul>   <li><strong>Marketing Variant</strong>: Primary CTA button (e.g., \"Get Started\", \"Sign Up\")     <ul>       <li>Button size: 32-40px height, padding 12-16px horizontal</li>       <li>Position: Right-aligned, 16-24px from edge</li>     </ul>   </li>   <li><strong>App Variant</strong>: User menu dropdown with avatar     <ul>       <li>Avatar: 36-40px circle</li>       <li>Dropdown: Opens below avatar on click</li>       <li>Contains: Profile, Settings, Logout links</li>       <li>Optional: Notifications button with badge</li>     </ul>   </li> </ul> <h4>Desktop Dropdown Panels</h4> <ul>   <li><strong>Pattern</strong>: Disclosure pattern (button controls a panel of links)</li>   <li><strong>Position</strong>: Below dropdown toggle, aligned to toggle or left edge</li>   <li><strong>Z-index</strong>: 80 (dropdowns from tokens)</li>   <li><strong>Behavior</strong>: Opens on toggle click, closes on outside click or Escape</li>   <li><strong>Focus</strong>: Does not trap focus; uses normal Tab order</li>   <li><strong>ARIA</strong>: Toggle has <code>aria-haspopup=\"true\"</code>, <code>aria-expanded</code>, <code>aria-controls</code>; panel has matching <code>id</code></li>   <li><strong>Animation</strong>: 180ms open, 150ms close (opacity, transform, visibility)</li>   <li><strong>Note</strong>: Avoid <code>role=\"menu\"</code> / <code>role=\"menuitem\"</code> unless fully implementing ARIA menu button pattern with arrow-key semantics</li> </ul> <h4>Mobile Menu Dialog</h4> <ul>   <li>Modal dialog overlay when open (uses <code>role=\"dialog\"</code> with <code>aria-modal=\"true\"</code>)</li>   <li>Background: White (light) or dark neutral (dark mode)</li>   <li>Position: Fixed, full width, slides from top or left</li>   <li>Z-index: 60 (mobileMenu from tokens)</li>   <li>Contains: Navigation links (vertical stack, items with children render as accordion sections) and action buttons</li>   <li>Backdrop: Optional dark overlay behind menu (z-index: 50)</li>   <li>Animation: Slide-in from top/left (300ms), fade backdrop (200ms)</li>   <li><strong>Accordion Sections</strong>: Items with children expand/collapse without closing the dialog</li> </ul> <p><strong>Behavior</strong>:</p> <ul>   <li>Sticky positioning: Fixed at top when <code>sticky=true</code> and user scrolls (default: true)</li>   <li>Transparent→Solid: Background transitions from transparent to solid on scroll (when <code>transparent=true</code>; marketing variant only)</li>   <li>Mobile menu: Opens/closes on toggle button click</li>   <li>Mobile menu: Closes on backdrop click, Escape key, or link click</li>   <li>Mobile accordion: Items with children expand/collapse as accordion sections (does not close dialog)</li>   <li>Focus trap: Focus trapped within mobile menu dialog when open</li>   <li>Focus restoration: Returns focus to toggle button when menu closes</li>   <li>Body scroll lock: Body scroll locked when mobile menu is open (restore on close)</li>   <li>Desktop dropdowns: Open on toggle click, close on outside click or Escape (disclosure pattern)</li>   <li>Desktop dropdown focus: Does not trap focus; uses normal Tab order; Escape restores focus to toggle</li>   <li>Active link: Highlights current page/route using project's routing solution</li>   <li>Keyboard navigation: Full keyboard support for all interactive elements</li> </ul> <h2>Responsive Breakpoints</h2> <h3>Mobile (&#x3C; 768px)</h3> <ul>   <li><strong>Layout</strong>: Logo left, hamburger menu right</li>   <li><strong>Navigation</strong>: Hidden, accessible via mobile menu dialog</li>   <li><strong>Dropdowns</strong>: Items with children render as accordion sections inside the dialog</li>   <li><strong>Actions</strong>: Shown in mobile menu</li>   <li><strong>Height</strong>: 60px</li>   <li><strong>Mobile Menu</strong>: Modal dialog overlay; full-screen or slide-in panel</li> </ul> <h3>Tablet (768px - 1023px)</h3> <ul>   <li><strong>Layout</strong>: Logo left, hamburger menu right</li>   <li><strong>Navigation</strong>: Default to mobile menu dialog pattern</li>   <li><strong>Dropdowns</strong>: Items with children still behave as accordion sections inside the dialog</li>   <li><strong>Actions</strong>: May be in navbar if space allows; otherwise in mobile menu</li>   <li><strong>Height</strong>: 72px</li>   <li><strong>Default</strong>: Use mobile menu dialog pattern (same as mobile breakpoint)</li> </ul> <h3>Desktop (≥ 1024px)</h3> <ul>   <li><strong>Layout</strong>: Logo left, nav links center/left, actions right</li>   <li><strong>Navigation</strong>: Horizontal nav links visible</li>   <li><strong>Dropdowns</strong>: Items with children open disclosure dropdown panels on click (no hover-only behavior)</li>   <li><strong>Actions</strong>: Visible in navbar</li>   <li><strong>Height</strong>: 72px</li>   <li><strong>Mobile Menu</strong>: Hidden (hamburger button hidden)</li> </ul> <h2>Interaction Patterns</h2> <h3>Sticky Scroll Behavior</h3> <ol>   <li>User scrolls down page</li>   <li>If <code>sticky=true</code>, navbar becomes fixed at top</li>   <li>If <code>transparent=true</code>, background transitions from transparent to solid</li>   <li>Shadow appears for depth (optional)</li>   <li>Navbar remains visible during scroll</li> </ol> <h3>Mobile Menu Open</h3> <ol>   <li>User clicks hamburger button</li>   <li>Mobile menu overlay appears with animation</li>   <li>Focus moves to first link in menu</li>   <li>Body scroll is locked</li>   <li>Backdrop appears (optional)</li>   <li>Focus is trapped within menu</li> </ol> <h3>Mobile Menu Close</h3> <ol>   <li>User clicks close button, backdrop, or Escape key</li>   <li>Mobile menu closes with animation</li>   <li>Focus returns to hamburger button</li>   <li>Body scroll is unlocked</li>   <li>Backdrop fades out</li> </ol> <h3>Desktop Dropdown Open</h3> <ol>   <li>User clicks dropdown toggle button</li>   <li>Dropdown panel appears below toggle with animation (180ms)</li>   <li><code>aria-expanded</code> updates to <code>true</code> on toggle</li>   <li>Panel receives focus (first link) or focus stays on toggle (product-specific)</li>   <li>Other open dropdowns close automatically (single open at a time)</li> </ol> <h3>Desktop Dropdown Close</h3> <ol>   <li>User clicks outside dropdown, clicks toggle again, or presses Escape</li>   <li>Dropdown panel closes with animation (150ms)</li>   <li><code>aria-expanded</code> updates to <code>false</code> on toggle</li>   <li>Focus returns to toggle button (on Escape)</li>   <li>Outside click does not restore focus</li> </ol> <h3>Mobile Accordion Toggle</h3> <ol>   <li>User clicks accordion toggle inside mobile dialog</li>   <li>Accordion section expands/collapses with animation</li>   <li><code>aria-expanded</code> updates on accordion toggle</li>   <li>Mobile dialog remains open (does not close)</li>   <li>Focus remains within the dialog</li> </ol> <h3>Active Link Highlighting</h3> <ol>   <li>Current page/route is detected using project's routing solution</li>   <li>Active link is visually highlighted (underline, color change, or background)</li>   <li><code>aria-current=\"page\"</code> is set on active link</li>   <li>Highlight persists on page reload</li>   <li>Route changes update active link and may close open overlays (product-specific)</li> </ol> <h2>Accessibility Requirements</h2> <h3>WCAG 2.1 Compliance (Level AA Target)</h3> <p>This navbar component should meet WCAG 2.1 Level AA standards. Key requirements:</p> <ul>   <li><strong>2.1.1 Keyboard</strong>: All navbar controls operable via keyboard; focus trapped within mobile dialog while open.</li>   <li><strong>2.1.2 No Keyboard Trap</strong>: Escape closes mobile dialog and dropdowns; no keyboard trap beyond intended modal focus trap.</li>   <li><strong>2.4.3 Focus Order</strong>: Logical focus order; focus returns to correct toggle when overlays close.</li>   <li><strong>2.4.7 Focus Visible</strong>: Visible focus indicators for all interactive elements.</li>   <li><strong>4.1.2 Name, Role, Value</strong>: Correct ARIA roles, names, and relationships.</li> </ul> <h3>Keyboard Navigation</h3> <p><strong>Tab Order</strong>:</p> <ul>   <li>Logo → Nav Links (desktop, including dropdown toggles) → Actions → Mobile Toggle (mobile)</li>   <li>Within mobile dialog: Links → Accordion toggles → Actions → Close button</li>   <li>Desktop dropdown panels: Do not trap focus; use normal Tab order</li> </ul> <p><strong>Implementation</strong>:</p> <ul>   <li>Tab cycles through focusable elements</li>   <li>Shift+Tab cycles backwards</li>   <li>Escape closes mobile dialog when open; otherwise closes open desktop dropdown</li>   <li>Escape restores focus to the corresponding toggle</li>   <li>Enter/Space activates links and buttons</li> </ul> <p><strong>Focus Management</strong>:</p> <ul>   <li><strong>On Mobile Dialog Open</strong>: Move focus to first focusable element inside dialog (often first nav link)</li>   <li><strong>On Mobile Dialog Close</strong>: Return focus to menu toggle button</li>   <li><strong>On Desktop Dropdown Open</strong>: Focus may stay on toggle or move to first link (product-specific)</li>   <li><strong>On Desktop Dropdown Close (Escape)</strong>: Restore focus to dropdown toggle</li>   <li><strong>On Desktop Dropdown Close (Outside Click)</strong>: Focus does not change</li>   <li><strong>Mobile Accordion</strong>: Focus remains within dialog when toggling accordion sections</li>   <li><strong>Focus Visible</strong>: Clear focus indicators (2px solid outline, 2px offset)</li> </ul> <h3>ARIA Attributes</h3> <p><strong>Required ARIA Attributes</strong>:</p> <ol>   <li>     <p><strong>Navbar Element</strong>:</p>     <pre><code class=\"language-html\">&#x3C;nav role=\"navigation\" aria-label=\"Main navigation\"> </code></pre>   </li>   <li>     <p><strong>Mobile Menu Toggle</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button id=\"navbar-menu-toggle\"         aria-label=\"Toggle menu\"          aria-expanded=\"false\"          aria-controls=\"navbar-mobile-menu\"> </code></pre>   </li>   <li>     <p><strong>Mobile Menu</strong>:</p>     <pre><code class=\"language-html\">&#x3C;div id=\"navbar-mobile-menu\"       role=\"dialog\"       aria-modal=\"true\"      aria-labelledby=\"navbar-menu-toggle\"      aria-hidden=\"true\">   &#x3C;nav aria-label=\"Main navigation\">     &#x3C;!-- Navigation links -->   &#x3C;/nav> &#x3C;/div> </code></pre>     <p><strong>Note</strong>: Mobile menu uses <code>role=\"dialog\"</code> with <code>aria-modal=\"true\"</code> because it's a modal overlay with focus trap. Inside the dialog, include <code>&#x3C;nav aria-label=\"Main navigation\"></code> for the links.</p>   </li>   <li>     <p><strong>Active Navigation Link</strong>:</p>     <pre><code class=\"language-html\">&#x3C;a href=\"/current-page\" aria-current=\"page\">Current Page&#x3C;/a> </code></pre>   </li>   <li>     <p><strong>User Menu Button</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"User menu\"          aria-haspopup=\"true\"          aria-expanded=\"false\"         aria-controls=\"user-dropdown\"> </code></pre>   </li>   <li>     <p><strong>Desktop Dropdown Toggle</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button aria-haspopup=\"true\"         aria-expanded=\"false\"         aria-controls=\"dropdown-panel-products\">   Products &#x3C;/button> </code></pre>   </li>   <li>     <p><strong>Desktop Dropdown Panel</strong>:</p>     <pre><code class=\"language-html\">&#x3C;div id=\"dropdown-panel-products\">   &#x3C;a href=\"/products/feature1\">Feature 1&#x3C;/a>   &#x3C;a href=\"/products/feature2\">Feature 2&#x3C;/a> &#x3C;/div> </code></pre>     <p><strong>Note</strong>: Prefer disclosure semantics (button controls a panel of links). Avoid <code>role=\"menu\"</code> unless fully implementing ARIA menu keyboard semantics.</p>   </li>   <li>     <p><strong>Mobile Accordion Toggle</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button aria-expanded=\"false\"         aria-controls=\"accordion-panel-products\">   Products &#x3C;/button> </code></pre>   </li>   <li>     <p><strong>Mobile Accordion Panel</strong>:</p>     <pre><code class=\"language-html\">&#x3C;div id=\"accordion-panel-products\">   &#x3C;a href=\"/products/feature1\">Feature 1&#x3C;/a>   &#x3C;a href=\"/products/feature2\">Feature 2&#x3C;/a> &#x3C;/div> </code></pre>   </li>   <li>     <p><strong>Notifications Button</strong>:</p>   </li> </ol> <pre><code class=\"language-html\">&#x3C;button aria-label=\"Notifications: 3 unread\"          aria-haspopup=\"true\"          aria-expanded=\"false\">   &#x3C;span class=\"notifications-badge\" aria-label=\"3 unread\">3&#x3C;/span> &#x3C;/button> </code></pre> <p><strong>Dynamic ARIA Updates</strong>:</p> <ul>   <li>Update <code>aria-expanded</code> on mobile menu toggle when dialog opens/closes</li>   <li>Update <code>aria-expanded</code> on desktop dropdown toggles when panels open/close</li>   <li>Update <code>aria-expanded</code> on mobile accordion toggles when sections expand/collapse</li>   <li>Update <code>aria-hidden</code> on mobile menu (true when closed; false/omitted when open)</li>   <li>Update <code>aria-modal=\"true\"</code> on mobile menu when open</li>   <li>Make background content inert/aria-hidden while mobile dialog is open (use <code>inert</code> if available, or apply <code>aria-hidden</code> to main content)</li>   <li>Update <code>aria-current=\"page\"</code> on active navigation link</li>   <li>Update <code>aria-label</code> on notifications button to include count</li> </ul> <h3>Screen Reader Support</h3> <p><strong>Announcements</strong>:</p> <ul>   <li>Mobile menu state changes (via <code>aria-expanded</code> and focus management)</li>   <li>Active page changes (via <code>aria-current=\"page\"</code>)</li> </ul> <p><strong>Labels</strong>:</p> <ul>   <li>All icon-only buttons must have descriptive <code>aria-label</code></li>   <li>Logo image must have descriptive <code>alt</code> text</li>   <li>Navigation links should have clear, descriptive text</li> </ul> <p><strong>Screen Reader Only Text (sr-only class)</strong>:</p> <pre><code class=\"language-css\">.sr-only {   position: absolute;   width: 1px;   height: 1px;   padding: 0;   margin: -1px;   overflow: hidden;   clip: rect(0, 0, 0, 0);   white-space: nowrap;   border-width: 0; } </code></pre> <h3>Focus Visible Styles</h3> <p><strong>Implementation</strong>:</p> <pre><code class=\"language-css\">button:focus-visible, a:focus-visible, [tabindex]:focus-visible {   outline: 2px solid var(--primary-color);   outline-offset: 2px; }  /* Fallback for older browsers */ button:focus, a:focus, [tabindex]:focus {   outline: 2px solid var(--primary-color);   outline-offset: 2px; } </code></pre> <h3>Accessibility Implementation Checklist</h3> <p>When implementing this navbar, ensure:</p> <ul>   <li>[ ] All buttons have <code>aria-label</code> or visible text</li>   <li>[ ] Mobile menu uses <code>role=\"dialog\"</code> + <code>aria-modal=\"true\"</code> and contains <code>&#x3C;nav aria-label=\"Main navigation\"></code></li>   <li>[ ] Mobile menu toggle has id, <code>aria-expanded</code>, and <code>aria-controls</code></li>   <li>[ ] Focus trap is active only while the mobile dialog is open; focus restores to the menu toggle on close</li>   <li>[ ] Background content is inert/aria-hidden while the mobile dialog is open</li>   <li>[ ] Body scroll lock is applied when mobile dialog is open and cleaned up on close</li>   <li>[ ] Desktop dropdown toggles have <code>aria-expanded</code> + <code>aria-controls</code>; Escape closes and restores focus</li>   <li>[ ] Mobile dropdowns are accordions with <code>aria-expanded</code> + <code>aria-controls</code>; expanding does not close the dialog</li>   <li>[ ] Active link uses <code>aria-current=\"page\"</code> correctly</li>   <li>[ ] All interactive elements have visible focus indicators</li>   <li>[ ] Prefers-reduced-motion reduces durations and avoids transform motion where possible</li> </ul> <h2>Design System Specifications</h2> <p><strong>Important</strong>: The design specifications below are tool-agnostic and should be implemented using your project's chosen styling approach (Tailwind, CSS Modules, styled-components, Chakra UI, Material-UI, SCSS, etc.). The styling examples in the \"Code Implementation Patterns\" section show how to apply these design values, but these specifications are the source of truth for the design.</p> <h3>Color Guidelines</h3> <h4>Navbar Background</h4> <ul>   <li><strong>Light (Default)</strong>: White (<code>#ffffff</code>) or very light gray (<code>#f9fafb</code>)</li>   <li><strong>Light (Transparent)</strong>: <code>rgba(255, 255, 255, 0.95)</code> with <code>backdrop-filter: blur(8px)</code></li>   <li><strong>Light (Scrolled)</strong>: White (<code>#ffffff</code>) with shadow</li>   <li><strong>Dark (Default)</strong>: <code>#1a1a1a</code> or <code>#0f172a</code></li>   <li><strong>Dark (Transparent)</strong>: <code>rgba(26, 26, 26, 0.95)</code> with <code>backdrop-filter: blur(8px)</code></li>   <li><strong>Dark (Scrolled)</strong>: <code>#1a1a1a</code> with shadow</li> </ul> <h4>Navigation Links</h4> <ul>   <li><strong>Text (Light)</strong>: Dark gray (<code>#111827</code>, <code>#1f2937</code>) or black (<code>#000000</code>)</li>   <li><strong>Text (Dark)</strong>: <code>#e0e0e0</code> or <code>#f1f5f9</code></li>   <li><strong>Hover (Light)</strong>: Primary color or darker gray</li>   <li><strong>Hover (Dark)</strong>: Primary color or lighter gray</li>   <li><strong>Active (Light)</strong>: Primary color with underline or background</li>   <li><strong>Active (Dark)</strong>: Primary color with underline or background</li>   <li><strong>Contrast</strong>: Ensure 4.5:1 contrast ratio minimum (WCAG AA)</li> </ul> <h4>Logo</h4> <ul>   <li><strong>Text/Icon</strong>: Match navigation link colors or brand color</li>   <li><strong>Hover</strong>: Subtle opacity change or color shift</li> </ul> <h4>Mobile Menu</h4> <ul>   <li><strong>Background (Light)</strong>: White (<code>#ffffff</code>)</li>   <li><strong>Background (Dark)</strong>: <code>#1a1a1a</code> or <code>#0f172a</code></li>   <li><strong>Backdrop</strong>: <code>rgba(0, 0, 0, 0.5)</code> to <code>rgba(0, 0, 0, 0.75)</code></li>   <li><strong>Links</strong>: Match navbar link colors</li> </ul> <h4>Action Buttons</h4> <ul>   <li><strong>Primary CTA</strong>: Use project's primary button style</li>   <li><strong>User Menu</strong>: Match navbar text colors</li>   <li><strong>Notifications Badge</strong>: Red (<code>#ef4444</code>, <code>#dc2626</code>) or primary color</li> </ul> <h3>Typography</h3> <ul>   <li><strong>Font Family</strong>: Use project's font stack (typically: system-ui, -apple-system, sans-serif or custom font)</li>   <li><strong>Navigation Links</strong>: 14-16px, medium weight (500-600)</li>   <li><strong>Logo</strong>: 18-24px, bold (700) or use logo image</li>   <li><strong>CTA Button</strong>: 14-16px, semibold (600)</li>   <li><strong>Line Height</strong>: 1.25 for headings, 1.5 for body text</li> </ul> <h3>Spacing System</h3> <p>Use consistent spacing scale (4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px) or your project's spacing system:</p> <ul>   <li><strong>Navbar Padding</strong>: 16-24px horizontal (desktop), 16px (mobile)</li>   <li><strong>Logo Padding</strong>: 16-24px from left edge</li>   <li><strong>Nav Links Gap</strong>: 24-32px between links (desktop)</li>   <li><strong>Actions Padding</strong>: 16-24px from right edge</li>   <li><strong>Mobile Menu Padding</strong>: 24px on all sides</li>   <li><strong>Mobile Menu Link Gap</strong>: 16-24px vertical between links</li> </ul> <h3>Shadows &#x26; Elevation</h3> <p>Use subtle shadows for depth and separation:</p> <ul>   <li><strong>Navbar Shadow (Sticky/Scrolled, Light)</strong>: <code>0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06)</code></li>   <li><strong>Navbar Shadow (Sticky/Scrolled, Dark)</strong>: <code>0 1px 3px rgba(0, 0, 0, 0.3), 0 1px 2px rgba(0, 0, 0, 0.2)</code></li>   <li><strong>Mobile Menu Shadow</strong>: <code>0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)</code></li> </ul> <h3>Border Radius</h3> <ul>   <li><strong>Buttons</strong>: 6-8px</li>   <li><strong>Mobile Menu</strong>: 0 (full width) or 8-12px if not full-screen</li>   <li><strong>Avatar</strong>: 50% (circle)</li>   <li><strong>Badges</strong>: 12-16px (pill shape)</li> </ul> <h3>Visual Hierarchy Principles</h3> <ol>   <li>Logo should be clearly visible and clickable</li>   <li>Navigation links should be easily scannable</li>   <li>Active link should be clearly highlighted</li>   <li>CTA button should stand out (marketing variant)</li>   <li>Mobile menu should be clearly separated from main content</li>   <li>Focus indicators should be clearly visible</li>   <li>Transparent→Solid transition should be smooth and noticeable</li> </ol> <h2>State Management Considerations</h2> <h3>For AI Agents to Implement</h3> <p><strong>State to Track</strong>:</p> <ol>   <li><code>mobileMenuOpen: boolean</code> - Whether mobile menu dialog is visible (default: false)</li>   <li><code>scrolled: boolean</code> - Whether page has scrolled beyond threshold (computed from scroll position > <code>tokens.layout.scrollThresholdPx</code>, default: false)</li>   <li><code>activeLink: string</code> - Current active navigation link ID/route (syncs with router/URL)</li>   <li><code>variant: \"marketing\" | \"app\"</code> - Navbar style variant (default: \"marketing\")</li>   <li><code>sticky: boolean</code> - Whether navbar is sticky on scroll (default: true)</li>   <li><code>transparent: boolean</code> - Whether navbar starts transparent (default: false; recommended only for marketing variant)</li>   <li><code>openDropdownId: string</code> - ID of currently open desktop dropdown (default: \"\"; prefer single open at a time)</li>   <li><code>mobileExpandedItemIds: array</code> - IDs of expanded accordion sections inside mobile dialog (default: []; allow multiple expanded)</li> </ol> <p><strong>State Persistence</strong>:</p> <ul>   <li>All state is component-level only (no persistence needed)</li>   <li><code>activeLink</code> should sync with router/URL</li> </ul> <h3>SSR/Hydration Considerations</h3> <ul>   <li><strong>Mobile menu state</strong>: Initialize <code>mobileMenuOpen</code> as <code>false</code> to prevent hydration mismatches</li>   <li><strong>Scroll state</strong>: Only access <code>window</code> and scroll position after component mount</li>   <li><strong>Implementation</strong>: Check <code>typeof window !== 'undefined'</code> before accessing window object</li> </ul> <h2>Critical Implementation Guidelines</h2> <h3>Project Detection</h3> <p>Before implementing, AI agents must detect:</p> <ol>   <li><strong>Framework</strong>: Identify React/Vue/Angular/Svelte and routing libraries by inspecting package.json and existing components</li>   <li><strong>Styling System</strong>: Detect Tailwind, SCSS, CSS Modules, styled-components, etc. and use ONLY that system</li>   <li><strong>Design Tokens</strong>: Identify existing color systems, spacing scales, and typography from the project</li> </ol> <p><strong>CRITICAL</strong>: Use ONLY the detected styling system. Do NOT introduce new styling systems.</p> <h3>Vanilla CSS Detection</h3> <p><strong>CRITICAL</strong>: When detecting vanilla CSS in the project, ALWAYS create CSS classes in a stylesheet. NEVER use inline style attributes on HTML elements.</p> <ul>   <li>Define classes like <code>.navbar</code>, <code>.navbar--sticky</code>, <code>.navbar--transparent</code>, <code>.mobile-menu</code>, etc. in your CSS file</li>   <li>Apply classes via <code>className</code>/<code>class</code> attributes: <code>&#x3C;nav class=\"navbar navbar--sticky\"></code></li>   <li>Do NOT use: <code>&#x3C;nav style=\"position: fixed\"></code></li>   <li>This ensures maintainability, reusability, and proper separation of concerns</li> </ul> <h3>React Hook Patterns</h3> <p><strong>CRITICAL</strong>: When detecting React, extract logic from <code>useEffect</code> hooks into separate custom hooks that do ONE thing each.</p> <ul>   <li>Instead of one <code>useEffect</code> handling multiple concerns (scroll listener + mobile menu + focus trap), create separate hooks:     <ul>       <li><code>useScrollPosition()</code> - Handles scroll position tracking only</li>       <li><code>useMobileMenu()</code> - Handles mobile menu state only</li>       <li><code>useFocusTrap(containerRef, isActive)</code> - Handles focus trapping only</li>       <li><code>useBodyScrollLock(isLocked)</code> - Handles body scroll locking only</li>     </ul>   </li>   <li>This improves code organization, testability, and reusability</li>   <li>Each hook should have a single responsibility</li> </ul> <h2>Code Implementation Patterns</h2> <h3>React Example Pattern</h3> <pre><code class=\"language-jsx\">// Suggested component structure &#x3C;Navbar   variant=\"marketing\"   sticky={true}   transparent={true}   activeLink={currentRoute} >   &#x3C;NavbarLogo href=\"/\">Brand&#x3C;/NavbarLogo>   &#x3C;NavbarLinks>     &#x3C;NavLink href=\"/about\" active={currentRoute === '/about'}>About&#x3C;/NavLink>     &#x3C;NavLink href=\"/pricing\" active={currentRoute === '/pricing'}>Pricing&#x3C;/NavLink>     &#x3C;NavLink href=\"/contact\" active={currentRoute === '/contact'}>Contact&#x3C;/NavLink>   &#x3C;/NavbarLinks>   &#x3C;NavbarActions>     &#x3C;Button variant=\"primary\">Get Started&#x3C;/Button>   &#x3C;/NavbarActions>   &#x3C;MobileMenuToggle />   &#x3C;MobileMenu>     &#x3C;MobileNavLinks />     &#x3C;MobileActions />   &#x3C;/MobileMenu> &#x3C;/Navbar> </code></pre> <h3>Angular Example Pattern</h3> <pre><code class=\"language-html\">&#x3C;!-- Suggested template structure --> &#x3C;nav class=\"navbar\"       [class.navbar--sticky]=\"isSticky\"      [class.navbar--scrolled]=\"hasScrolled\"      role=\"navigation\"      aria-label=\"Main navigation\">   &#x3C;a class=\"navbar-logo\" href=\"/\">Brand&#x3C;/a>   &#x3C;ul class=\"navbar-links\" *ngIf=\"!isMobile\">     &#x3C;li>&#x3C;a href=\"/about\" [attr.aria-current]=\"currentRoute === '/about' ? 'page' : null\">About&#x3C;/a>&#x3C;/li>     &#x3C;li>&#x3C;a href=\"/pricing\" [attr.aria-current]=\"currentRoute === '/pricing' ? 'page' : null\">Pricing&#x3C;/a>&#x3C;/li>   &#x3C;/ul>   &#x3C;button class=\"mobile-toggle\"            *ngIf=\"isMobile\"           (click)=\"toggleMobileMenu()\"           [attr.aria-expanded]=\"mobileMenuOpen\"           aria-label=\"Toggle menu\">     ☰   &#x3C;/button>   &#x3C;div class=\"mobile-menu\"         *ngIf=\"isMobile &#x26;&#x26; mobileMenuOpen\"        [attr.aria-hidden]=\"!mobileMenuOpen\">     &#x3C;!-- Mobile menu content -->   &#x3C;/div> &#x3C;/nav> </code></pre> <h3>Vue Example Pattern</h3> <pre><code class=\"language-vue\">&#x3C;!-- Suggested component structure --> &#x3C;template>   &#x3C;nav class=\"navbar\"        :class=\"{ 'navbar--sticky': sticky, 'navbar--scrolled': scrolled }\"        role=\"navigation\"        aria-label=\"Main navigation\">     &#x3C;a class=\"navbar-logo\" href=\"/\">Brand&#x3C;/a>     &#x3C;ul class=\"navbar-links\" v-if=\"!isMobile\">       &#x3C;li>&#x3C;a href=\"/about\" :aria-current=\"currentRoute === '/about' ? 'page' : undefined\">About&#x3C;/a>&#x3C;/li>       &#x3C;li>&#x3C;a href=\"/pricing\" :aria-current=\"currentRoute === '/pricing' ? 'page' : undefined\">Pricing&#x3C;/a>&#x3C;/li>     &#x3C;/ul>     &#x3C;button class=\"mobile-toggle\"             v-if=\"isMobile\"             @click=\"toggleMobileMenu\"             :aria-expanded=\"mobileMenuOpen\"             aria-label=\"Toggle menu\">       ☰     &#x3C;/button>     &#x3C;Teleport to=\"body\">       &#x3C;div v-if=\"isMobile &#x26;&#x26; mobileMenuOpen\"             class=\"mobile-menu\"            :aria-hidden=\"!mobileMenuOpen\">         &#x3C;!-- Mobile menu content -->       &#x3C;/div>     &#x3C;/Teleport>   &#x3C;/nav> &#x3C;/template> </code></pre> <h3>CSS/Styling Approaches</h3> <p><strong>Note</strong>: The examples below show how to implement the design specifications using different styling tools. Always refer to the \"Design System Specifications\" section above for the authoritative design values, then adapt them to your project's styling approach.</p> <h4>Tailwind CSS Pattern</h4> <pre><code class=\"language-html\">&#x3C;!-- Navbar --> &#x3C;nav class=\"fixed top-0 left-0 right-0 z-50 bg-white shadow-sm transition-all duration-300\"      :class=\"{ 'bg-white/95 backdrop-blur-md': transparent &#x26;&#x26; !scrolled, 'bg-white shadow-md': scrolled }\">   &#x3C;div class=\"container mx-auto flex items-center justify-between h-18 px-6\">     &#x3C;!-- Logo -->     &#x3C;a href=\"/\" class=\"text-xl font-bold\">Brand&#x3C;/a>          &#x3C;!-- Desktop Nav Links -->     &#x3C;ul class=\"hidden md:flex items-center gap-8\">       &#x3C;li>&#x3C;a href=\"/about\" class=\"hover:text-primary\">About&#x3C;/a>&#x3C;/li>       &#x3C;li>&#x3C;a href=\"/pricing\" class=\"hover:text-primary\">Pricing&#x3C;/a>&#x3C;/li>     &#x3C;/ul>          &#x3C;!-- Mobile Toggle -->     &#x3C;button class=\"md:hidden w-10 h-10\" aria-label=\"Toggle menu\">☰&#x3C;/button>          &#x3C;!-- CTA -->     &#x3C;button class=\"hidden md:block px-4 py-2 bg-primary text-white rounded\">Get Started&#x3C;/button>   &#x3C;/div> &#x3C;/nav> </code></pre> <h4>Vanilla CSS Pattern</h4> <pre><code class=\"language-css\">/* CRITICAL: Always create CSS classes, never use inline styles */ /* Apply design system values directly */ .navbar {   position: fixed;   top: 0;   left: 0;   right: 0;   height: 72px;   background: #ffffff;   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);   z-index: 50;   transition: background 300ms, box-shadow 300ms; }  .navbar--transparent {   background: rgba(255, 255, 255, 0.95);   backdrop-filter: blur(8px);   box-shadow: none; }  .navbar--scrolled {   background: #ffffff;   box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1), 0 1px 2px rgba(0, 0, 0, 0.06); }  .navbar-links {   display: flex;   gap: 32px;   list-style: none; }  .navbar-link {   font-size: 16px;   font-weight: 500;   color: #111827;   text-decoration: none;   transition: color 150ms; }  .navbar-link:hover {   color: var(--primary-color); }  .navbar-link.active {   color: var(--primary-color);   text-decoration: underline; }  .mobile-menu {   position: fixed;   top: 0;   left: 0;   right: 0;   bottom: 0;   background: #ffffff;   z-index: 50;   padding: 24px;   transform: translateX(-100%);   transition: transform 300ms; }  .mobile-menu--open {   transform: translateX(0); } </code></pre> <h4>Material-UI/Chakra Pattern</h4> <ul>   <li>Use AppBar component for navbar (Material-UI) or Box with flex layout (Chakra)</li>   <li><strong>Extend theme</strong> with design system color values, spacing scale, and typography settings</li>   <li>Use theme.transitions for consistent animations matching design system specifications</li>   <li>Leverage theme breakpoints for responsive behavior</li>   <li><strong>Customize colors, spacing, and typography</strong> to match design system specifications</li>   <li>Use Drawer component for mobile menu (Material-UI) or Drawer component (Chakra)</li> </ul> <h2>Animation Specifications</h2> <h3>Sticky Scroll Transition</h3> <ul>   <li><strong>Duration</strong>: 200-300ms</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.4, 0, 0.2, 1)</code> or <code>ease-in-out</code></li>   <li><strong>Properties</strong>: <code>background-color</code>, <code>box-shadow</code>, <code>backdrop-filter</code></li>   <li><strong>Trigger</strong>: Scroll position > threshold (e.g., 20px)</li> </ul> <h3>Transparent→Solid Transition</h3> <ul>   <li><strong>Duration</strong>: 200-300ms</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.4, 0, 0.2, 1)</code></li>   <li><strong>Properties</strong>:     <ul>       <li>Background: transparent/surface-overlay → surface-solid (use project tokens)</li>       <li>Shadow: none → elevated shadow (use project tokens)</li>       <li>Backdrop filter: <code>blur(8px)</code> → <code>none</code> (optional; prefer tokens)</li>     </ul>   </li> </ul> <h3>Mobile Menu Open</h3> <ul>   <li><strong>Duration</strong>: 250-300ms (from <code>tokens.motion.mobileMenuOpenMs</code>)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.4, 0, 0.2, 1)</code></li>   <li><strong>Menu</strong>: Slide from top/left: <code>translateX(-100%)</code> → <code>translateX(0)</code> or <code>translateY(-100%)</code> → <code>translateY(0)</code></li>   <li><strong>Backdrop</strong>: Fade in: <code>opacity: 0</code> → <code>opacity: 1</code> (200ms from <code>tokens.motion.backdropFadeMs</code>)</li> </ul> <h3>Mobile Menu Close</h3> <ul>   <li><strong>Duration</strong>: 250ms (from <code>tokens.motion.mobileMenuCloseMs</code>)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.4, 0, 0.2, 1)</code></li>   <li><strong>Menu</strong>: Slide out: <code>translateX(0)</code> → <code>translateX(-100%)</code></li>   <li><strong>Backdrop</strong>: Fade out: <code>opacity: 1</code> → <code>opacity: 0</code> (150ms)</li> </ul> <h3>Desktop Dropdown Open</h3> <ul>   <li><strong>Duration</strong>: 180ms (from <code>tokens.motion.dropdownOpenMs</code>)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.4, 0, 0.2, 1)</code></li>   <li><strong>Properties</strong>: <code>opacity</code>, <code>transform</code>, <code>visibility</code></li>   <li><strong>Note</strong>: If <code>prefers-reduced-motion</code> is enabled, avoid transform and reduce durations to ≤100ms</li> </ul> <h3>Desktop Dropdown Close</h3> <ul>   <li><strong>Duration</strong>: 150ms (from <code>tokens.motion.dropdownCloseMs</code>)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.4, 0, 0.2, 1)</code></li>   <li><strong>Properties</strong>: <code>opacity</code>, <code>transform</code>, <code>visibility</code></li>   <li><strong>Note</strong>: If <code>prefers-reduced-motion</code> is enabled, avoid transform and reduce durations to ≤100ms</li> </ul> <h3>Prefers-Reduced-Motion Support</h3> <p><strong>When <code>prefers-reduced-motion</code> is enabled</strong>:</p> <ul>   <li>Disable transform-based motion where possible (avoid translate animations)</li>   <li>Reduce animation durations to ≤100ms (use <code>tokens.motion.reducedMotionDurationMs</code>)</li>   <li>Minimize backdrop-filter blur transitions</li>   <li>Allow essential opacity transitions (≤100ms)</li> </ul> <p><strong>Implementation</strong>:</p> <pre><code class=\"language-css\">@media (prefers-reduced-motion: reduce) {   .navbar,   .mobile-menu {     animation: none;     transition: opacity 0.1s ease, background-color 0.1s ease;   }      .mobile-menu {     transform: none; /* Disable translateX/translateY animations */   }      .navbar--transparent {     backdrop-filter: none; /* Minimize blur transitions */   } } </code></pre> <p><strong>Performance</strong>:</p> <ul>   <li>Prefer <code>transform</code> and <code>opacity</code> for animations (GPU-accelerated)</li>   <li>Set <code>will-change: transform, opacity</code> on animating elements</li>   <li>Use <code>transform3d(0,0,0)</code> to trigger GPU acceleration if needed</li> </ul> <h2>Z-Index Layer System</h2> <p>To ensure proper layering of elements:</p> <ul>   <li><strong>Backdrop</strong>: 50 (from tokens)</li>   <li><strong>Mobile Menu</strong>: 60 (from tokens)</li>   <li><strong>Navbar</strong>: 70 (from tokens)</li>   <li><strong>Dropdowns</strong>: 80 (from tokens)</li>   <li><strong>Tooltips</strong>: 90 (from tokens)</li> </ul> <h2>Implementation Details</h2> <h3>Sticky Positioning</h3> <p><strong>When</strong>: <code>sticky=true</code> and user scrolls down</p> <p><strong>How</strong>:</p> <ul>   <li>Set <code>position: fixed</code> when scroll position > threshold</li>   <li>Add shadow for depth</li>   <li>Smooth transition on background/shadow changes</li> </ul> <p><strong>Cleanup</strong>: Remove fixed positioning when scrolling back to top (optional, or keep fixed)</p> <h3>Scroll Detection</h3> <p><strong>When</strong>: <code>transparent=true</code> or need to track scroll state</p> <p><strong>How</strong>:</p> <ul>   <li>Add scroll event listener (throttled/debounced - recommended: <code>requestAnimationFrame</code> or ~100ms throttle)</li>   <li>Update <code>scrolled</code> state when scroll position > threshold (default: 20px, from <code>tokens.layout.scrollThresholdPx</code>)</li>   <li>Trigger background/shadow transitions</li> </ul> <p><strong>Cleanup</strong>: Remove scroll listener on unmount</p> <h3>Mobile Menu Focus Trap</h3> <p><strong>When</strong>: Mobile menu is open</p> <p><strong>How</strong>:</p> <ul>   <li>Use focus-trap library (e.g., <code>focus-trap</code> for React, <code>focus-trap-vue</code> for Vue) or manual implementation</li>   <li>Identify all focusable elements within mobile menu</li>   <li>Prevent tabbing outside menu boundaries</li>   <li>Cycle focus within menu on Tab/Shift+Tab</li> </ul> <p><strong>Cleanup</strong>: Remove focus trap on close</p> <h3>Focus Restoration</h3> <p><strong>When</strong>: Mobile menu closes (all close paths)</p> <p><strong>How</strong>:</p> <ul>   <li>Store reference to toggle button when menu opens</li>   <li>Restore focus to toggle button on close</li>   <li>Handle cases where toggle button no longer exists (fallback to body or first focusable element)</li> </ul> <h3>Body Scroll Lock</h3> <p><strong>When</strong>: Mobile menu is open</p> <p><strong>How</strong>:</p> <ul>   <li>Set <code>document.body.style.overflow = 'hidden'</code> (or project-standard utility)</li>   <li><strong>Optional: Preserve scroll position</strong>: Use <code>position: fixed</code> with <code>top: -${window.scrollY}px</code> to prevent jump when locking scroll</li>   <li><strong>iOS handling</strong>: If needed, prevent body touchmove scrolling behind the dialog using project-standard approach</li> </ul> <p><strong>Cleanup</strong>:</p> <ul>   <li>Restore previous styles on menu close/unmount</li> </ul> <h3>Escape Key Handling</h3> <p><strong>When</strong>: Mobile menu is open</p> <p><strong>How</strong>:</p> <ul>   <li>Add global keydown listener for Escape key</li>   <li>Prevent default and stop propagation</li>   <li>Close menu and restore focus</li> </ul> <p><strong>Cleanup</strong>: Remove listener on close</p> <h3>Active Link Detection</h3> <p><strong>When</strong>: Page loads or route changes</p> <p><strong>How</strong>:</p> <ul>   <li>Compare current URL/route with navigation link hrefs using project's routing solution</li>   <li>Set <code>aria-current=\"page\"</code> on matching link</li>   <li>Apply active styles (underline, color change, background)</li>   <li>Route changes may close open overlays (product-specific)</li> </ul> <h3>Desktop Dropdown Management</h3> <p><strong>When</strong>: User interacts with dropdown toggles</p> <p><strong>How</strong>:</p> <ul>   <li>Track <code>openDropdownId</code> state (prefer single open dropdown at a time)</li>   <li>On toggle click: Open if closed, close if open</li>   <li>On outside click: Close open dropdown</li>   <li>On Escape: Close dropdown and restore focus to toggle</li>   <li>Update <code>aria-expanded</code> on toggle dynamically</li>   <li>Do not trap focus inside dropdown panels (use normal Tab order)</li> </ul> <p><strong>Cleanup</strong>: Close dropdowns on unmount or route change (if required)</p> <h3>Mobile Accordion Management</h3> <p><strong>When</strong>: User interacts with accordion toggles inside mobile dialog</p> <p><strong>How</strong>:</p> <ul>   <li>Track <code>mobileExpandedItemIds</code> array (allow multiple expanded sections)</li>   <li>On accordion toggle click: Add/remove item ID from array</li>   <li>Update <code>aria-expanded</code> on accordion toggle dynamically</li>   <li>Expanding/collapsing does not close the mobile dialog</li>   <li>Focus remains within the mobile dialog</li> </ul> <h2>Edge Cases</h2> <h3>Very Long Navigation Labels</h3> <ul>   <li>Truncate with ellipsis on mobile</li>   <li>Show tooltip on hover (desktop)</li>   <li>Consider icon-only variant for mobile</li> </ul> <h3>Many Navigation Links</h3> <ul>   <li>Desktop: May need to wrap to second line or use dropdown</li>   <li>Mobile: Scrollable menu if many links</li>   <li>Consider grouping links into categories</li> </ul> <h3>Rapid Opening/Closing</h3> <ul>   <li>Debounce or disable interactions during animation</li>   <li>Prevent multiple simultaneous open/close operations</li> </ul> <h3>Window Resize During Mobile Menu Open</h3> <ul>   <li>Close mobile menu when switching to desktop breakpoint</li>   <li>Re-evaluate breakpoint on resize (debounced)</li> </ul> <h3>Very Small Screens</h3> <ul>   <li>Further reduce padding/spacing on screens &#x3C; 320px</li>   <li>Consider icon-only logo variant</li> </ul> <h3>Content Overflow</h3> <ul>   <li>Ensure navbar doesn't overflow viewport horizontally</li>   <li>Mobile menu should handle vertical overflow with scrolling</li> </ul> <h2>Common Variations</h2> <h3>Marketing Navbar</h3> <ul>   <li>Logo + horizontal nav + primary CTA</li>   <li>Sticky by default</li>   <li>Optional transparent-on-hero mode (<code>transparent=true</code>) that becomes solid on scroll</li>   <li>Dropdowns supported for grouped marketing sections</li>   <li>Simple, clean design</li> </ul> <h3>App Navbar</h3> <ul>   <li>Logo + nav + notifications + user menu</li>   <li>Solid background only (<code>transparent</code> forced false)</li>   <li>Sticky by default</li>   <li>Dropdowns commonly used for user menu and nav groupings</li>   <li>More compact, functional design</li> </ul> <h3>Minimal Navbar</h3> <ul>   <li>Logo + few nav links only</li>   <li>No CTA button</li>   <li>Very clean, minimal design</li> </ul> <h3>Centered Navbar</h3> <ul>   <li>Logo centered, nav links centered below or around logo</li>   <li>Less common, used for specific design styles</li> </ul> <h3>With Search Bar</h3> <ul>   <li>Add search input in navbar</li>   <li>May replace some nav links on mobile</li>   <li>Search opens modal or expands inline</li> </ul> <h2>Testing Checklist</h2> <p>When implementing this navbar, test:</p> <ul>   <li>[ ] Navbar renders correctly on all breakpoints</li>   <li>[ ] Mobile menu dialog opens and closes via toggle, Escape, backdrop click, and link click</li>   <li>[ ] Focus is trapped within the mobile dialog while open</li>   <li>[ ] Focus is restored to the mobile toggle when the dialog closes</li>   <li>[ ] Body scroll is locked while the mobile dialog is open and restored on close</li>   <li>[ ] Sticky positioning works correctly when enabled</li>   <li>[ ] Transparent→Solid transition works on scroll when enabled (marketing only)</li>   <li>[ ] Active link is highlighted correctly and uses <code>aria-current=\"page\"</code></li>   <li>[ ] Desktop dropdown opens/closes on toggle click</li>   <li>[ ] Desktop dropdown closes on outside click and Escape</li>   <li>[ ] Escape on desktop dropdown restores focus to the dropdown toggle</li>   <li>[ ] Desktop dropdown does not trap focus; Tab order is logical</li>   <li>[ ] Mobile dropdown items render as accordions inside the dialog</li>   <li>[ ] Mobile accordion expand/collapse updates <code>aria-expanded</code> and does not close the dialog</li>   <li>[ ] Route changes update active link and close open overlays if required by product rules</li>   <li>[ ] Window resize closes the mobile dialog when switching to desktop breakpoint</li>   <li>[ ] Prefers-reduced-motion reduces durations and avoids transform motion where possible</li>   <li>[ ] All interactive elements have visible focus indicators</li>   <li>[ ] Screen reader announces dialog state changes and expanded/collapsed states appropriately</li>   <li>[ ] SSR/hydration safe (no DOM access before mount)</li> </ul> <h2>AI Agent Implementation Prompt Template</h2> <p>Use this template when asking an AI agent to implement this navbar:</p> <pre><code>Implement a responsive Navigation Bar component with mobile hamburger menu as a modal dialog (role=\"dialog\" aria-modal=\"true\") including focus trap, focus restoration, inert background, and body scroll lock. Support sticky scroll behavior and optional transparent-to-solid transition (marketing recommended only). Add dropdown navigation: on desktop, implement disclosure dropdowns (button controlling a panel of links with aria-expanded/aria-controls; avoid role=\"menu\" unless fully implementing ARIA menu semantics). On mobile/tablet, integrate dropdown items as accordion sections inside the dialog (aria-expanded/aria-controls), and expanding must not close the dialog. Close the mobile dialog on Escape/backdrop/link click. Close desktop dropdown on outside click/Escape and restore focus to its toggle. Implement smooth animations and prefers-reduced-motion (reduce durations to &#x3C;= tokens.motion.reducedMotionDurationMs and avoid transform-based motion where possible). Adapt to {{USER_FRAMEWORK}} and {{USER_STYLING_LIBRARY}}.  Key requirements: 1. Responsive: Desktop shows horizontal nav links; mobile/tablet show hamburger menu dialog 2. Sticky: Fixed at top when scrolling (sticky=true, default) 3. Transparent→Solid: Background transitions on scroll (transparent=true; marketing only) 4. Mobile Menu: Modal dialog overlay with focus trap, inert background, and body scroll lock 5. Desktop Dropdowns: Disclosure pattern (button + panel), no focus trap, Escape restores focus to toggle 6. Mobile Accordions: Items with children expand/collapse inside dialog without closing it 7. Accessibility: ARIA attributes, keyboard navigation, focus management 8. Active Link: Highlights current page/route using project's routing solution 9. Animations: 150-300ms transitions with prefers-reduced-motion support 10. CRITICAL: Use ONLY the detected styling system. If vanilla CSS is detected, create CSS classes in a stylesheet, never use inline style attributes. If React is detected, separate effects into single-concern hooks.  Reference: UI Potion Navigation Bar Component </code></pre> <h2>Additional Resources</h2> <h3>Focus Trap Library Examples</h3> <p><strong>React</strong>:</p> <pre><code class=\"language-javascript\">import { createFocusTrap } from 'focus-trap';  const trap = createFocusTrap(mobileMenuRef.current, {   escapeDeactivates: true,   clickOutsideDeactivates: true,   returnFocusOnDeactivate: true,   initialFocus: mobileMenuRef.current.querySelector('a') || mobileMenuRef.current, }); trap.activate(); </code></pre> <p><strong>Vue</strong>:</p> <pre><code class=\"language-javascript\">import { createFocusTrap } from 'focus-trap';  const trap = createFocusTrap(mobileMenuRef.value, {   escapeDeactivates: true,   clickOutsideDeactivates: true,   returnFocusOnDeactivate: true, }); trap.activate(); </code></pre> <h3>Body Scroll Lock Library Examples</h3> <p><strong>React</strong>:</p> <pre><code class=\"language-javascript\">import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';  disableBodyScroll(mobileMenuRef.current); // On close: enableBodyScroll(mobileMenuRef.current); </code></pre> <p><strong>Vue</strong>:</p> <pre><code class=\"language-javascript\">import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';  disableBodyScroll(mobileMenuRef.value); // On close: enableBodyScroll(mobileMenuRef.value); </code></pre> <h3>Scroll Detection Hook Example (React)</h3> <pre><code class=\"language-javascript\">function useScrollPosition(threshold = 20) {   const [scrolled, setScrolled] = useState(false);    useEffect(() => {     const handleScroll = throttle(() => {       setScrolled(window.scrollY > threshold);     }, 100);      window.addEventListener('scroll', handleScroll);     return () => window.removeEventListener('scroll', handleScroll);   }, [threshold]);    return scrolled; } </code></pre> <hr> <h2>Summary for AI Agents</h2> <p>This navigation bar is a responsive navbar component with mobile menu dialog, sticky positioning (default: true), optional transparent-to-solid transition (marketing variant only), and first-class dropdown support. Key implementation points:</p> <ol>   <li><strong>Structure</strong>: Logo, Navigation Links with Dropdown Panels (desktop), Mobile Toggle, Actions (CTA/User Menu), Mobile Menu Dialog with Accordion Sections</li>   <li><strong>State</strong>: Track mobileMenuOpen, scrolled, activeLink, variant, sticky (default: true), transparent (marketing only), openDropdownId (desktop), mobileExpandedItemIds (mobile)</li>   <li><strong>Responsive</strong>: Desktop shows horizontal nav with disclosure dropdowns; mobile/tablet show hamburger menu dialog with accordion sections</li>   <li><strong>Sticky</strong>: Fixed at top when scrolling (default: true for both variants)</li>   <li><strong>Transparent→Solid</strong>: Background transitions on scroll (marketing variant only, when transparent=true)</li>   <li><strong>Mobile Menu</strong>: Modal dialog with focus trap, inert background, body scroll lock, focus restoration, Escape key handling</li>   <li><strong>Desktop Dropdowns</strong>: Disclosure pattern (button + panel), no focus trap, Escape restores focus to toggle, outside click closes</li>   <li><strong>Mobile Accordions</strong>: Items with children expand/collapse inside dialog without closing it</li>   <li><strong>Accessibility</strong>: WCAG AA compliance with proper ARIA attributes (role=\"dialog\", aria-modal=\"true\", disclosure semantics for dropdowns)</li>   <li><strong>Project Detection</strong>: Must detect framework, router, styling system, and design tokens before implementation</li>   <li><strong>Framework-agnostic</strong>: Adapt patterns to any framework's component model</li> </ol> <p>Generate clean, semantic HTML with proper component separation. Use framework-specific state management patterns and CSS methodology as specified by the user. Use ONLY the detected styling system.</p>","excerpt":"A responsive navigation bar component with mobile hamburger menu, sticky scroll behavior, optional transparent-to-solid transition, and first-class dropdown support. Supports marketing (logo + links + CTA) and app (user menu, notifications) variants.","publicationDate":"2026-01-12","tags":["components","navbar","navigation","header","responsive","mobile-menu","sticky","dropdown","a11y"],"coverImage":""},{"fileName":"components/dropdown-select.html","title":"Dropdown/Select Component - Accessible Select with Search and Multi-Select","body":"<h1>Dropdown/Select Component</h1> <p>An accessible dropdown/select component with search/filter capability, multi-select support, keyboard navigation, and full ARIA combobox/listbox pattern. Supports grouped options, loading states, and error handling.</p> <h2>Overview</h2> <p>The Dropdown/Select component provides a fully accessible way to select one or more options from a list. It includes optional search/filter functionality, keyboard navigation, proper ARIA semantics, and support for single-select and multi-select modes. The component handles all common states: default, open, focus, error, disabled, and loading.</p> <h2>Component Structure</h2> <pre><code>Container ├── Label │   ├── Label Text │   ├── Required Indicator (*) [optional] │   └── Tooltip [optional] ├── Trigger │   ├── Selected Value(s) or Placeholder │   └── Dropdown Icon ├── Dropdown (when open) │   ├── Search Input [optional] │   ├── Option List │   │   ├── Group Label [optional] │   │   ├── Option │   │   │   ├── Option Text │   │   │   └── Selected Icon [optional] │   │   └── ... │   ├── Loading Spinner [optional] │   └── Empty State [optional] ├── Hint Text [optional] └── Error Message [optional] </code></pre> <h2>States</h2> <h3>Default State</h3> <ul>   <li>Trigger displays placeholder or selected value</li>   <li>Border: neutral gray</li>   <li>Background: white</li>   <li>Cursor: pointer</li>   <li>Dropdown closed</li> </ul> <h3>Open State</h3> <ul>   <li>Dropdown appears below trigger</li>   <li>Options list visible and scrollable</li>   <li>Search input visible (if searchable)</li>   <li>Focus moves to search input or first option</li>   <li><code>aria-expanded='true'</code> set</li> </ul> <h3>Focus State</h3> <ul>   <li>Trigger shows focus ring when focused</li>   <li>Highlighted option shows focus background</li>   <li>Smooth transition (150ms)</li>   <li>Visible focus indicator</li> </ul> <h3>Selected State</h3> <ul>   <li>Selected options show checkmark or highlight</li>   <li>Trigger displays selected value(s)</li>   <li>In multi-select: shows count or first few with \"+N more\"</li>   <li><code>aria-selected='true'</code> on selected options</li> </ul> <h3>Error State</h3> <ul>   <li>Border changes to error color</li>   <li>Error message appears below trigger</li>   <li>Error icon shown</li>   <li><code>aria-invalid='true'</code> set</li> </ul> <h3>Disabled State</h3> <ul>   <li>Background grayed out</li>   <li>Text grayed</li>   <li>Cursor: not-allowed</li>   <li>Not interactive</li>   <li>Label grayed out</li> </ul> <h3>Loading State</h3> <ul>   <li>Spinner appears in dropdown</li>   <li>Options may be disabled</li>   <li>Indicates async data loading</li> </ul> <h3>Empty State</h3> <ul>   <li>Message shown when no options match filter</li>   <li>\"No options found\" or similar message</li>   <li>Allows user to clear search</li> </ul> <h2>Required Props</h2> <pre><code class=\"language-typescript\">{   label: string;        // Dropdown label text   name: string;         // Form field name   options: Array&#x3C;{     // Array of selectable options     value: string;     label: string;     disabled?: boolean;     group?: string;   }>; } </code></pre> <h2>Optional Props</h2> <pre><code class=\"language-typescript\">{   id?: string;                          // Trigger ID (generated if not provided)   value?: string | string[] | null;     // Selected value(s)   defaultValue?: string | string[] | null; // Uncontrolled default value   placeholder?: string;                 // Placeholder text   error?: string | null;                // Error message   hint?: string;                        // Hint text   required?: boolean;                   // Required field   disabled?: boolean;                   // Disabled state   multiSelect?: boolean;                // Multi-select mode   searchable?: boolean;                 // Enable search/filter   loading?: boolean;                   // Loading state   size?: 'small' | 'medium' | 'large';   onChange?: (value: string | string[] | null) => void;   onOpen?: () => void;   onClose?: () => void;   onSearch?: (query: string) => void;   // Async search callback   fullWidth?: boolean;                  // Full width (default: true) } </code></pre> <h2>Size Variants</h2> <h3>Small</h3> <ul>   <li>Trigger height: 36px</li>   <li>Padding: 12px horizontal, 8px vertical</li>   <li>Font size: 14px</li>   <li>Label font size: 13px</li> </ul> <h3>Medium (Default)</h3> <ul>   <li>Trigger height: 44px</li>   <li>Padding: 14px horizontal, 11px vertical</li>   <li>Font size: 16px</li>   <li>Label font size: 14px</li> </ul> <h3>Large</h3> <ul>   <li>Trigger height: 52px</li>   <li>Padding: 16px horizontal, 14px vertical</li>   <li>Font size: 18px</li>   <li>Label font size: 16px</li> </ul> <h2>Variants</h2> <h3>Single-Select</h3> <ul>   <li>Selecting an option closes dropdown</li>   <li>Value is a string</li>   <li>Uses combobox or listbox ARIA pattern</li>   <li>One option selected at a time</li> </ul> <h3>Multi-Select</h3> <ul>   <li>Selecting options toggles them</li>   <li>Dropdown stays open for multiple selections</li>   <li>Value is an array of strings</li>   <li>Uses listbox with <code>aria-multiselectable='true'</code></li>   <li>Multiple options can be selected</li> </ul> <h3>Searchable</h3> <ul>   <li>Includes search input at top of dropdown</li>   <li>Filters options as user types</li>   <li>Uses combobox ARIA pattern with <code>aria-autocomplete='list'</code></li>   <li>Supports async search via <code>onSearch</code> callback</li> </ul> <h3>Grouped Options</h3> <ul>   <li>Options organized into groups with labels</li>   <li>Uses optgroup elements or <code>aria-groupedby</code></li>   <li>Groups visually and semantically separated</li>   <li>Group labels are not selectable</li> </ul> <h2>Keyboard Navigation</h2> <h3>On Trigger</h3> <p>   | Key | Action |   |-----|--------|   | Space | <strong>If closed</strong>: Opens dropdown and moves focus to search/options. <strong>If open and option highlighted</strong>: Selects highlighted option. <strong>CRITICAL</strong>: Must handle both states - this is a common oversight. |   | Enter | <strong>If closed</strong>: Opens dropdown and moves focus to search/options. <strong>If open and option highlighted</strong>: Selects highlighted option. <strong>CRITICAL</strong>: Must handle both states - this is a common oversight. |   | ArrowDown | <strong>If closed</strong>: Opens dropdown and highlights first option. <strong>If open</strong>: Highlights next option. |   | ArrowUp | <strong>If closed</strong>: Opens dropdown and highlights last option. <strong>If open</strong>: Highlights previous option. |   | Escape | Closes dropdown if open |   | Tab | Closes dropdown if open, moves focus to next element | </p> <h3>In Dropdown</h3> <p>   | Key | Action |   |-----|--------|   | ArrowDown | Highlights next option, scrolls into view |   | ArrowUp | Highlights previous option, scrolls into view |   | Enter | <strong>CRITICAL</strong>: Selects highlighted option (same as clicking). Must work when option is highlighted via aria-activedescendant. Essential for keyboard accessibility. |   | Space | <strong>CRITICAL</strong>: Selects highlighted option (same as clicking). Must work when option is highlighted via aria-activedescendant. Essential for keyboard accessibility. |   | Escape | Closes dropdown, restores focus to trigger |   | Tab | Closes dropdown, moves focus to next element |   | Shift+Tab | Closes dropdown, moves focus to previous element |   | Home | Highlights first option |   | End | Highlights last option |   | Type-ahead | Jumps to first option starting with typed character | </p> <h3>In Search Input</h3> <p>   | Key | Action |   |-----|--------|   | Enter | <strong>CRITICAL</strong>: Selects highlighted option (or first option if none highlighted). Essential for keyboard accessibility. This is a common oversight. |   | Space | <strong>CRITICAL</strong>: Selects highlighted option (or first option if none highlighted). Essential for keyboard accessibility. This is a common oversight. |   | ArrowDown | Moves focus to first option and highlights it |   | Escape | Closes dropdown if query empty, clears query if not empty |   | Tab | Closes dropdown, moves focus to next element | </p> <h2>Accessibility Requirements</h2> <h3>ARIA Attributes</h3> <p><strong>Trigger Element:</strong></p> <pre><code class=\"language-html\">&#x3C;button   id=\"category-trigger\"   name=\"category\"   aria-expanded=\"false\"   aria-haspopup=\"listbox\"   aria-controls=\"category-dropdown\"   aria-labelledby=\"category-label\"   aria-describedby=\"category-hint category-error\"   aria-invalid=\"false\"   aria-required=\"true\" >   Select category... &#x3C;/button> </code></pre> <p><strong>Dropdown:</strong></p> <pre><code class=\"language-html\">&#x3C;ul   id=\"category-dropdown\"   role=\"listbox\"   aria-labelledby=\"category-label\"   aria-multiselectable=\"false\" >   &#x3C;!-- options --> &#x3C;/ul> </code></pre> <p><strong>Option:</strong></p> <pre><code class=\"language-html\">&#x3C;li   id=\"category-option-1\"   role=\"option\"   aria-selected=\"true\"   aria-posinset=\"1\"   aria-setsize=\"5\" >   Option Label &#x3C;/li> </code></pre> <p><strong>Search Input (if searchable):</strong></p> <pre><code class=\"language-html\">&#x3C;input   id=\"category-search\"   type=\"text\"   aria-label=\"Search options\"   aria-controls=\"category-dropdown\"   aria-autocomplete=\"list\" /> </code></pre> <h3>Screen Reader Behavior</h3> <p>When trigger receives focus, screen reader announces:</p> <ol>   <li>Label text (\"Category\")</li>   <li>Required state (\"required\")</li>   <li>Expanded state (\"collapsed\" or \"expanded\")</li>   <li>Selected value(s) (\"Option 1 selected\" or \"3 items selected\")</li>   <li>Hint text (if provided)</li>   <li>Error message (if present)</li> </ol> <p>When dropdown opens:</p> <ul>   <li>Screen reader announces \"listbox opened\" with option count</li>   <li>First option (or search input) receives focus</li> </ul> <p>When navigating options:</p> <ul>   <li>Screen reader announces option label and selected state</li>   <li>Highlighted option tracked via <code>aria-activedescendant</code></li> </ul> <p>When option selected:</p> <ul>   <li>Screen reader announces \"Option selected\" and new value</li>   <li>In single-select: dropdown closes, focus returns to trigger</li>   <li>In multi-select: dropdown stays open, focus remains</li> </ul> <h2>Responsive Behavior</h2> <h3>Mobile (&#x3C; 768px)</h3> <ul>   <li>Full width trigger by default</li>   <li>Dropdown matches trigger width</li>   <li>Max height reduced to fit viewport</li>   <li>Touch targets: 44px minimum for trigger and options</li>   <li>Dropdown positioned above trigger if no space below</li> </ul> <h3>Desktop (>= 1024px)</h3> <ul>   <li>Fixed or constrained width based on context</li>   <li>Default: 100% of parent width</li>   <li>Hover state on options (if not disabled)</li>   <li>Dropdown positioned below trigger with viewport boundary detection</li> </ul> <h2>Common Variations</h2> <h3>Country Select</h3> <pre><code class=\"language-jsx\">&#x3C;DropdownSelect   label=\"Country\"   name=\"country\"   options={countries}   searchable   placeholder=\"Select country...\" /> </code></pre> <h3>Multi-Select Tags</h3> <pre><code class=\"language-jsx\">&#x3C;DropdownSelect   label=\"Tags\"   name=\"tags\"   options={tags}   multiSelect   value={selectedTags}   onChange={setSelectedTags} /> </code></pre> <h3>Async Search</h3> <pre><code class=\"language-jsx\">&#x3C;DropdownSelect   label=\"Search Users\"   name=\"user\"   options={filteredUsers}   searchable   loading={isSearching}   onSearch={handleSearch}   placeholder=\"Type to search...\" /> </code></pre> <h3>Grouped Options</h3> <pre><code class=\"language-jsx\">&#x3C;DropdownSelect   label=\"Category\"   name=\"category\"   options={[     { value: \"fruit-1\", label: \"Apple\", group: \"Fruits\" },     { value: \"fruit-2\", label: \"Banana\", group: \"Fruits\" },     { value: \"veg-1\", label: \"Carrot\", group: \"Vegetables\" },   ]} /> </code></pre> <h2>Implementation Checklist</h2> <h3>Visual</h3> <ul>   <li>[ ] Label displays above trigger</li>   <li>[ ] Required indicator (*) shows when required</li>   <li>[ ] Hint text displays below trigger</li>   <li>[ ] Error message displays below trigger with icon</li>   <li>[ ] Trigger displays placeholder or selected value</li>   <li>[ ] Dropdown opens and displays options</li>   <li>[ ] Selected options show checkmark or highlight</li>   <li>[ ] Focus ring visible and distinct</li>   <li>[ ] Disabled state is visually clear</li>   <li>[ ] Loading spinner appears when loading</li>   <li>[ ] Empty state message appears when no options match</li> </ul> <h3>Functionality</h3> <ul>   <li>[ ] Clicking trigger opens/closes dropdown</li>   <li>[ ] Clicking option selects it</li>   <li>[ ] Single-select closes dropdown after selection</li>   <li>[ ] Multi-select keeps dropdown open</li>   <li>[ ] Search input filters options (if searchable)</li>   <li>[ ] onChange callback fires on selection</li>   <li>[ ] onOpen callback fires when dropdown opens</li>   <li>[ ] onClose callback fires when dropdown closes</li>   <li>[ ] Controlled and uncontrolled modes work</li>   <li>[ ] Grouped options display correctly</li> </ul> <h3>Keyboard</h3> <ul>   <li>[ ] Space/Enter on trigger opens dropdown when closed</li>   <li>[ ] <strong>CRITICAL</strong>: Space/Enter on trigger selects highlighted option when dropdown is open (common oversight - must test)</li>   <li>[ ] Arrow keys navigate options</li>   <li>[ ] Enter/Space on options selects highlighted option</li>   <li>[ ] <strong>CRITICAL</strong>: Enter/Space on search input selects highlighted option (or first if none highlighted) - common oversight, must test</li>   <li>[ ] Escape closes dropdown</li>   <li>[ ] Tab closes dropdown and moves focus</li>   <li>[ ] Type-ahead navigation works</li>   <li>[ ] Home/End keys work</li> </ul> <h3>Accessibility</h3> <ul>   <li>[ ] Label associated with trigger (for/id)</li>   <li>[ ] aria-required when required</li>   <li>[ ] aria-expanded updates on open/close</li>   <li>[ ] aria-haspopup on trigger</li>   <li>[ ] aria-controls points to dropdown</li>   <li>[ ] aria-selected on options</li>   <li>[ ] aria-activedescendant tracks highlighted option</li>   <li>[ ] aria-multiselectable on dropdown for multi-select</li>   <li>[ ] aria-invalid when error</li>   <li>[ ] aria-describedby references hint and error</li>   <li>[ ] Focus ring has sufficient contrast (3:1)</li>   <li>[ ] Screen reader announces all states</li>   <li>[ ] Focus returns to trigger on close</li>   <li>[ ] Focus trapped in dropdown when open</li> </ul> <h3>Styling</h3> <ul>   <li>[ ] Matches project styling system</li>   <li>[ ] Uses project design tokens</li>   <li>[ ] No inline styles (uses classes)</li>   <li>[ ] All colors have sufficient contrast</li>   <li>[ ] Dropdown positioned correctly</li>   <li>[ ] Viewport boundary detection works</li> </ul> <h2>Framework Examples</h2> <h3>React (Controlled)</h3> <pre><code class=\"language-jsx\">const [category, setCategory] = useState(null); const [error, setError] = useState(null);  &#x3C;DropdownSelect   label=\"Category\"   name=\"category\"   options={categories}   value={category}   onChange={setCategory}   error={error}   required   searchable /> </code></pre> <h3>Vue</h3> <pre><code class=\"language-vue\">&#x3C;template>   &#x3C;DropdownSelect     v-model=\"category\"     label=\"Category\"     name=\"category\"     :options=\"categories\"     :error=\"errors.category\"     :required=\"true\"     :searchable=\"true\"   /> &#x3C;/template> </code></pre> <h3>Angular</h3> <pre><code class=\"language-typescript\">categoryControl = new FormControl(null, [Validators.required]);  &#x3C;app-dropdown-select   [label]=\"'Category'\"   [formControl]=\"categoryControl\"   [options]=\"categories\"   [error]=\"categoryControl.errors?.required\"   [searchable]=\"true\" >&#x3C;/app-dropdown-select> </code></pre> <h3>Svelte</h3> <pre><code class=\"language-svelte\">&#x3C;script>   let category = null;   let error = null; &#x3C;/script>  &#x3C;DropdownSelect   bind:value={category}   label=\"Category\"   name=\"category\"   options={categories}   {error}   required   searchable /> </code></pre> <h2>Integration with Form Validation Pattern</h2> <p>This Dropdown/Select component is designed to work seamlessly with the <a href=\"/potions/patterns/form-validation\">Form Validation Pattern</a>:</p> <ol>   <li><strong>Validation Timing</strong>: Show errors only after user attempts to submit or blur</li>   <li><strong>Error Display</strong>: Pass error message via <code>error</code> prop</li>   <li><strong>ARIA</strong>: Errors are announced via <code>aria-describedby</code> and <code>aria-live</code></li>   <li><strong>Keyboard</strong>: Full keyboard support for accessible forms</li>   <li><strong>Required Fields</strong>: Use <code>required</code> prop and show indicator</li> </ol> <h2>Design Tokens</h2> <h3>Colors</h3> <ul>   <li><strong>Border Default</strong>: <code>--color-gray-300</code> or <code>border-gray-300</code></li>   <li><strong>Border Focus</strong>: <code>--color-blue-500</code> or <code>border-blue-500</code></li>   <li><strong>Border Error</strong>: <code>--color-red-500</code> or <code>border-red-500</code></li>   <li><strong>Background</strong>: <code>--color-white</code> or <code>bg-white</code></li>   <li><strong>Background Disabled</strong>: <code>--color-gray-50</code> or <code>bg-gray-50</code></li>   <li><strong>Option Hover</strong>: <code>--color-gray-100</code> or <code>bg-gray-100</code></li>   <li><strong>Option Selected</strong>: <code>--color-blue-100</code> or <code>bg-blue-100</code></li>   <li><strong>Text</strong>: <code>--color-gray-900</code> or <code>text-gray-900</code></li>   <li><strong>Text Disabled</strong>: <code>--color-gray-500</code> or <code>text-gray-500</code></li>   <li><strong>Label</strong>: <code>--color-gray-700</code> or <code>text-gray-700</code></li>   <li><strong>Hint</strong>: <code>--color-gray-500</code> or <code>text-gray-500</code></li>   <li><strong>Error</strong>: <code>--color-red-600</code> or <code>text-red-600</code></li> </ul> <h3>Spacing</h3> <ul>   <li><strong>Label margin-bottom</strong>: 6px</li>   <li><strong>Hint margin-top</strong>: 6px</li>   <li><strong>Error margin-top</strong>: 6px</li>   <li><strong>Trigger padding-x</strong>: 14px (medium)</li>   <li><strong>Trigger padding-y</strong>: 11px (medium)</li>   <li><strong>Option padding-x</strong>: 14px</li>   <li><strong>Option padding-y</strong>: 10px</li>   <li><strong>Dropdown max-height</strong>: 300px</li> </ul> <h3>Typography</h3> <ul>   <li><strong>Label font-size</strong>: 14px</li>   <li><strong>Label font-weight</strong>: 500</li>   <li><strong>Trigger font-size</strong>: 16px</li>   <li><strong>Option font-size</strong>: 16px</li>   <li><strong>Hint font-size</strong>: 14px</li>   <li><strong>Error font-size</strong>: 14px</li>   <li><strong>Group label font-size</strong>: 12px</li>   <li><strong>Group label font-weight</strong>: 600</li> </ul> <hr> <h2>See Also</h2> <p>The Dropdown/Select component works well with these potions:</p> <ul>   <li><strong><a href=\"/potions/components/text-input\">Text Input Component</a></strong> - Similar form input patterns and styling for consistency</li>   <li><strong><a href=\"/potions/patterns/form-validation\">Form Validation Pattern</a></strong> - Apply validation timing and error display best practices</li>   <li><strong><a href=\"/potions/features/form-login-register\">Login &#x26; Registration Forms</a></strong> - Complete form example that may use dropdown components</li> </ul> <p>These are suggestions to enhance your implementation. Dropdown/Select works independently and can be used in any context.</p> <hr> <h2>Summary for AI Agents</h2> <p><strong>Goal</strong>: Create accessible dropdown/select with search, multi-select, keyboard navigation, and ARIA combobox/listbox pattern.</p> <p><strong>Critical Requirements</strong>:</p> <ol>   <li>Detect framework and styling system first</li>   <li>Use project's design tokens for colors and spacing</li>   <li>Implement proper ARIA: <code>aria-expanded</code>, <code>aria-haspopup</code>, <code>aria-controls</code>, <code>aria-activedescendant</code>, <code>aria-selected</code>, <code>aria-multiselectable</code></li>   <li>Show required indicator (*) when <code>required=true</code></li>   <li>Associate errors via <code>aria-describedby</code> and <code>aria-invalid</code></li>   <li>Provide visible focus ring with sufficient contrast</li>   <li><strong>CRITICAL</strong>: Implement keyboard navigation - Arrow keys navigate, Enter/Space select highlighted option (must work on trigger when dropdown is open AND on search input). This is a common oversight.</li>   <li>Trap focus in dropdown when open, restore to trigger on close</li>   <li>Support controlled/uncontrolled patterns appropriate for framework</li>   <li>Handle viewport boundary detection for dropdown positioning</li>   <li>Use classes, not inline styles</li> </ol> <p><strong>States to Handle</strong>: default, open, focus, selected, error, disabled, loading, empty</p> <p><strong>Integration</strong>: Works with Form Validation Pattern for optimal UX timing.</p>","excerpt":"An accessible dropdown/select component with search/filter capability, multi-select support, keyboard navigation, and full ARIA combobox/listbox pattern. Supports grouped options, loading states, and error handling.","publicationDate":"2026-01-25","tags":["components","dropdown","select","combobox","listbox","form","a11y","wcag","aria","keyboard-navigation"],"coverImage":""},{"fileName":"components/dialog.html","title":"Modal Dialog (Accessible) with Focus Trap and Actions","body":"<h1>Modal Dialog (Accessible) with Focus Trap and Actions</h1> <p>An accessible modal dialog component with focus trapping, Escape/backdrop dismissal rules, scroll locking, and action footer. Includes confirm/alert variants and responsive fullscreen behavior on small screens.</p> <h2>Structure Specification</h2> <h3>Component Hierarchy</h3> <p>The dialog consists of a Trigger element, a Backdrop overlay, and a Dialog container. The Dialog contains a Header (with Title and optional Close Button), a Body section for content, and an optional Footer with action buttons (Primary and Secondary).</p> <p>The dialog structure flows as: Trigger opens the Backdrop which contains the Dialog. The Dialog includes Header (with Title and Close button), Body for content, and Footer for action buttons.</p> <h2>Detailed Component Specifications</h2> <h3>1. Dialog Component</h3> <p><strong>Goal</strong>: Provide a safe, accessible modal dialog for confirmations, forms, and focused tasks without leaving the current page context.</p> <p><strong>Anatomy Slots</strong>:</p> <ul>   <li><code>trigger</code> - Element that opens the dialog (button, link, etc.)</li>   <li><code>backdrop</code> - Overlay behind the dialog</li>   <li><code>dialog</code> - Main dialog container</li>   <li><code>title</code> - Dialog title/heading</li>   <li><code>description</code> - Optional description text</li>   <li><code>body</code> - Main content area</li>   <li><code>footer</code> - Action buttons container</li>   <li><code>closeButton</code> - Optional close button in header</li> </ul> <p><strong>Dimensions</strong>:</p> <ul>   <li>Desktop: Max width 640px, centered horizontally and vertically</li>   <li>Mobile: Fullscreen when <code>fullscreenOnMobile=true</code>, otherwise near-full width with 16px margins</li>   <li>Body max height: <code>calc(100vh - 200px)</code> on desktop</li>   <li>Body overflow: <code>auto</code> when content exceeds max height</li> </ul> <p><strong>States</strong>:</p> <ul>   <li><code>open</code> (boolean, default: false) - Whether the dialog is visible</li>   <li><code>loading</code> (boolean, default: false) - Whether primary action is processing</li>   <li><code>variant</code> (enum: \"dialog\" | \"alertdialog\", default: \"dialog\") - Dialog semantics variant</li>   <li><code>dismissible</code> (boolean, default: true) - Whether Escape/backdrop can close</li>   <li><code>closeOnBackdropClick</code> (boolean, default: true) - Whether backdrop click closes</li>   <li><code>fullscreenOnMobile</code> (boolean, default: true) - Fullscreen on small screens</li> </ul> <p><strong>Elements</strong>:</p> <h4>Trigger</h4> <ul>   <li>Any interactive element (button, link, etc.)</li>   <li>Should have <code>aria-haspopup=\"dialog\"</code> and <code>aria-expanded=\"true/false\"</code></li>   <li>Focus is captured and restored on close</li> </ul> <h4>Backdrop</h4> <ul>   <li>Full viewport overlay</li>   <li>Background: <code>rgba(0, 0, 0, 0.5)</code> to <code>rgba(0, 0, 0, 0.75)</code></li>   <li>Optional: <code>backdrop-filter: blur(4px)</code> for modern browsers</li>   <li>Z-index: 40 (from tokens)</li>   <li>Clickable when <code>dismissible &#x26;&#x26; closeOnBackdropClick</code></li> </ul> <h4>Dialog Container</h4> <ul>   <li>Z-index: 50 (from tokens)</li>   <li>Centered on desktop</li>   <li>Rounded corners: 8-12px border-radius</li>   <li>Shadow: Elevated shadow for depth</li>   <li>Background: White (light) or dark neutral (dark mode)</li>   <li>Padding: 24px (desktop), 16px (mobile)</li> </ul> <h4>Header</h4> <ul>   <li>Contains title and optional close button</li>   <li>Title: 20-24px font size, semibold (600)</li>   <li>Close button: 40px × 40px icon button, positioned top-right</li>   <li>Padding: 24px horizontal, 20px vertical</li> </ul> <h4>Body</h4> <ul>   <li>Scrollable content area</li>   <li>Padding: 24px (desktop), 16px (mobile)</li>   <li>Max height with overflow handling</li>   <li>Text: 16px font size, regular weight</li> </ul> <h4>Footer</h4> <ul>   <li>Action buttons container</li>   <li>Padding: 16-24px</li>   <li>Gap between buttons: 12-16px</li>   <li>Primary button: Prominent, left-aligned or right-aligned</li>   <li>Secondary button: Less prominent, next to primary</li>   <li>Loading state: Disable all actions, show spinner on primary</li> </ul> <p><strong>Behavior</strong>:</p> <ul>   <li>Focus trap: All keyboard focus trapped within dialog when open</li>   <li>Focus restoration: Returns focus to trigger element on close</li>   <li>Scroll lock: Body scroll locked while dialog is open</li>   <li>Escape key: Closes dialog when <code>dismissible=true</code></li>   <li>Backdrop click: Closes dialog when <code>dismissible &#x26;&#x26; closeOnBackdropClick</code></li>   <li>Animation: Smooth open/close transitions with prefers-reduced-motion support</li> </ul> <h2>Responsive Breakpoints</h2> <h3>Mobile (&#x3C; 768px)</h3> <ul>   <li><strong>Fullscreen Mode</strong> (when <code>fullscreenOnMobile=true</code>):     <ul>       <li>Dialog uses full viewport width and height</li>       <li>No margins or rounded corners</li>       <li>Header, body, footer stack vertically</li>       <li>Padding: 16px on all sides</li>     </ul>   </li>   <li><strong>Centered Mode</strong> (when <code>fullscreenOnMobile=false</code>):     <ul>       <li>Near-full width with 16px margins</li>       <li>Maintains rounded corners and shadow</li>       <li>Max width: <code>calc(100vw - 32px)</code></li>     </ul>   </li> </ul> <h3>Desktop (≥ 1024px)</h3> <ul>   <li><strong>Centered Dialog</strong>:     <ul>       <li>Max width: 640px</li>       <li>Centered horizontally and vertically</li>       <li>Body max height: <code>calc(100vh - 200px)</code></li>       <li>Body overflow: <code>auto</code> when content exceeds max height</li>       <li>Padding: 24px on all sides</li>     </ul>   </li> </ul> <h2>Interaction Patterns</h2> <h3>Opening Dialog</h3> <ol>   <li>User clicks trigger element</li>   <li>Dialog opens with animation</li>   <li>Focus moves to first focusable element in dialog (or close button, or primary action)</li>   <li>Body scroll is locked</li>   <li>Trigger element reference is stored for focus restoration</li> </ol> <h3>Closing Dialog</h3> <h4>Escape Key</h4> <ol>   <li>User presses Escape key</li>   <li>If <code>dismissible=true</code>, dialog closes</li>   <li>Focus returns to trigger element</li>   <li>Body scroll is unlocked</li>   <li>Event is prevented and stopped from propagating</li> </ol> <h4>Backdrop Click</h4> <ol>   <li>User clicks backdrop</li>   <li>If <code>dismissible &#x26;&#x26; closeOnBackdropClick</code>, dialog closes</li>   <li>Focus returns to trigger element</li>   <li>Body scroll is unlocked</li>   <li>Event propagation is stopped</li> </ol> <h4>Close Button</h4> <ol>   <li>User clicks close button</li>   <li>Dialog closes</li>   <li>Focus returns to trigger element</li>   <li>Body scroll is unlocked</li> </ol> <h4>Primary Action</h4> <ol>   <li>User clicks primary action button</li>   <li>If <code>!loading</code>, action is invoked</li>   <li><code>loading</code> state is set to <code>true</code></li>   <li>Actions are disabled</li>   <li>On success: Dialog closes, focus restored, scroll unlocked</li>   <li>On error: Dialog stays open, <code>loading</code> set to <code>false</code>, error announced (optional)</li> </ol> <h3>Focus Management</h3> <ul>   <li><strong>Initial Focus</strong>: First focusable element in body, else close button, else primary action button</li>   <li><strong>Focus Trap</strong>: Tab and Shift+Tab cycle only within dialog</li>   <li><strong>Focus Restoration</strong>: Always return to trigger element on close (all close paths)</li>   <li><strong>Focus Visible</strong>: Clear focus indicators (2px solid outline, 2px offset)</li> </ul> <h2>Accessibility Requirements</h2> <h3>WCAG 2.1 Compliance (Level AA Target)</h3> <p>This dialog component should meet WCAG 2.1 Level AA standards. Key requirements:</p> <ul>   <li><strong>2.1.1 Keyboard</strong>: All dialog controls operable via keyboard; focus is trapped within dialog while open.</li>   <li><strong>2.1.2 No Keyboard Trap</strong>: No keyboard trap beyond intended focus trap; Escape exits when dismissible.</li>   <li><strong>2.4.3 Focus Order</strong>: Logical focus order; initial focus placed inside dialog; focus returns to trigger on close.</li>   <li><strong>2.4.7 Focus Visible</strong>: Visible focus indicators for all interactive elements.</li>   <li><strong>4.1.2 Name, Role, Value</strong>: Correct ARIA roles, names, and relationships.</li> </ul> <h3>Keyboard Navigation</h3> <p><strong>Tab Order</strong>:</p> <ul>   <li>Focus trapped within dialog when open</li>   <li>Tabbing cycles through focusable elements</li>   <li>Shift+Tab cycles backwards</li>   <li>Escape closes when <code>dismissible=true</code> and restores focus to trigger</li> </ul> <p><strong>Initial Focus</strong>:</p> <ul>   <li>Prefer first focusable element in body</li>   <li>Else close button</li>   <li>Else primary action button</li> </ul> <p><strong>Implementation</strong>:</p> <ul>   <li>Use focus-trap library or manual implementation</li>   <li>Track focusable elements within dialog</li>   <li>Prevent tabbing outside dialog boundaries</li>   <li>Handle Escape key globally when dialog is open</li> </ul> <h3>ARIA Attributes</h3> <p><strong>Required ARIA Attributes</strong>:</p> <ol>   <li>     <p><strong>Dialog Element</strong>:</p>     <pre><code class=\"language-html\">&#x3C;div role=\"dialog\"       aria-modal=\"true\"      aria-labelledby=\"dialog-title\"      aria-describedby=\"dialog-description\"> </code></pre>     <ul>       <li>Use <code>role=\"alertdialog\"</code> for alert variant</li>       <li><code>aria-labelledby</code> points to title element ID</li>       <li><code>aria-describedby</code> points to description/body element ID (when present)</li>     </ul>   </li>   <li>     <p><strong>Close Button</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button aria-label=\"Close dialog\"> </code></pre>   </li>   <li>     <p><strong>Trigger</strong>:</p>     <pre><code class=\"language-html\">&#x3C;button aria-haspopup=\"dialog\"          aria-expanded=\"true/false\"> </code></pre>   </li> </ol> <p><strong>Optional ARIA Attributes</strong>:</p> <ol start=\"4\">   <li><strong>Status Region</strong> (for loading/error announcements):     <pre><code class=\"language-html\">&#x3C;div role=\"status\" aria-live=\"polite\">   &#x3C;!-- Loading or error messages --> &#x3C;/div> </code></pre>   </li> </ol> <p><strong>Dynamic ARIA Updates</strong>:</p> <ul>   <li>Update <code>aria-expanded</code> on trigger when dialog opens/closes</li>   <li>Update <code>aria-hidden</code> on backdrop (set to <code>true</code> when dialog closed)</li>   <li>Ensure <code>aria-labelledby</code> and <code>aria-describedby</code> point to existing elements</li> </ul> <h3>Screen Reader Support</h3> <p><strong>Announcements</strong>:</p> <ul>   <li>Dialog open/close state changes (via <code>aria-modal</code> and focus management)</li>   <li>Loading state changes (via status region with <code>aria-live=\"polite\"</code>)</li>   <li>Error messages (via status region)</li> </ul> <p><strong>Labels</strong>:</p> <ul>   <li>All icon-only buttons must have descriptive <code>aria-label</code></li>   <li>Title element must have unique ID for <code>aria-labelledby</code></li>   <li>Description/body element should have unique ID for <code>aria-describedby</code> (when present)</li> </ul> <p><strong>Screen Reader Only Text (sr-only class)</strong>:</p> <pre><code class=\"language-css\">.sr-only {   position: absolute;   width: 1px;   height: 1px;   padding: 0;   margin: -1px;   overflow: hidden;   clip: rect(0, 0, 0, 0);   white-space: nowrap;   border-width: 0; } </code></pre> <h3>Focus Visible Styles</h3> <p><strong>Implementation</strong>:</p> <pre><code class=\"language-css\">button:focus-visible, a:focus-visible, [tabindex]:focus-visible {   outline: 2px solid var(--primary-color);   outline-offset: 2px; }  /* Fallback for older browsers */ button:focus, a:focus, [tabindex]:focus {   outline: 2px solid var(--primary-color);   outline-offset: 2px; } </code></pre> <h3>Accessibility Implementation Checklist</h3> <p>When implementing this dialog, ensure:</p> <ul>   <li>[ ] Focus trap implemented and tested</li>   <li>[ ] Focus restored to trigger on close (all close paths)</li>   <li>[ ] Escape closes dialog only if <code>dismissible=true</code></li>   <li>[ ] Backdrop click closes only if <code>closeOnBackdropClick=true</code></li>   <li>[ ] <code>role</code> and <code>aria-*</code> attributes present and correctly wired</li>   <li>[ ] Body scroll lock applied and cleaned up</li>   <li>[ ] <code>prefers-reduced-motion</code> reduces or removes transforms</li>   <li>[ ] All interactive elements have visible focus indicators</li>   <li>[ ] <code>aria-labelledby</code> and <code>aria-describedby</code> point to existing elements</li>   <li>[ ] Screen reader tested with NVDA, VoiceOver, or JAWS</li> </ul> <h2>Design System Specifications</h2> <p><strong>Important</strong>: The design specifications below are tool-agnostic and should be implemented using your project's chosen styling approach (Tailwind, CSS Modules, styled-components, Chakra UI, Material-UI, SCSS, etc.). The styling examples in the \"Code Implementation Patterns\" section show how to apply these design values, but these specifications are the source of truth for the design.</p> <h3>Color Guidelines</h3> <h4>Backdrop</h4> <ul>   <li><strong>Background</strong>: <code>rgba(0, 0, 0, 0.5)</code> to <code>rgba(0, 0, 0, 0.75)</code></li>   <li><strong>Optional</strong>: <code>backdrop-filter: blur(4px)</code> for modern browsers</li> </ul> <h4>Dialog Container</h4> <ul>   <li><strong>Background (Light)</strong>: White (<code>#ffffff</code>) or very light gray (<code>#f9fafb</code>)</li>   <li><strong>Background (Dark)</strong>: <code>#1a1a1a</code> or <code>#0f172a</code></li>   <li><strong>Border</strong>: Optional 1px solid border (subtle)</li>   <li><strong>Shadow</strong>: Elevated shadow for depth     <ul>       <li>Light: <code>0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)</code></li>       <li>Dark: <code>0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2)</code></li>     </ul>   </li> </ul> <h4>Header</h4> <ul>   <li><strong>Background</strong>: Match dialog container</li>   <li><strong>Text (Light)</strong>: Dark gray (<code>#111827</code>, <code>#1f2937</code>) or black (<code>#000000</code>)</li>   <li><strong>Text (Dark)</strong>: <code>#e0e0e0</code> or <code>#f1f5f9</code></li>   <li><strong>Border</strong>: Optional 1px solid border-bottom (subtle)</li> </ul> <h4>Body</h4> <ul>   <li><strong>Background</strong>: Match dialog container</li>   <li><strong>Text (Light)</strong>: Dark gray (<code>#111827</code>, <code>#1f2937</code>)</li>   <li><strong>Text (Dark)</strong>: <code>#e0e0e0</code> or <code>#f1f5f9</code></li>   <li><strong>Contrast</strong>: Ensure 4.5:1 contrast ratio minimum (WCAG AA)</li> </ul> <h4>Footer</h4> <ul>   <li><strong>Background</strong>: Match dialog container</li>   <li><strong>Border</strong>: Optional 1px solid border-top (subtle)</li>   <li><strong>Button Colors</strong>: Follow your design system's button styles</li> </ul> <h3>Typography</h3> <ul>   <li><strong>Font Family</strong>: Use project's font stack (typically: system-ui, -apple-system, sans-serif or custom font)</li>   <li><strong>Title</strong>: 20-24px, semibold (600) or bold (700)</li>   <li><strong>Description</strong>: 14-16px, regular (400) or medium (500)</li>   <li><strong>Body Text</strong>: 16px, regular (400)</li>   <li><strong>Button Text</strong>: 14-16px, medium (500) or semibold (600)</li>   <li><strong>Line Height</strong>: 1.25 for headings, 1.5 for body text</li> </ul> <h3>Spacing System</h3> <p>Use consistent spacing scale (4px, 8px, 12px, 16px, 24px, 32px, 48px, 64px) or your project's spacing system:</p> <ul>   <li><strong>Dialog Padding</strong>: 24px (desktop), 16px (mobile)</li>   <li><strong>Header Padding</strong>: 24px horizontal, 20px vertical</li>   <li><strong>Body Padding</strong>: 24px (desktop), 16px (mobile)</li>   <li><strong>Footer Padding</strong>: 16-24px</li>   <li><strong>Button Gap</strong>: 12-16px between primary and secondary buttons</li>   <li><strong>Content Gap</strong>: 16-24px between sections</li> </ul> <h3>Shadows &#x26; Elevation</h3> <p>Use subtle shadows for depth and separation:</p> <ul>   <li><strong>Dialog Shadow (Light)</strong>: <code>0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)</code></li>   <li><strong>Dialog Shadow (Dark)</strong>: <code>0 20px 25px -5px rgba(0, 0, 0, 0.3), 0 10px 10px -5px rgba(0, 0, 0, 0.2)</code></li> </ul> <h3>Border Radius</h3> <ul>   <li><strong>Dialog Container</strong>: 8-12px</li>   <li><strong>Buttons</strong>: 6-8px</li> </ul> <h3>Visual Hierarchy Principles</h3> <ol>   <li>Dialog should be clearly elevated above backdrop</li>   <li>Header should be visually distinct from body</li>   <li>Footer should be visually distinct from body</li>   <li>Primary action should be more prominent than secondary</li>   <li>Focus indicators should be clearly visible</li>   <li>Loading state should provide clear feedback</li> </ol> <h2>State Management Considerations</h2> <h3>For AI Agents to Implement</h3> <p><strong>State to Track</strong>:</p> <ol>   <li><code>open: boolean</code> - Whether dialog is visible (default: false)</li>   <li><code>loading: boolean</code> - Whether primary action is processing (default: false)</li>   <li><code>variant: \"dialog\" | \"alertdialog\"</code> - Dialog semantics variant (default: \"dialog\")</li>   <li><code>dismissible: boolean</code> - Whether Escape/backdrop can close (default: true)</li>   <li><code>closeOnBackdropClick: boolean</code> - Whether backdrop click closes (default: true)</li>   <li><code>fullscreenOnMobile: boolean</code> - Fullscreen on small screens (default: true)</li>   <li><code>triggerElement: HTMLElement | null</code> - Reference to trigger for focus restoration</li> </ol> <p><strong>State Persistence</strong>:</p> <ul>   <li>All state is component-level only (no persistence needed)</li>   <li><code>triggerElement</code> should be captured when dialog opens and cleared on close</li> </ul> <h3>SSR/Hydration Considerations</h3> <ul>   <li><strong>Dialog state</strong>: Initialize <code>open</code> as <code>false</code> to prevent hydration mismatches</li>   <li><strong>Focus management</strong>: Only access DOM elements after component mount</li>   <li><strong>Body scroll lock</strong>: Only apply after component mount, check for <code>window</code> object existence</li> </ul> <h2>Critical Implementation Guidelines</h2> <h3>Vanilla CSS Detection</h3> <p><strong>CRITICAL</strong>: When detecting vanilla CSS in the project, ALWAYS create CSS classes in a stylesheet. NEVER use inline style attributes on HTML elements.</p> <ul>   <li>Define classes like <code>.dialog</code>, <code>.dialog--open</code>, <code>.backdrop</code>, <code>.dialog-header</code>, etc. in your CSS file</li>   <li>Apply classes via <code>className</code>/<code>class</code> attributes: <code>&#x3C;div class=\"dialog dialog--open\"></code></li>   <li>Do NOT use: <code>&#x3C;div style=\"max-width: 640px\"></code></li>   <li>This ensures maintainability, reusability, and proper separation of concerns</li> </ul> <h3>React Hook Patterns</h3> <p><strong>CRITICAL</strong>: When detecting React, extract logic from <code>useEffect</code> hooks into separate custom hooks that do ONE thing each.</p> <ul>   <li>Instead of one <code>useEffect</code> handling multiple concerns (focus trap + scroll lock + escape handler), create separate hooks:     <ul>       <li><code>useFocusTrap(containerRef, isActive)</code> - Handles focus trapping only</li>       <li><code>useBodyScrollLock(isLocked)</code> - Handles body scroll locking only</li>       <li><code>useEscapeHandler(onEscape, isActive)</code> - Handles Escape key only</li>       <li><code>useDialogState(initialOpen)</code> - Manages dialog open/close state only</li>     </ul>   </li>   <li>This improves code organization, testability, and reusability</li>   <li>Each hook should have a single responsibility</li> </ul> <h2>Code Implementation Patterns</h2> <h3>React Example Pattern</h3> <pre><code class=\"language-jsx\">// Suggested component structure &#x3C;Dialog   open={isOpen}   onClose={handleClose}   variant=\"dialog\"   dismissible={true}   closeOnBackdropClick={true}   fullscreenOnMobile={true} >   &#x3C;DialogTrigger onClick={handleOpen}>     Open Dialog   &#x3C;/DialogTrigger>   &#x3C;DialogBackdrop />   &#x3C;DialogContainer>     &#x3C;DialogHeader>       &#x3C;DialogTitle id=\"dialog-title\">Dialog Title&#x3C;/DialogTitle>       &#x3C;DialogCloseButton />     &#x3C;/DialogHeader>     &#x3C;DialogBody id=\"dialog-description\">       Dialog content goes here     &#x3C;/DialogBody>     &#x3C;DialogFooter>       &#x3C;Button variant=\"secondary\" onClick={handleClose}>         Cancel       &#x3C;/Button>       &#x3C;Button variant=\"primary\" onClick={handlePrimaryAction} loading={isLoading}>         Confirm       &#x3C;/Button>     &#x3C;/DialogFooter>   &#x3C;/DialogContainer> &#x3C;/Dialog> </code></pre> <h3>Angular Example Pattern</h3> <pre><code class=\"language-html\">&#x3C;!-- Suggested template structure --> &#x3C;button (click)=\"openDialog()\"          [attr.aria-haspopup]=\"'dialog'\"         [attr.aria-expanded]=\"isOpen\">   Open Dialog &#x3C;/button>  &#x3C;div *ngIf=\"isOpen\"       class=\"backdrop\"       (click)=\"onBackdropClick()\"      [attr.aria-hidden]=\"!isOpen\">   &#x3C;div role=\"dialog\"        [attr.aria-modal]=\"'true'\"        [attr.aria-labelledby]=\"'dialog-title'\"        [attr.aria-describedby]=\"'dialog-description'\"        class=\"dialog\">     &#x3C;header class=\"dialog-header\">       &#x3C;h2 id=\"dialog-title\">Dialog Title&#x3C;/h2>       &#x3C;button (click)=\"closeDialog()\" aria-label=\"Close dialog\">×&#x3C;/button>     &#x3C;/header>     &#x3C;div id=\"dialog-description\" class=\"dialog-body\">       Dialog content     &#x3C;/div>     &#x3C;footer class=\"dialog-footer\">       &#x3C;button (click)=\"closeDialog()\">Cancel&#x3C;/button>       &#x3C;button (click)=\"handlePrimaryAction()\" [disabled]=\"isLoading\">         Confirm       &#x3C;/button>     &#x3C;/footer>   &#x3C;/div> &#x3C;/div> </code></pre> <h3>Vue Example Pattern</h3> <pre><code class=\"language-vue\">&#x3C;!-- Suggested component structure --> &#x3C;template>   &#x3C;div>     &#x3C;button @click=\"openDialog\"             :aria-haspopup=\"'dialog'\"             :aria-expanded=\"isOpen\">       Open Dialog     &#x3C;/button>          &#x3C;Teleport to=\"body\">       &#x3C;div v-if=\"isOpen\" class=\"backdrop\" @click=\"onBackdropClick\">         &#x3C;div role=\"dialog\"              :aria-modal=\"true\"              :aria-labelledby=\"'dialog-title'\"              :aria-describedby=\"'dialog-description'\"              class=\"dialog\">           &#x3C;header class=\"dialog-header\">             &#x3C;h2 id=\"dialog-title\">Dialog Title&#x3C;/h2>             &#x3C;button @click=\"closeDialog\" aria-label=\"Close dialog\">×&#x3C;/button>           &#x3C;/header>           &#x3C;div id=\"dialog-description\" class=\"dialog-body\">             Dialog content           &#x3C;/div>           &#x3C;footer class=\"dialog-footer\">             &#x3C;button @click=\"closeDialog\">Cancel&#x3C;/button>             &#x3C;button @click=\"handlePrimaryAction\" :disabled=\"isLoading\">               Confirm             &#x3C;/button>           &#x3C;/footer>         &#x3C;/div>       &#x3C;/div>     &#x3C;/Teleport>   &#x3C;/div> &#x3C;/template> </code></pre> <h3>CSS/Styling Approaches</h3> <p><strong>Note</strong>: The examples below show how to implement the design specifications using different styling tools. Always refer to the \"Design System Specifications\" section above for the authoritative design values, then adapt them to your project's styling approach.</p> <h4>Tailwind CSS Pattern</h4> <pre><code class=\"language-html\">&#x3C;!-- Backdrop --> &#x3C;div class=\"fixed inset-0 bg-black/50 backdrop-blur-sm z-40\"      @click=\"onBackdropClick\">   &#x3C;!-- Dialog -->   &#x3C;div class=\"fixed inset-0 flex items-center justify-center z-50 p-4\">     &#x3C;div class=\"bg-white dark:bg-gray-900 rounded-lg shadow-xl max-w-2xl w-full max-h-[calc(100vh-200px)] flex flex-col\">       &#x3C;!-- Header -->       &#x3C;header class=\"flex items-center justify-between p-6 border-b\">         &#x3C;h2 id=\"dialog-title\" class=\"text-xl font-semibold\">Dialog Title&#x3C;/h2>         &#x3C;button class=\"w-10 h-10 flex items-center justify-center\" aria-label=\"Close dialog\">×&#x3C;/button>       &#x3C;/header>       &#x3C;!-- Body -->       &#x3C;div id=\"dialog-description\" class=\"flex-1 overflow-auto p-6\">         Dialog content       &#x3C;/div>       &#x3C;!-- Footer -->       &#x3C;footer class=\"flex items-center justify-end gap-3 p-6 border-t\">         &#x3C;button class=\"px-4 py-2\">Cancel&#x3C;/button>         &#x3C;button class=\"px-4 py-2 bg-primary text-white\">Confirm&#x3C;/button>       &#x3C;/footer>     &#x3C;/div>   &#x3C;/div> &#x3C;/div> </code></pre> <h4>Vanilla CSS Pattern</h4> <pre><code class=\"language-css\">/* CRITICAL: Always create CSS classes, never use inline styles */ /* Apply design system values directly */ .backdrop {   position: fixed;   inset: 0;   background: rgba(0, 0, 0, 0.5);   backdrop-filter: blur(4px);   z-index: 40; }  .dialog {   position: fixed;   inset: 0;   display: flex;   align-items: center;   justify-content: center;   z-index: 50;   padding: 16px; }  .dialogContainer {   background: #ffffff;   border-radius: 12px;   box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);   max-width: 640px;   width: 100%;   max-height: calc(100vh - 200px);   display: flex;   flex-direction: column; }  .dialogHeader {   display: flex;   align-items: center;   justify-content: space-between;   padding: 24px;   border-bottom: 1px solid rgba(0, 0, 0, 0.1); }  .dialogBody {   flex: 1;   overflow: auto;   padding: 24px; }  .dialogFooter {   display: flex;   align-items: center;   justify-content: flex-end;   gap: 12px;   padding: 24px;   border-top: 1px solid rgba(0, 0, 0, 0.1); } </code></pre> <h4>Material-UI/Chakra Pattern</h4> <ul>   <li>Use Dialog/Modal component from library</li>   <li><strong>Extend theme</strong> with design system color values, spacing scale, and typography settings</li>   <li>Use theme.transitions for consistent animations matching design system specifications</li>   <li>Leverage theme breakpoints for responsive behavior</li>   <li><strong>Customize colors, spacing, and typography</strong> to match design system specifications</li>   <li>Ensure focus trap and scroll lock are properly configured</li> </ul> <h2>Animation Specifications</h2> <h3>Open Animation</h3> <ul>   <li><strong>Duration</strong>: 180ms (from tokens)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.2, 0, 0, 1)</code> (from tokens)</li>   <li><strong>Backdrop</strong>: Opacity <code>0 → 1</code></li>   <li><strong>Dialog</strong>:     <ul>       <li>Opacity <code>0 → 1</code></li>       <li>Transform: <code>translateY(8px) scale(0.98) → translateY(0) scale(1)</code></li>     </ul>   </li> </ul> <h3>Close Animation</h3> <ul>   <li><strong>Duration</strong>: 140ms (from tokens)</li>   <li><strong>Easing</strong>: <code>cubic-bezier(0.2, 0, 0, 1)</code> (from tokens)</li>   <li><strong>Backdrop</strong>: Opacity <code>1 → 0</code></li>   <li><strong>Dialog</strong>:     <ul>       <li>Opacity <code>1 → 0</code></li>       <li>Transform: <code>translateY(0) scale(1) → translateY(8px) scale(0.98)</code></li>     </ul>   </li> </ul> <h3>Prefers-Reduced-Motion Support</h3> <p><strong>Implementation</strong>:</p> <pre><code class=\"language-css\">@media (prefers-reduced-motion: reduce) {   .dialog,   .backdrop {     animation: none;     transition: opacity 0.1s ease;   }      .dialog {     transform: none;   } } </code></pre> <p><strong>Performance</strong>:</p> <ul>   <li>Prefer <code>transform</code> and <code>opacity</code> for animations (GPU-accelerated)</li>   <li>Set <code>will-change: transform, opacity</code> on animating elements</li>   <li>Use <code>transform3d(0,0,0)</code> to trigger GPU acceleration if needed</li> </ul> <h2>Z-Index Layer System</h2> <p>To ensure proper layering of elements:</p> <ul>   <li><strong>Backdrop</strong>: 40 (from tokens)</li>   <li><strong>Dialog</strong>: 50 (from tokens)</li>   <li><strong>Tooltips</strong>: 60 (from tokens)</li> </ul> <h2>Implementation Details</h2> <h3>Focus Trap</h3> <p><strong>When</strong>: Dialog is open</p> <p><strong>How</strong>:</p> <ul>   <li>Use focus-trap library (e.g., <code>focus-trap</code> for React, <code>focus-trap-vue</code> for Vue) or manual implementation</li>   <li>Identify all focusable elements within dialog</li>   <li>Prevent tabbing outside dialog boundaries</li>   <li>Cycle focus within dialog on Tab/Shift+Tab</li> </ul> <p><strong>Cleanup</strong>: Remove focus trap on close</p> <h3>Focus Restoration</h3> <p><strong>When</strong>: Dialog closes (all close paths)</p> <p><strong>How</strong>:</p> <ul>   <li>Store reference to trigger element when dialog opens</li>   <li>Restore focus to trigger element on close</li>   <li>Handle cases where trigger element no longer exists (fallback to body or first focusable element)</li> </ul> <h3>Body Scroll Lock</h3> <p><strong>When</strong>: Dialog is open</p> <p><strong>How</strong>:</p> <ul>   <li>Set <code>document.body.style.overflow = 'hidden'</code></li>   <li>Optionally preserve scroll position: <code>document.body.style.position = 'fixed'</code> and <code>document.body.style.top = '-${window.scrollY}px'</code></li> </ul> <p><strong>Cleanup</strong>:</p> <ul>   <li>Restore on close: <code>document.body.style.overflow = ''</code></li>   <li>Restore scroll position if preserved</li> </ul> <h3>Escape Key Handling</h3> <p><strong>When</strong>: Dialog is open and <code>dismissible=true</code></p> <p><strong>How</strong>:</p> <ul>   <li>Add global keydown listener for Escape key</li>   <li>Prevent default and stop propagation</li>   <li>Close dialog and restore focus</li> </ul> <p><strong>Cleanup</strong>: Remove listener on close</p> <h3>Backdrop Click Handling</h3> <p><strong>When</strong>: Dialog is open and <code>dismissible &#x26;&#x26; closeOnBackdropClick</code></p> <p><strong>How</strong>:</p> <ul>   <li>Add click listener to backdrop</li>   <li>Check if click target is backdrop (not dialog content)</li>   <li>Stop event propagation</li>   <li>Close dialog and restore focus</li> </ul> <h2>Edge Cases</h2> <h3>Very Long Content</h3> <ul>   <li>Body should scroll independently</li>   <li>Header and footer remain visible</li>   <li>Max height prevents dialog from exceeding viewport</li> </ul> <h3>Multiple Dialogs</h3> <ul>   <li>Stack dialogs with increasing z-index</li>   <li>Focus trap applies to topmost dialog</li>   <li>Escape closes topmost dialog first</li> </ul> <h3>Rapid Opening/Closing</h3> <ul>   <li>Debounce or disable interactions during animation</li>   <li>Prevent multiple simultaneous open/close operations</li> </ul> <h3>Trigger Element Removed</h3> <ul>   <li>If trigger element is removed from DOM before close, fallback to body or first focusable element for focus restoration</li> </ul> <h3>Very Small Screens</h3> <ul>   <li>Fullscreen mode recommended for screens &#x3C; 320px</li>   <li>Consider further reducing padding/spacing</li> </ul> <h3>Content Overflow</h3> <ul>   <li>Ensure dialog doesn't overflow viewport horizontally</li>   <li>Body scroll handles vertical overflow</li> </ul> <h2>Common Variations</h2> <h3>Confirm Dialog</h3> <ul>   <li>Shows primary and secondary buttons</li>   <li>Backdrop click allowed if <code>dismissible=true</code></li>   <li>Typically uses <code>variant=\"dialog\"</code></li> </ul> <h3>Alert Dialog</h3> <ul>   <li>Uses <code>role=\"alertdialog\"</code></li>   <li>Prefer <code>closeOnBackdropClick=false</code> to avoid accidental dismissal</li>   <li>Typically for urgent confirmations</li>   <li>May only have primary action button</li> </ul> <h3>Form Dialog</h3> <ul>   <li>Contains form inputs in body</li>   <li>Primary action submits form</li>   <li>Secondary action cancels and closes</li>   <li>Validation errors shown in body</li> </ul> <h3>Loading Dialog</h3> <ul>   <li>Shows loading spinner in body</li>   <li>No footer actions</li>   <li>Typically not dismissible</li>   <li>Used for async operations</li> </ul> <h3>Fullscreen Dialog</h3> <ul>   <li><code>fullscreenOnMobile=true</code> by default</li>   <li>Can be forced fullscreen on all screen sizes</li>   <li>Useful for complex forms or content</li> </ul> <h2>Testing Checklist</h2> <p>When implementing this dialog, test:</p> <ul>   <li>[ ] Dialog opens from trigger and focus moves inside dialog</li>   <li>[ ] Tab and Shift+Tab cycle within dialog only</li>   <li>[ ] Escape closes when <code>dismissible=true</code> and restores focus to trigger</li>   <li>[ ] Backdrop click closes only when enabled; does not close when disabled</li>   <li>[ ] Close button always closes and restores focus</li>   <li>[ ] <code>role='dialog'/'alertdialog'</code> correctly applied based on variant</li>   <li>[ ] <code>aria-labelledby</code> and <code>aria-describedby</code> point to existing elements</li>   <li>[ ] Body scroll is locked while open and restored on close</li>   <li>[ ] On mobile, fullscreen variant renders correctly when enabled</li>   <li>[ ] <code>prefers-reduced-motion</code> removes heavy transforms/animations</li>   <li>[ ] Focus trap works correctly (cannot tab outside dialog)</li>   <li>[ ] Focus restoration works on all close paths</li>   <li>[ ] Loading state disables actions and shows feedback</li>   <li>[ ] Primary action success closes dialog</li>   <li>[ ] Primary action error keeps dialog open</li>   <li>[ ] Animations are smooth (60fps)</li>   <li>[ ] No layout shift or flicker on open/close</li>   <li>[ ] SSR/hydration safe (no DOM access before mount)</li>   <li>[ ] Long content scrolls correctly in body</li>   <li>[ ] Multiple dialogs stack correctly</li>   <li>[ ] Screen reader announces dialog state changes</li> </ul> <h2>AI Agent Implementation Prompt Template</h2> <p>Use this template when asking an AI agent to implement this dialog:</p> <pre><code>Implement an accessible Modal Dialog component with overlay backdrop, focus trap, focus restoration to trigger, Escape/backdrop dismissal (configurable), and scroll lock. Support role='dialog' and role='alertdialog' variants, with aria-modal, aria-labelledby, aria-describedby, and aria-expanded on the trigger. Provide header (title + close), body, footer (primary/secondary actions) and loading state for primary action. Add open/close animations with prefers-reduced-motion support. Adapt to {{USER_FRAMEWORK}} and {{USER_STYLING_LIBRARY}}.  Key requirements: 1. Focus trap: All keyboard focus trapped within dialog when open 2. Focus restoration: Returns focus to trigger element on close (all close paths) 3. Escape key: Closes dialog when dismissible=true 4. Backdrop click: Closes dialog when dismissible &#x26;&#x26; closeOnBackdropClick 5. Scroll lock: Body scroll locked while dialog is open 6. ARIA: role, aria-modal, aria-labelledby, aria-describedby, aria-expanded 7. Animations: 180ms open, 140ms close with cubic-bezier(0.2, 0, 0, 1) easing 8. Responsive: Fullscreen on mobile when fullscreenOnMobile=true 9. Loading state: Disable actions and show spinner on primary action 10. Prefers-reduced-motion: Reduce or remove transforms  Reference: UI Potion Modal Dialog Component </code></pre> <h2>Additional Resources</h2> <h3>Focus Trap Library Examples</h3> <p><strong>React</strong>:</p> <pre><code class=\"language-javascript\">import { createFocusTrap } from 'focus-trap';  const trap = createFocusTrap(dialogRef.current, {   escapeDeactivates: dismissible,   clickOutsideDeactivates: dismissible &#x26;&#x26; closeOnBackdropClick,   returnFocusOnDeactivate: true,   initialFocus: dialogRef.current.querySelector('[data-initial-focus]') || dialogRef.current, }); trap.activate(); </code></pre> <p><strong>Vue</strong>:</p> <pre><code class=\"language-javascript\">import { createFocusTrap } from 'focus-trap';  const trap = createFocusTrap(dialogRef.value, {   escapeDeactivates: dismissible,   clickOutsideDeactivates: dismissible &#x26;&#x26; closeOnBackdropClick,   returnFocusOnDeactivate: true, }); trap.activate(); </code></pre> <h3>Body Scroll Lock Library Examples</h3> <p><strong>React</strong>:</p> <pre><code class=\"language-javascript\">import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';  disableBodyScroll(dialogRef.current); // On close: enableBodyScroll(dialogRef.current); </code></pre> <p><strong>Vue</strong>:</p> <pre><code class=\"language-javascript\">import { disableBodyScroll, enableBodyScroll } from 'body-scroll-lock';  disableBodyScroll(dialogRef.value); // On close: enableBodyScroll(dialogRef.value); </code></pre> <hr> <h2>Summary for AI Agents</h2> <p>This modal dialog is a standard accessible dialog component with focus trap, focus restoration, scroll lock, and keyboard accessibility. Key implementation points:</p> <ol>   <li><strong>Structure</strong>: Trigger, Backdrop, Dialog container with Header, Body, Footer</li>   <li><strong>State</strong>: Track open, loading, variant, dismissible, closeOnBackdropClick, fullscreenOnMobile</li>   <li><strong>Focus Management</strong>: Trap focus within dialog, restore to trigger on close</li>   <li><strong>Keyboard</strong>: Escape closes when dismissible, Tab cycles within dialog</li>   <li><strong>Scroll Lock</strong>: Lock body scroll while dialog is open</li>   <li><strong>Animations</strong>: 180ms open, 140ms close with prefers-reduced-motion support</li>   <li><strong>Accessibility</strong>: WCAG AA compliance with proper ARIA attributes</li>   <li><strong>Framework-agnostic</strong>: Adapt patterns to any framework's component model</li> </ol> <p>Generate clean, semantic HTML with proper component separation. Use framework-specific state management patterns and CSS methodology as specified by the user.</p>","excerpt":"An accessible modal dialog component with focus trapping, Escape/backdrop dismissal rules, scroll locking, and action footer. Includes confirm/alert variants and responsive fullscreen behavior on small screens.","publicationDate":"2026-01-11","tags":["components","modal","dialog","overlay","focus-trap","a11y","wcag","aria"],"coverImage":""},{"fileName":"components/data-table.html","title":"Data Table (Sortable, Paginated, Filterable)","body":"<h1>Data Table (Sortable, Paginated, Filterable)</h1> <h2>Overview</h2> <p>A comprehensive data table component designed for displaying and managing tabular data in admin panels, dashboards, and data-driven applications. The component provides essential features for data manipulation including column sorting (ascending/descending), client-side pagination with configurable page sizes, row selection (single and multi-select), and responsive behavior that adapts to mobile screens by displaying data in a card-based layout.</p> <p>The table supports multiple states including loading (with skeleton rows), empty state (when no data is available), and error state (when data fetching fails). All interactions are fully keyboard accessible with proper ARIA attributes, making it compliant with WCAG AA standards.</p> <h2>Component Structure</h2> <p>The data table consists of several key sections organized in a clear hierarchy:</p> <p><strong>Main Container</strong> - Root wrapper that manages responsive behavior and contains all table elements</p> <ul>   <li><strong>Table Header</strong> - Contains column headers with sort indicators and selection checkbox</li>   <li><strong>Table Body</strong> - Displays data rows or state indicators (loading/empty/error)</li>   <li><strong>Selection Controls</strong> - Toolbar with bulk action buttons when rows are selected</li>   <li><strong>Pagination Controls</strong> - Navigation controls at the bottom with page info and size selector</li> </ul> <h2>Column Configuration</h2> <p>Each column in the table is defined with the following properties:</p> <p><strong>Column Definition Structure</strong>:</p> <ul>   <li><strong>id</strong> - Unique identifier for the column</li>   <li><strong>header</strong> - Display text for column header</li>   <li><strong>accessor</strong> - Key to access data from row object (or custom render function)</li>   <li><strong>sortable</strong> - Whether the column supports sorting (default: true)</li>   <li><strong>width</strong> - Optional fixed width (default: auto-sizing)</li>   <li><strong>align</strong> - Text alignment: left (default), center, or right</li>   <li><strong>hidden</strong> - Whether column is hidden on mobile breakpoints</li> </ul> <h2>Sorting Behavior</h2> <p>Columns support three sort states that cycle on click:</p> <ol>   <li><strong>Unsorted</strong> (initial state) - No sort indicator</li>   <li><strong>Ascending</strong> - Upward arrow indicator, data sorted A-Z or 0-9</li>   <li><strong>Descending</strong> - Downward arrow indicator, data sorted Z-A or 9-0</li> </ol> <p>Clicking a sortable column header cycles through these states. Only one column can be sorted at a time (single-column sort). The active sort column is visually distinguished with a highlighted header and clear sort indicator.</p> <h2>Pagination</h2> <p>The pagination system provides intuitive navigation through large datasets:</p> <p><strong>Pagination Controls Include</strong>:</p> <ul>   <li>Previous/Next page buttons (disabled at boundaries)</li>   <li>Page number indicators (current page highlighted)</li>   <li>Page size selector (10, 25, 50, 100 rows per page)</li>   <li>Total results count display (\"Showing 1-10 of 245 results\")</li>   <li>Jump to first/last page buttons (optional)</li> </ul> <p>Pagination info updates immediately when changing page size or navigating. Page numbers adapt to show a limited range (e.g., \"1 2 3 ... 15 16 17 ... 45\") for large datasets.</p> <h2>Row Selection</h2> <p>Users can select individual rows or all rows on the current page:</p> <p><strong>Selection Features</strong>:</p> <ul>   <li><strong>Header Checkbox</strong> - Selects/deselects all rows on current page</li>   <li><strong>Row Checkboxes</strong> - Individual row selection</li>   <li><strong>Shift+Click</strong> - Range selection from last selected row</li>   <li><strong>Keyboard Navigation</strong> - Space key toggles selection for focused row</li>   <li><strong>Selection Toolbar</strong> - Appears above table showing count and bulk action buttons</li>   <li><strong>Clear Selection</strong> - Button to deselect all selected rows</li> </ul> <p>Visual feedback includes highlighted background for selected rows and checkbox state indicators (checked, unchecked, indeterminate for header when some rows selected).</p> <h2>Responsive Design</h2> <p>The table adapts to different screen sizes with two distinct layouts:</p> <p><strong>Desktop (≥1024px)</strong>:</p> <ul>   <li>Standard table layout with all columns visible</li>   <li>Horizontal scroll for wide tables if needed</li>   <li>Sticky header option for long tables</li> </ul> <p><strong>Tablet (768px - 1023px)</strong>:</p> <ul>   <li>Simplified table layout with fewer columns</li>   <li>Non-essential columns hidden via column config</li> </ul> <p><strong>Mobile (&#x3C;768px)</strong>:</p> <ul>   <li>Card-based layout replacing table rows</li>   <li>Each card displays key data fields vertically</li>   <li>Selection checkboxes maintained in card headers</li>   <li>Sorting and filtering preserved via dropdown controls</li>   <li>Pagination simplified to Previous/Next only</li> </ul> <h2>Loading, Empty, and Error States</h2> <p>The table handles data loading states gracefully:</p> <p><strong>Loading State</strong>:</p> <ul>   <li>Skeleton rows with animated placeholders</li>   <li>Maintains table structure for smooth transition</li>   <li>Number of skeleton rows matches page size</li>   <li>Loading message for screen readers</li> </ul> <p><strong>Empty State</strong>:</p> <ul>   <li>Centered message with optional icon</li>   <li>Helpful text (\"No data available\" or \"No results match your filters\")</li>   <li>Optional call-to-action button</li>   <li>Maintains table header for context</li> </ul> <p><strong>Error State</strong>:</p> <ul>   <li>Error message with icon</li>   <li>Retry button to attempt data reload</li>   <li>Error details (optional, for debugging)</li>   <li>Maintains table structure</li> </ul> <h2>Accessibility</h2> <p>The data table is fully accessible with comprehensive keyboard support:</p> <p><strong>Keyboard Navigation</strong>:</p> <ul>   <li><strong>Tab</strong> - Navigate between interactive elements (headers, checkboxes, pagination)</li>   <li><strong>Space</strong> - Toggle row selection when row is focused</li>   <li><strong>Enter</strong> - Activate sort on column header, activate buttons</li>   <li><strong>Arrow Keys</strong> - Navigate between cells (optional advanced navigation)</li>   <li><strong>Shift+Click</strong> - Range selection</li> </ul> <p><strong>ARIA Attributes</strong>:</p> <ul>   <li><code>role=\"table\"</code> on table container (or semantic <code>&#x3C;table></code>)</li>   <li><code>role=\"columnheader\"</code> with <code>aria-sort=\"ascending|descending|none\"</code></li>   <li><code>aria-label</code> on interactive elements (sort buttons, checkboxes)</li>   <li><code>aria-selected=\"true\"</code> on selected rows</li>   <li><code>aria-live=\"polite\"</code> region for pagination updates</li>   <li><code>aria-busy=\"true\"</code> during loading state</li> </ul> <p><strong>Screen Reader Support</strong>:</p> <ul>   <li>Announces sort state changes</li>   <li>Announces pagination info updates</li>   <li>Announces selection count changes</li>   <li>Provides context for each table cell</li> </ul> <p><strong>Focus Management</strong>:</p> <ul>   <li>Clear focus indicators on all interactive elements</li>   <li>Focus preserved on current element during data updates</li>   <li>Focus moves logically through table structure</li> </ul> <h2>Framework Patterns</h2> <p>The data table can be implemented across different frameworks using appropriate patterns:</p> <p><strong>React</strong>: Use <code>useState</code> for sort/page/selection state, <code>useMemo</code> for filtered/sorted data, custom hooks for table logic (<code>useTableSort</code>, <code>useTablePagination</code>, <code>useTableSelection</code>)</p> <p><strong>Vue</strong>: Use <code>ref()</code> or <code>reactive()</code> for state, <code>computed()</code> for derived data (sorted/paginated), composables for reusable logic</p> <p><strong>Angular</strong>: Component properties for state, getter methods or pipes for transformations, RxJS for async data loading</p> <p><strong>Svelte</strong>: Reactive statements for derived data, stores for shared table state, actions for enhanced DOM interactions</p> <h2>Testing Checklist</h2> <ul>   <li>[ ] Columns render with correct headers and data</li>   <li>[ ] Sorting works for all sortable columns (ascending, descending, clear)</li>   <li>[ ] Only one column sorted at a time</li>   <li>[ ] Pagination controls navigate correctly</li>   <li>[ ] Page size changes update results correctly</li>   <li>[ ] Row selection works (single, multiple, all)</li>   <li>[ ] Shift+click range selection works</li>   <li>[ ] Header checkbox has correct state (checked/unchecked/indeterminate)</li>   <li>[ ] Selected row count displays correctly</li>   <li>[ ] Bulk actions appear when rows selected</li>   <li>[ ] Clear selection works</li>   <li>[ ] Loading state displays skeleton rows</li>   <li>[ ] Empty state displays when no data</li>   <li>[ ] Error state displays with retry button</li>   <li>[ ] Mobile card layout renders correctly</li>   <li>[ ] Responsive breakpoints work correctly</li>   <li>[ ] Keyboard navigation works (Tab, Space, Enter)</li>   <li>[ ] Screen reader announces state changes</li>   <li>[ ] Focus indicators visible on all interactive elements</li>   <li>[ ] ARIA attributes present and correct</li>   <li>[ ] Color contrast meets WCAG AA (4.5:1)</li>   <li>[ ] Sort animations smooth (if implemented)</li>   <li>[ ] No layout shift during data updates</li>   <li>[ ] Table accessible via screen reader</li>   <li>[ ] All interactive elements keyboard accessible</li> </ul>","excerpt":"A comprehensive data table component with sorting, pagination, filtering, row selection, and responsive behavior. Includes loading, empty, and error states with full keyboard navigation support.","publicationDate":"2026-01-18","tags":["components","data-table","table","sortable","pagination","filtering","selection","responsive","a11y","wcag","admin","dashboard"],"coverImage":""}]