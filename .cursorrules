# UI Potion + Harold - AI Assistant Rules

You are working on **UI Potion**, a service that provides AI-agent-optimized UI component guides, built with **Harold** static site generator.

**IMPORTANT**: Always use "UI Potion" (with space) in all human-readable text, documentation, and website content. Use "UIPotion" or "uipotion" only for technical identifiers like file names, URLs, JSON keys, or code references.

---

## üéØ UI Potion Project Philosophy

UI Potion is NOT a component library with code to copy-paste. Instead:
- We provide **detailed specifications** for UI components ("potions")
- Specifications are **framework-agnostic** (work with React, Vue, Angular, Svelte, etc.)
- Specifications are **styling-agnostic** (work with Tailwind, CSS Modules, Chakra, etc.)
- AI agents read these specs and **generate code** adapted to user's stack
- **Zero maintenance burden** - specs don't break when frameworks update

---

## üèóÔ∏è Technology Stack

- **Static Site Generator**: Harold (Markdown + Handlebars + SCSS)
- **Content**: Potions stored as Markdown files in `src/potions/`
- **AI Discovery**: JSON manifests for programmatic access
- **Styling**: SCSS with modular approach

---

## üìÅ Project Structure

```
src/
‚îú‚îÄ‚îÄ potions/              # Markdown files for potions
‚îÇ   ‚îú‚îÄ‚îÄ layouts/          # Layout patterns (dashboards, landing pages, etc.)
‚îÇ   ‚îú‚îÄ‚îÄ components/       # Reusable components (buttons, dialogs, cards)
‚îÇ   ‚îú‚îÄ‚îÄ features/         # Create when needed
‚îÇ   ‚îú‚îÄ‚îÄ patterns/         # Create when needed
‚îÇ   ‚îî‚îÄ‚îÄ tooling/          # Create when needed
‚îú‚îÄ‚îÄ statics/               # Static files (copied to root by Harold)
‚îÇ   ‚îú‚îÄ‚îÄ uipotion-manifest.json       # Main discovery manifest
‚îÇ   ‚îú‚îÄ‚îÄ potions-index.json           # Index of all potions
‚îÇ   ‚îú‚îÄ‚îÄ potions/                     # Individual potion guides (JSON)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layouts/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ features/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ patterns/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tooling/
‚îÇ   ‚îú‚îÄ‚îÄ schemas/                     # JSON schemas and contracts
‚îÇ   ‚îî‚îÄ‚îÄ skills/                      # Agent Skills packages (SKILL.md)
‚îú‚îÄ‚îÄ potion-layouts/       # Handlebars layouts for potions
‚îÇ   ‚îî‚îÄ‚îÄ potion.hbs        # Layout for potion pages
‚îú‚îÄ‚îÄ pages/                # Site pages (Handlebars)
‚îÇ   ‚îú‚îÄ‚îÄ index.hbs         # Homepage
‚îÇ   ‚îî‚îÄ‚îÄ about.hbs         # About page
‚îú‚îÄ‚îÄ partials/             # Reusable Handlebars components
‚îÇ   ‚îú‚îÄ‚îÄ head.hbs
‚îÇ   ‚îî‚îÄ‚îÄ footer.hbs
‚îú‚îÄ‚îÄ styles/               # SCSS files
‚îÇ   ‚îú‚îÄ‚îÄ main.scss         # Main (compiled)
‚îÇ   ‚îú‚îÄ‚îÄ _basic.scss       # Basic styles
‚îÇ   ‚îú‚îÄ‚îÄ _page.scss        # Page-level styles
‚îÇ   ‚îî‚îÄ‚îÄ _uipotion.scss    # UI Potion-specific styles
‚îú‚îÄ‚îÄ assets/               # Images, fonts, JS
‚îÇ   ‚îî‚îÄ‚îÄ images/
‚îî‚îÄ‚îÄ build/                # Output (auto-generated, don't edit!)
```

---

## üé® UI Potion Key Concepts

### 1. Potions (UI Component Guides)

**Location**: `src/potions/` (organized by category)

**Format**: Markdown files with YAML front matter

**Required Front Matter Fields**:
```yaml
---
layout: 'potion'                                      # REQUIRED: Layout template
title: 'Component Name'                               # REQUIRED: Descriptive name
publicationDate: '2026-01-10'                         # REQUIRED: YYYY-MM-DD format
excerpt: 'Brief description'                          # REQUIRED: 1-2 sentences
category: 'Layouts'                                   # REQUIRED: Layouts|Components|Features|Patterns|Tooling
tags: [tag1, tag2]                                    # REQUIRED: Array of tags
agentManifest: 'potions/[category]/component-id.json' # REQUIRED: Path to JSON guide (in statics/)
---
```

**Content Structure**:
- Overview describing the component's purpose and key features
- Component structure and hierarchy
- Detailed specifications (dimensions, states, behavior)
- Responsive behavior at each breakpoint
- Accessibility requirements
- Animation specifications
- Framework patterns (remain agnostic)
- Testing checklist

**IMPORTANT - Visual Representations & Content Formatting**:
- ‚ùå **NEVER** use ASCII art or text-based diagrams in potion markdown files for the website
- ‚ùå **NEVER** use emojis (‚úÖ ‚ùå ‚úì ‚úó etc.) in potion markdown files for the website
- ‚ùå ASCII boxes, borders, or visual layouts look unprofessional on the rendered website
- ‚úÖ Use clear prose descriptions instead (e.g., "A 3-column grid layout with...")
- ‚úÖ Save visual diagrams for future when we add screenshot/image support
- ‚úÖ In JSON files for AI agents, you can include text structure if needed, but keep it minimal
- ‚úÖ Use plain text for lists and examples (e.g., "Good:", "Bad:" instead of emojis)

### 2. AI Agent JSON Guides

**Location**: `src/statics/potions/[category]/`

**Format**: Comprehensive JSON files with complete specifications

**Required Structure** (see `src/statics/potions/layouts/dashboard.json` or a same-category guide as template):
```json
{
  "id": "component-id",
  "name": "Component Name",
  "version": "1.0.0",
  "aiAgentInstructions": {
    "summary": "...",
    "keyFeatures": [...],
    "implementationSteps": [...]
  },
  "structure": {...},
  "components": {...},
  "responsiveBreakpoints": {...},
  "stateManagement": {...},
  "frameworkPatterns": {
    "react": {...},
    "vue": {...},
    "angular": {...},
    "svelte": {...}
  },
  "stylingApproaches": {
    "tailwindCSS": {...},
    "cssModules": {...},
    "styledComponents": {...},
    "chakraUI": {...}
  },
  "accessibility": {...},
  "animations": {...},
  "testingChecklist": [...]
}
```

### 3. Discovery System

- **Main Manifest**: `src/statics/uipotion-manifest.json` - Entry point for AI agents
- **Potions Index**: `src/statics/potions-index.json` - Searchable catalog of all potions
- **Individual Guides**: `src/statics/potions/[category]/[id].json` - Detailed implementation guide
- **Agent Skills**: `src/statics/skills/[skill-name]/SKILL.md` - Optional skills for compatible agents

### 4. Potion Usage (Best Approach)

**For AI agents implementing from a potion:**
1. Start from manifest ‚Üí index ‚Üí guide (JSON is the source of truth).
2. Read `aiAgentInstructions` and, if present, `tokens`, `designSystem`, and `outputConstraints`.
3. Detect framework + styling from the repo, then map specs to existing tokens/conventions.
4. Implement using only the detected framework and styling system; document assumptions.
5. Use the Markdown potion page for human context, not implementation details.

**For humans requesting a potion:**
- Share the JSON guide URL and your stack details (framework + styling).
- Use the Markdown page to review behavior, accessibility, and edge cases.

---

## üß™ Harold Static Site Generator

### What Harold Does

Harold transforms:
- **Markdown files** (with YAML front matter) ‚Üí HTML pages
- **Handlebars templates** (.hbs) ‚Üí HTML pages  
- **SCSS files** ‚Üí Minified CSS
- **Images** ‚Üí Auto-enhanced with lazy loading, dimensions
- **JSON data** ‚Üí Copied to build directory

### Build Process

1. Prepare directories (`build/`, `build/potions/`)
2. Copy assets (`src/assets/` ‚Üí `build/assets/`)
3. Register Handlebars helpers (formatDate, postsList, relativePath, etc.)
4. Generate partials (register `src/partials/*.hbs`)
5. Generate posts/potions (Markdown ‚Üí HTML via layouts)
6. Generate styles (SCSS ‚Üí CSS)
7. Generate pages (`.hbs` ‚Üí HTML)
8. Copy JSON data to build directory
9. Copy statics (`src/statics/**/*` ‚Üí `build/` root)

### Commands

```bash
harold-scripts build    # Full build
harold-scripts start    # Build + dev server (localhost:3000) + watch
npm test               # Run test suite (if applicable)
```

### Front Matter Rules (CRITICAL!)

**For Potions**:
```yaml
---
layout: 'potion'           # REQUIRED: Use 'potion' layout
title: 'Post Title'        # REQUIRED: string
publicationDate: '2024-01-15' # REQUIRED: YYYY-MM-DD format (string)
excerpt: 'Brief summary'   # REQUIRED: string (for SEO)
category: 'Layouts'             # REQUIRED: Category name (Layouts|Components|Features|Patterns|Tooling)
tags: [javascript, ui]          # REQUIRED: array
agentManifest: 'potions/[category]/id.json' # REQUIRED: Path to JSON (in statics/)
---
```

**Line Endings**:
- Harold auto-normalizes CRLF ‚Üí LF
- Use LF in editor for consistency
- Front matter parsing fails with CRLF

### Creating Pages (.hbs)

**Typical Structure**:
```handlebars
{{> head 
  title="Homepage"
  description="Site description"
}}

<div class="container">
  <h1>Welcome</h1>
  <a href="{{relativePath 'about.html'}}">About</a>
</div>

{{> footer}}
```

**Key Points**:
- NO DOCTYPE/HTML tags in pages (added by layout)
- ALWAYS use `{{> partialName}}` for header/footer
- ALWAYS use `{{relativePath 'path'}}` for links
- Pages are compiled with Handlebars + minified

### Potion Layouts

**Layout wraps potion content** (`src/potion-layouts/potion.hbs`):

Available variables in layouts:
- `{{title}}` - Potion title
- `{{excerpt}}` - Potion excerpt
- `{{publicationDate}}` - Publication date
- `{{category}}` - Category name
- `{{tags}}` - Array of tags
- `{{agentManifest}}` - Path to JSON guide
- `{{{content}}}` - Compiled markdown HTML (triple braces!)
- All custom front matter fields

### Handlebars Helpers

#### 1. `relativePath` - Generate Relative Paths (ALWAYS USE THIS!)

```handlebars
<link rel="stylesheet" href="{{relativePath 'styles/main.css'}}">
<a href="{{relativePath 'about.html'}}">About</a>
<img src="{{relativePath 'assets/images/logo.png'}}">
```

#### 2. `hostDirName` - Subdirectory Deployment

```handlebars
<html lang="en" data-hrld-root="{{hostDirName}}">
```

#### 3. `formatDate` - Format Dates

```handlebars
{{formatDate date=publicationDate format='dd mmmm yyyy'}}
{{formatDate date=publicationDate format='yyyy-mm-dd'}}
```

Format options: `dd`, `d`, `mmmm`, `mmm`, `mm`, `yyyy`

#### 4. `responsiveImg` - Responsive Images

```handlebars
{{responsiveImg
  src="assets/images/photo.jpg"
  alt="Photo description"
  width="800"
  height="600"
  loading="lazy"
}}
```

#### 5. `postsList` - Render Lists (for potions)

```handlebars
{{postsList
  perPageLimit=6
  currentPage=1
  byTagName="dashboard"
  className="potions-list"
  dateFormat="dd mmmm yyyy"
}}
```

### SCSS Rules

- **Partials**: Start with `_` (e.g., `_uipotion.scss`) - NOT compiled directly
- **Main files**: No `_` prefix (e.g., `main.scss`) - Compiled to CSS
- **Import order**: variables ‚Üí mixins ‚Üí base ‚Üí components
- **Use**: `@use` (modern) or `@import` (legacy)
- **UI Potion styles**: Keep in `_uipotion.scss`

---

## ‚úçÔ∏è Creating a New Potion

### Step 1: Create Markdown File

**File**: `src/potions/[category]/your-component.md`

```yaml
---
layout: 'potion'
title: 'Your Component Name'
publicationDate: '2026-01-10'
excerpt: 'Brief description of the component (1-2 sentences)'
category: 'Components'  # Layouts, Components, Features, Patterns, or Tooling
tags:
  - relevant
  - tags
  - here
agentManifest: 'potions/[category]/your-component.json'
---

# Your Component Name

## Overview

Brief overview with clear prose descriptions.

## Structure

Component hierarchy and organization.

## Components

### Main Component
- Dimensions
- Behavior
- States

## Responsive Design

- Mobile (< 768px)
- Tablet (768px - 1024px)
- Desktop (> 1024px)

## Accessibility

- Keyboard navigation
- ARIA attributes
- Screen reader support

## Framework Patterns

Examples for different frameworks (stay agnostic).

## Testing Checklist

- [ ] Item 1
- [ ] Item 2
```

### Step 2: Create AI Agent JSON Guide

**File**: `src/statics/potions/[category]/your-component.json`

Use `src/statics/potions/layouts/dashboard.json` (or a same-category guide) as template. Must include:
- `aiAgentInstructions` - Summary, features, steps
- `structure` - Component hierarchy
- `components` - Detailed specs (dimensions, behavior, states)
- `responsiveBreakpoints` - Mobile, tablet, desktop
- `stateManagement` - State variables needed
- `frameworkPatterns` - React, Vue, Angular, Svelte patterns
- `stylingApproaches` - Tailwind, CSS Modules, styled-components, etc.
- `accessibility` - Complete accessibility specs
- `animations` - Timing, easing, properties
- `testingChecklist` - Verification steps

### Step 3: Update Potions Index

**File**: `src/statics/potions-index.json`

Add new entry to `potions` array:
```json
{
  "id": "your-component",
  "name": "Your Component Name",
  "category": "components",
  "tags": ["tag1", "tag2"],
  "excerpt": "Brief description",
  "complexity": "beginner|intermediate|advanced",
  "estimatedImplementationTime": "1-2 hours",
  "webUrl": "https://uipotion.com/potions/components/your-component.html",
  "agentGuideUrl": "https://uipotion.com/potions/components/your-component.json",
  "created": "2026-01-10",
  "updated": "2026-01-10"
}
```

Update `totalCount` and `lastUpdated` fields.

### Places to Update When Adding a Potion
- `src/potions/[category]/[slug].md` (front matter `agentManifest` matches JSON path)
- `src/statics/potions/[category]/[slug].json`
- `src/statics/potions-index.json` (add entry, update `totalCount` and `lastUpdated`)
- `src/statics/uipotion-manifest.json` (update `meta.updated`; update categories only if introducing a new one)
- No manual homepage listing needed (potions are rendered from Markdown)

### Step 4: Build and Test

```bash
harold-scripts build    # Build the site
harold-scripts start    # Start dev server on http://localhost:3000
```

### Step 5: Cross-Reference Related Potions (CRITICAL!)

**IMPORTANT**: After creating a new potion, add helpful cross-references to related potions. These are **optional hints and tips**, not strict dependencies. Each potion must work independently.

**Philosophy**:
- ‚úÖ Each potion is **self-contained** and fully functional on its own
- ‚úÖ Cross-references are **suggestions** for complementary potions
- ‚úÖ AI agents can implement a potion **without** needing other potions
- ‚úÖ References help humans **discover** related content
- ‚ùå Don't make one potion **depend** on another potion
- ‚ùå Don't require AI agents to implement multiple potions

**Why This Matters**:
- Creates a discoverable network of related components
- Helps users find complementary potions
- Improves AI agent context (optional, not required)
- Maintains independence of each potion

**When to Add Cross-References** (as hints):

1. **New Component ‚Üí Mention in Feature/Layout that could use it**
   - Example: Text Input component? Add tip in Forms feature: "Consider using Text Input component pattern"
   - Example: Sidebar component? Add tip in Dashboard layout: "Works well with Sidebar component"

2. **New Feature ‚Üí Mention Components/Patterns that complement it**
   - Example: Forms feature? Add tip: "See Text Input component and Form Validation pattern"

3. **New Pattern ‚Üí Mention Components/Features it applies to**
   - Example: Form Validation pattern? Add tip: "Works with Text Input component"

4. **New Layout ‚Üí Mention Components that fit well**
   - Example: Dashboard layout? Add tip: "Commonly uses Navbar, Data Table, Sidebar components"

**Where to Add Cross-References**:

In the **Markdown file** (for humans):
- Add a "Related Potions" or "See Also" section at the end (optional)
- Use phrases like "Works well with", "Consider using", "See also", "Complements"
- Make it clear these are suggestions, not requirements

Example:
```markdown
## See Also

The Text Input component works well with these potions:
- **[Form Validation Pattern](/potions/patterns/form-validation.html)** - Apply validation UX best practices
- **[Forms Feature](/potions/features/form.html)** - Complete form implementation using this input

These are suggestions - Text Input works independently and can be used in any context.
```

In the **JSON file** (for AI agents) - OPTIONAL:
- Add a `relatedPotions` array in `meta` section (optional, informational only):
  ```json
  "meta": {
    "relatedPotions": [
      {
        "id": "form-validation",
        "category": "patterns",
        "relationship": "complements",
        "description": "Optional: Apply Form Validation pattern for better UX",
        "required": false
      }
    ]
  }
  ```
- Or add a note in `aiAgentInstructions.keyFeatures`: "TIP: Works well with Form Validation pattern (optional)"
- Always make it clear the reference is optional

**Tone for Cross-References**:
- ‚úÖ "Works well with..."
- ‚úÖ "Consider using..."
- ‚úÖ "See also..."
- ‚úÖ "Complements..."
- ‚úÖ "Commonly paired with..."
- ‚ùå "Requires..."
- ‚ùå "Must use..."
- ‚ùå "Depends on..."
- ‚ùå "You need..."

**Checklist for Cross-Referencing**:
- [ ] Identified 2-3 related potions that complement this one
- [ ] Added lightweight "See Also" section to Markdown (optional)
- [ ] References use suggestive language ("works well with", "consider")
- [ ] Made it clear these are hints, not requirements
- [ ] Verified each potion still works independently
- [ ] (Optional) Added relatedPotions array to JSON meta with `required: false`

**Note**: Focus on the 2-3 most helpful suggestions. Keep it light and informational.

---

## ‚úÖ Best Practices

### For Potions (Markdown)
- ‚úÖ Use clear prose descriptions (no ASCII art, no emojis)
- ‚úÖ Specify exact dimensions and breakpoints
- ‚úÖ Include accessibility requirements from the start
- ‚úÖ Provide testing checklist
- ‚úÖ Show framework patterns, but remain agnostic
- ‚úÖ Include common variations
- ‚ùå Don't provide framework-specific code
- ‚ùå Don't be vague about specifications

### For AI Guides (JSON)
- ‚úÖ Use consistent JSON structure across all potions
- ‚úÖ Provide code examples in `frameworkPatterns` section
- ‚úÖ Include multiple styling approaches in `stylingApproaches`
- ‚úÖ Be explicit about state management needs
- ‚úÖ Include complete accessibility specs
- ‚úÖ Provide estimated implementation time
- ‚úÖ Add complexity level (beginner/intermediate/advanced)
- ‚ùå Don't leave ambiguous specifications
- ‚ùå Don't skip responsive breakpoints
- ‚ùå Don't forget animation specifications

### For Styling (SCSS)
- ‚úÖ Keep UI Potion-specific styles in `_uipotion.scss`
- ‚úÖ Use semantic class names
- ‚úÖ Ensure responsive design
- ‚úÖ Maintain consistent visual language
- ‚úÖ Hero sections should be eye-catching
- ‚úÖ Import order: variables ‚Üí mixins ‚Üí base ‚Üí components
- ‚úÖ Partials start with `_`, main files don't
- ‚ùå Don't compile SCSS partials directly

### For Handlebars
- ‚úÖ ALWAYS use `{{relativePath 'path'}}` for ALL links/assets
- ‚úÖ Use `{{> partialName}}` to include partials
- ‚úÖ Use semantic HTML5 elements
- ‚úÖ Include `{{> head}}` at top and `{{> footer}}` at bottom
- ‚ùå NEVER hardcode: `/styles/main.css`
- ‚ùå NEVER use absolute: `http://example.com/...`

### For Images
- ‚úÖ Include `width` and `height`
- ‚úÖ Use descriptive `alt` text
- ‚úÖ Optimize before adding (tinypng.com)
- ‚úÖ Use `loading="lazy"` (automatic)

### For SEO
- ‚úÖ Include `excerpt` in front matter
- ‚úÖ Use descriptive `title` and `tags`
- ‚úÖ Add meta tags via head partial
- ‚úÖ Use semantic HTML5 elements

---

## üìù Content Guidelines

### Writing Potions (Markdown)
- **Audience**: Human developers browsing the site
- **Style**: Clear, professional, comprehensive
- **Include**: Prose descriptions, detailed specifications, examples (NO ASCII art, NO emojis)
- **Structure**: Overview ‚Üí Structure ‚Üí Components ‚Üí Responsive ‚Üí Accessibility ‚Üí Examples

### Writing AI Agent Guides (JSON)
- **Audience**: AI coding assistants
- **Style**: Structured, comprehensive, unambiguous
- **Include**: Everything AI needs to implement without guessing
- **Be Specific**: Exact dimensions, colors, timings, behaviors
- **Framework Agnostic**: Provide patterns for multiple frameworks
- **Styling Agnostic**: Examples for multiple CSS approaches
- **Complete**: Accessibility, responsive, animations, state management

---

## üéØ Categories

1. **Layouts**: Full-page layouts and structural patterns (dashboards, landing pages, documentation layouts, app shells)
2. **Components**: Reusable UI building blocks (buttons, dialogs, cards, forms, navigation, data tables, feedback, media players, animations, badges, inputs)
3. **Features**: Complete user-facing features and flows (pricing tables, authentication flows, e-commerce, onboarding, search, user profiles)
4. **Patterns**: Design and interaction patterns (drag-and-drop, infinite scroll, progressive disclosure, accessibility patterns, keyboard navigation, focus management, responsive patterns)
5. **Tooling**: Developer tools and infrastructure (build tools, CLI utilities, third-party integrations, API patterns, performance optimization, testing strategies, deployment configs)

---

## üß™ Testing Checklist

Before considering a potion complete:
- [ ] Markdown file has correct front matter
- [ ] Markdown file includes category tag (e.g., `components`, `layouts`, `patterns`) as first tag for postsList helper
- [ ] JSON guide is comprehensive and follows template
- [ ] Added to potions-index.json
- [ ] Updated totalCount and lastUpdated in potions-index.json
- [ ] Built successfully with `harold-scripts build`
- [ ] Tested in dev server with `harold-scripts start`
- [ ] Links work correctly with relativePath
- [ ] JSON validates (proper structure)
- [ ] Responsive on mobile/tablet/desktop
- [ ] Content is clear and comprehensive
- [ ] Accessibility specs included
- [ ] Animation specs included
- [ ] Framework patterns provided for React, Vue, Angular, Svelte
- [ ] Styling approaches provided for Tailwind, CSS Modules, etc.
- [ ] **(Optional) Cross-referenced 2-3 related potions** as helpful suggestions (not requirements)
- [ ] **(Optional) "See Also" section added to Markdown** with suggestive language
- [ ] **(Optional) RelatedPotions array in JSON meta** with `required: false` flag

---

## ‚ö†Ô∏è Common Pitfalls

### UI Potion-Specific
- ‚ùå Don't use ASCII art or emojis in potion markdown files
- ‚ùå Don't provide framework-specific code in potions (keep it generic)
- ‚ùå Don't forget to update potions-index.json
- ‚ùå Don't skip accessibility specifications
- ‚ùå Don't be vague in JSON guides (AI needs specifics)
- ‚ùå Don't forget responsive breakpoints
- ‚ùå Don't skip animation specifications

### Harold-Specific
- ‚ùå DON'T edit files in `build/` (auto-generated!)
- ‚ùå DON'T skip required front matter fields
- ‚ùå DON'T use absolute paths (use `relativePath`)
- ‚ùå DON'T prefix partials with `_` (only SCSS!)
- ‚ùå DON'T compile SCSS partials directly
- ‚ùå DON'T forget to rebuild after changes
- ‚ùå DON'T use wrong date format (must be YYYY-MM-DD string)
- ‚ùå DON'T forget alt text on images

---

## üîó URL Structure

- Homepage: `/index.html`
- About: `/about.html`
- Potion: `/potions/[category]/[name].html`
- AI Manifest: `/uipotion-manifest.json`
- Potions Index: `/potions-index.json`
- Potion Guide: `/potions/[category]/[id].json`
- Skills: `/skills/[skill-name]/SKILL.md`

---

## üí° Quick Reference

| Task | Code |
|------|------|
| Build site | `harold-scripts build` |
| Dev server | `harold-scripts start` |
| Link to page | `{{relativePath 'about.html'}}` |
| Link to asset | `{{relativePath 'assets/images/logo.png'}}` |
| Format date | `{{formatDate date=publicationDate format='dd mmmm yyyy'}}` |
| Use partial | `{{> head}}` / `{{> footer}}` |
| Pass data | `{{> head title="Page"}}` |
| Post variable | `{{title}}`, `{{excerpt}}`, `{{tags}}` |
| Loop tags | `{{#each tags}}{{this}}{{/each}}` |

---

## üß† Key Concepts

1. **Potions** = Markdown + Front Matter ‚Üí processed by layout ‚Üí HTML
2. **Pages** = Handlebars ‚Üí compiled ‚Üí HTML
3. **Layouts** = Handlebars templates that wrap potion content
4. **Partials** = Reusable Handlebars components (auto-registered)
5. **Helpers** = Functions available in templates (registered at build)
6. **Assets** = Copied as-is to `build/assets/`
7. **Statics** = Copied from `src/statics/` to `build/` root (manifests, schemas, skills)

---

## üéì How Harold Build Works

```
1. harold-scripts build
   ‚Üì
2. prepareDirectories() - Create build/potions/, etc.
   ‚Üì
3. copyAssets() - Copy src/assets/ ‚Üí build/assets/
   ‚Üì
4. registerHelpers() - Register formatDate, relativePath, etc.
   ‚Üì
5. generatePartials() - Register src/partials/*.hbs
   ‚Üì
6. generatePosts() - For each .md in src/potions/**:
   - Normalize line endings (CRLF ‚Üí LF)
   - Parse front matter
   - Validate required fields
   - Convert markdown ‚Üí HTML
   - Enhance images
   - Apply layout template
   - Minify HTML
  - Write to build/potions/[category]/[name].html
   ‚Üì
7. generateStyles() - Compile SCSS ‚Üí CSS ‚Üí minify ‚Üí build/styles/
   ‚Üì
8. generatePages() - For each .hbs in src/pages/:
   - Compile with Handlebars
   - Minify HTML
   - Write to build/[name].html
   ‚Üì
9. copyStatics() - Copy src/statics/**/* ‚Üí build/ (root)
```

---

## üéâ Philosophy

### UI Potion Philosophy
- **Framework Agnostic**: Specifications work for any framework
- **Styling Agnostic**: Specifications work for any CSS approach
- **AI-First**: JSON guides are primary interface
- **Zero Maintenance**: Specs don't break when frameworks update
- **Always Current**: AI generates code using latest patterns

### Harold Philosophy
- **Simple by Design**: No complex bundlers
- **No Framework Lock-in**: Just Markdown ‚Üí HTML + CSS
- **Fast Builds**: Optimized for speed
- **Fast Sites**: Static output is blazing fast

---

## üîÑ Dev Server (harold-scripts start)

1. Run initial build
2. Start HTTP server on port 3000
3. Serve files from `build/` directory
4. Watch `src/` for changes (chokidar)
5. On change: Rebuild affected files
6. Browser auto-refreshes (via no-cache headers)

**Watched**:
- `src/potions/**/*.md` ‚Üí Rebuild potions
- `src/pages/*.hbs` ‚Üí Rebuild pages
- `src/styles/*.scss` ‚Üí Rebuild styles
- `src/partials/*.hbs` ‚Üí Rebuild all (partials affect everything)
- `src/potion-layouts/*.hbs` ‚Üí Rebuild potions
- `src/assets/**/*` ‚Üí Copy assets
- `src/statics/**/*` ‚Üí Copy statics to root

---

## üöÄ When in Doubt

1. Look at `src/potions/layouts/dashboard.md` and `src/statics/potions/layouts/dashboard.json` as reference
2. Ensure framework and styling agnosticism
3. Provide comprehensive specifications, not just code
4. Use `{{relativePath}}` for ALL links and assets
5. Test with `harold-scripts build` frequently
6. Remember: AI agents are the primary consumers of JSON guides
7. Follow established Harold patterns
8. Keep it simple

---

**You're ready to build UI Potion with Harold!** üöÄ

**Remember**: UI Potion provides specifications, not code. AI agents transform these specs into production-ready implementations adapted to each developer's stack.
